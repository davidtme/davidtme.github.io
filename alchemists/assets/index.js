(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Oe(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Ai(e){return e!=null&&typeof e.GetEnumerator=="function"}function Oi(e){return e!=null&&typeof e.CompareTo=="function"}function Li(e){return e!=null&&typeof e.Equals=="function"}function Pi(e){return e!=null&&typeof e.GetHashCode=="function"}function $i(e){return e!=null&&typeof e.Dispose=="function"}function ne(e){$i(e)&&e.Dispose()}function Ye(){return null}function Xn(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class Bi{constructor(t){this.iter=t,this.current=Ye()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function X(e){return Ai(e)?e.GetEnumerator():new Bi(e[Symbol.iterator]())}function Jt(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class ho{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function ee(e,t){return e.toString(10).padStart(t,"0")}function ps(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function Hi(e,t){return e=e<0&&t!=null&&t!==10?65535+e+1:e,e.toString(t)}function wt(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class mt{static id(t){return mt.idMap.has(t)||mt.idMap.set(t,++mt.count),mt.idMap.get(t)}}mt.idMap=new WeakMap;mt.count=0;function ir(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function st(e){return e*2654435761|0}function Ui(e){return ir(e.toString(32))}function vn(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function Wi(e){return e.getTime()}function Ni(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=lt(e[r]);return vn(n)}function lt(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return st(e);case"bigint":return Ui(e);case"string":return ir(e);default:{if(Pi(e))return e.GetHashCode();if(Oe(e))return Ni(e);if(e instanceof Date)return Wi(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>lt(n));return vn(t)}else return st(mt.id(e))}}}function Ir(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function mo(e,t){return Ir(e,t,ve)}function Gi(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!ve(e[n[s]],t[r[s]]))return!1;return!0}function ve(e,t){return e===t?!0:e==null?t==null:t==null?!1:Li(e)?e.Equals(t):Oe(e)?Oe(t)&&mo(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&qr(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&Gi(e,t)}function qr(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+ps(e),r=t.getTime()+ps(t)),n===r?0:n<r?-1:1}function _o(e,t){return e===t?0:e<t?-1:1}function Zi(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function po(e,t){return Zi(e,t,Qe)}function Yi(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=Qe(e[i],t[i]),o!==0)return o}return 0}function Qe(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:Oi(e)?e.CompareTo(t):Oe(e)?Oe(t)?po(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?qr(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?Yi(e,t):-1}function go(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}function Vr(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),o=r-s,i=1e-8,u=o>.5-i&&o<.5+i?s%2===0?s:s+1:Math.round(r);return t?u/n:u}function ct(e){Oe(e)?e.splice(0):e.clear()}const wo=new WeakMap;function pe(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return wo.set(t,e),t}function Xi(e){if(e==null)return null;const t=(n,r,s)=>e(n)(r)(s);return wo.set(t,e),t}function Ki(e,t,n,r,s){if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))n.set(e.subarray(t,t+s),r);else for(let o=0;o<s;++o)n[r+o]=e[t+o]}function ji(e){let t=0,n="[";for(const r of e){if(t===0)n+=Xe(r);else if(t===100){n+="; ...";break}else n+="; "+Xe(r);t++}return n+"]"}function Xe(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return ji(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,s])=>r+" = "+Xe(s,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function qi(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=Xe(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>Xe(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class Se{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return qi(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>lt(n));return t.splice(0,0,st(this.tag)),vn(t)}Equals(t){return this===t?!0:Xn(this,t)&&this.tag===t.tag?mo(this.fields,t.fields):!1}CompareTo(t){return this===t?0:Xn(this,t)?this.tag===t.tag?po(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function zi(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function Ji(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+Xe(n)).join(`
  `)+" }"}function Qi(e){const t=Object.values(e).map(n=>lt(n));return vn(t)}function eu(e,t){if(e===t)return!0;if(Xn(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!ve(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function tu(e,t){if(e===t)return 0;if(Xn(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=Qe(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class ${toJSON(){return zi(this)}toString(){return Ji(this)}GetHashCode(){return Qi(this)}Equals(t){return eu(this,t)}CompareTo(t){return tu(this,t)}}class le{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}class nu{constructor(t){this.message=t}}function ru(e){return e instanceof nu||e instanceof Error}function su(e){return e instanceof Promise}function gs(e){return ru(e)||su(e)?e:new Error(String(e))}const Qt=Symbol("numeric");function yo(e){return typeof e=="number"||typeof e=="bigint"||e?.[Qt]}function ou(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Fr(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[Qt]().multiply(t)}function Gn(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[Qt]().toFixed(t)}function Kn(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[Qt]().toPrecision(t)}function jn(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[Qt]().toExponential(t)}function qn(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[Qt]().toHex()}class tt{constructor(t,n,r,s,o,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=o,this.cases=i,this.enumCases=u}toString(){return ae(this)}GetHashCode(){return bo(this)}Equals(t){return Ar(this,t)}}function ot(e){return e.generics!=null?e.generics:[]}function bo(e){const t=ir(e.fullname),n=ot(e).map(bo);return vn([t,...n])}function Ar(e,t){return e.fullname===""?t.fullname===""&&Ir(zn(e),zn(t),([n,r],[s,o])=>n===s&&Ar(r,o)):e.fullname===t.fullname&&Ir(ot(e),ot(t),Ar)}function In(e,t,n,r){return new tt(e,t,n,void 0,r)}function iu(e){return new tt("Microsoft.FSharp.Collections.FSharpList`1",[e])}function zr(e){return new tt("[]",[e])}const uu=new tt("System.Object"),Jr=new tt("System.String"),Wt=new tt("System.Int32");function Qr(e){if(Array.isArray(e))return e[0];if(e instanceof tt){const t=ur(e);if(t!=null)return Qr(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function ae(e){const t=ur(e);return t!=null?ae(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>ae(n)).join(",")+"]"}function lu(e){return ur(e)!=null}function ur(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function cu(e){return e.generics!=null&&e.generics.length>0}function So(e){return e.enumCases!=null&&e.enumCases.length>0}function au(e){return e.generics==null?e:new tt(e.fullname,e.generics.map(()=>uu))}function fu(e){return e.generics?.[0]}function $t(e){if(So(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function du(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function Bt(e,t){const n=parseInt(t,10);return du(e,isNaN(n)?t:n)[1]}function hu(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function zn(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function mu(e){if(Co(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function _u(e){return e instanceof tt?e.cases!=null:e instanceof Se}function pu(e){return e instanceof tt?e.fields!=null:e instanceof $}function Co(e){return e.fullname.startsWith("System.Tuple")}function gu(e){return e.fields==null?[]:e.fields}function wu(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function yu(e,t){const n=zn(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,o],i)=>(r[s]=t[i],r),{})}function bu(e,t){return e}const Tt={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function Sr(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function Su(e,t){switch(t){case Tt.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Tt.SnakeCase:return Sr(e,"_");case Tt.SnakeCaseAllCaps:return Sr(e,"_").toUpperCase();case Tt.KebabCase:return Sr(e,"-");case Tt.None:default:return e}}function Cu(e,t=Tt.None){const n={},r=t;function s(i){throw new Error("Cannot infer key and value of "+String(i))}function o(i,u,l){i=Su(i,u),n[i]=l}for(let i of e){let u=Tt.None;if(i==null&&s(i),i instanceof Se){const l=i.cases()[i.tag];i=i.fields.length===0?l:[l].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:s(i);break;case 1:o(i[0],u,!0);break;case 2:const l=i[1];o(i[0],u,l);break;default:o(i[0],u,i.slice(1))}else typeof i=="string"?o(i,u,!0):s(i)}return n}function lr(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Eu(e,t){return t.has(e)?!1:(t.add(e),!0)}function Mu(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}class xu extends ${constructor(t,n,r){super(),this.Pixels=t,this.Width=n,this.Height=r}}class cr extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,cr.prototype)}}function Ru(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new cr);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(n){t.onError(gs(n))}});else try{e(t)}catch(n){t.onError(gs(n))}}}class jt{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return lt(this.value)}Equals(t){return t==null?!1:ve(this.value,t instanceof jt?t.value:t)}CompareTo(t){return t==null?1:Qe(this.value,t instanceof jt?t.value:t)}}function x(e){if(e==null)throw new Error("Option has no value");return e instanceof jt?e.value:e}function be(e){return e==null||e instanceof jt?new jt(e):e}function It(e){return e==null?[]:[x(e)]}function y(e,t){return e!=null?x(e):t}function Eo(e,t){return t!=null?be(e(x(t))):void 0}class Cr extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Choice1Of2","Choice2Of2"]}}function ku(e){return Tu(t=>e.then(t[0]).catch(n=>(n instanceof cr?t[2]:t[1])(n)))}function Tu(e){return Ru(t=>e([t.onSuccess,t.onError,t.onCancel]))}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function Du(e,t){return e===t}function Mo(e,t){return e+t}function xo(e){return BigInt(e)}function vu(e){return BigInt(Math.trunc(e))}function Iu(e){return BigInt(e)}function Vn(e){return BigInt.asIntN(64,e)}function ws(e){return Number(e)}const Vu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Fu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Au=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ou=["January","February","March","April","May","June","July","August","September","October","November","December"];function Re(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function ys(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function Lu(e,t){let n=t;const r=e[t];let s="",o=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){o=!0;break}else if(i==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=i}if(!o)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function es(e,t,n){let r=0,s=0,o="";const i=n?St(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(s=Re(t,r,"d"),r+=s,s){case 1:o+=Ss(i);break;case 2:o+=ee(Ss(i),2);break;case 3:o+=Vu[Ms(i)];break;case 4:o+=Fu[Ms(i)];break}break;case"f":if(s=Re(t,r,"f"),r+=s,s<=3){const m=10**(3-s);o+=ee(Math.floor(Ln(i)/m),s)}else s<=7&&(o+=(""+Ln(i)).padEnd(s,"0"));break;case"F":if(s=Re(t,r,"F"),r+=s,s<=3){const m=10**(3-s),w=Math.floor(Ln(i)/m);w!=0&&(o+=ee(w,s))}else if(s<=7){const m=Ln(i);m!=0&&(o+=ee(m,3))}break;case"g":s=Re(t,r,"g"),r+=s,s<=2&&(o+="A.D.");break;case"h":switch(s=Re(t,r,"h"),r+=s,s){case 1:o+=On(i)%12;break;case 2:o+=ee(On(i)%12,2);break}break;case"H":switch(s=Re(t,r,"H"),r+=s,s){case 1:o+=On(i);break;case 2:o+=ee(On(i),2);break}break;case"K":switch(s=Re(t,r,"K"),r+=s,s){case 1:switch(bs(i)){case 1:o+="Z";break;case 2:o+=Xt(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=Re(t,r,"m"),r+=s,s){case 1:o+=Cs(i);break;case 2:o+=ee(Cs(i),2);break}break;case"M":switch(s=Re(t,r,"M"),r+=s,s){case 1:o+=Pn(i);break;case 2:o+=ee(Pn(i),2);break;case 3:o+=Au[Pn(i)-1];break;case 4:o+=Ou[Pn(i)-1];break}break;case"s":switch(s=Re(t,r,"s"),r+=s,s){case 1:o+=Es(i);break;case 2:o+=ee(Es(i),2);break}break;case"t":switch(s=Re(t,r,"t"),r+=s,s){case 1:o+=i.getHours()<12?"A":"P";break;case 2:o+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(s=Re(t,r,"y"),r+=s,s){case 1:o+=i.getFullYear()%100;break;case 2:o+=ee(i.getFullYear()%100,2);break;case 3:o+=ee(i.getFullYear(),3);break;case 4:o+=ee(i.getFullYear(),4);break;case 5:o+=ee(i.getFullYear(),5);break}break;case"z":s=Re(t,r,"z"),r+=s;let l="";switch(bs(i)){case 1:l="+00:00";break;case 2:l=Xt(i.getTimezoneOffset()*-6e4);break;case 0:l=Xt(Zu(i).getTimezoneOffset()*-6e4);break}const c=l[0]==="-"?"-":"+",f=parseInt(l.substring(1,3),10),d=parseInt(l.substring(4,6),10);switch(s){case 1:o+=`${c}${f}`;break;case 2:o+=`${c}${ee(f,2)}`;break;default:o+=`${c}${ee(f,2)}:${ee(d,2)}`;break}break;case":":o+=":",r++;break;case"/":o+="/",r++;break;case"'":case'"':const[h,g]=Lu(t,r);o+=h,r+=g;break;case"%":const p=ys(t,r);if(p>=0&&p!=="%".charCodeAt(0))r+=2,o+=es(i,String.fromCharCode(p),n);else throw new Error("Invalid format string");break;case"\\":const _=ys(t,r);if(_>=0)r+=2,o+=String.fromCharCode(_);else throw new Error("Invalid format string");break;default:r++,o+=u;break}}return o}function bs(e){return e.kind||0}function Xt(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+ee(n,2)+":"+ee(r,2)}function Jn(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Pu(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return ee(e.getFullYear(),4)+"-"+ee(e.getMonth()+1,2)+"-"+ee(e.getDate(),2)+"T"+ee(e.getHours(),2)+":"+ee(e.getMinutes(),2)+":"+ee(e.getSeconds(),2)+"."+ee(e.getMilliseconds(),3)+(n?Xt(e.getTimezoneOffset()*-6e4):"")}}function $u(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+Xt(t)}function Bu(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+Xt(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return Jn(n,"first");case"T":case"t":return Jn(n,"second");case"O":case"o":return $u(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return es(n,t,!0)}function Hu(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?Jn(e,"first"):e.toLocaleDateString();case"T":case"t":return n?Jn(e,"second"):e.toLocaleTimeString();case"O":case"o":return Pu(e,n);default:throw new Error("Unrecognized Date print format")}else return es(e,t,n)}function Ro(e,t,n){return e.offset!=null?Bu(e,t):Hu(e,t)}function St(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function Uu(){return St(-621355968e5,0)}function ko(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let o,i=0;if(s[2]!=null){const u=s[2].split(":"),l=parseInt(u[0],10);i=l*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&l<12&&(i+=720)}if(s[4]!=null){if(s[1]!=null)o=new Date(s[1]+" UTC");else{const u=new Date;o=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(s[4]==="Z")r="Z";else{let u=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(s[1]!=null)o=new Date(s[1]);else{const u=new Date;o=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(o.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-o.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function Wu(e,t=!1){const[n,r]=ko(e),s=r!=null?t&&r==="Z"?1:2:0;return St(n.getTime(),s)}function Nu(e,t){try{return t.contents=Wu(e),!0}catch{return!1}}function Sn(){return St(Date.now(),1)}function Gu(e){return e.kind===1?e:St(e.getTime(),1)}function Zu(e){return e.kind===2?e:St(e.getTime(),2)}function Ss(e){return e.kind===1?e.getUTCDate():e.getDate()}function On(e){return e.kind===1?e.getUTCHours():e.getHours()}function Ln(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function Cs(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function Pn(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function Es(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function Ms(e){return e.kind===1?e.getUTCDay():e.getDay()}function To(e,t){const n=St(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?St(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function Do(e,t){return To(e,t)}function Yu(e,t){return typeof t=="number"?To(e,-t):e.getTime()-t.getTime()}const Xu=qr;function Ku(e,t){return Yu(e,t)}function ju(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function qu(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function xs(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let s,o=-1;for(;(s=e.exec(t))!=null;)s.index===o?e.lastIndex++:(o=s.index,r.push(s));return r}function zu(e,t,n,r,s=0){function o(){let i=arguments[0];if(r){r--;const u=[],l=arguments.length,c=typeof arguments[l-1]!="string";let f=c?l-3:l-2;for(let d=0;d<f;d++)u.push(arguments[d]);u.index=arguments[f++],u.input=arguments[f++],c&&(u.groups=arguments[f]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=ju(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,s)+t.substring(s).replace(e,o);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(s),l=xs(e,u),c=xs.length>r?(i=l[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,s)+c.replace(e,n)+t.substring(s+c.length)}else return t.replace(e,n)}const ln=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,cn=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g,Ju=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function vo(e,t){return ou(e,t)<0}function Qn(e){return{input:e,cont:nl(e)}}function Qu(e,t){let n=0,r=0,s="";cn.lastIndex=0;let o=cn.exec(e);for(;o;){const i=o.index+(o[1]||"").length;s+=e.substring(r,i).replace(/%%/g,"%");const[,,u,l,c,f]=o;r=cn.lastIndex,s+=Io(t[n++],u,l,c,f),cn.lastIndex=r-1,o=cn.exec(e)}return s+=e.substring(r).replace(/%%/g,"%"),s}function ts(e,t){return typeof t=="string"?e(t):t.cont(e)}function el(e){return ts(t=>console.log(t),e)}function er(e){return ts(t=>t,e)}function tl(e){return ts(t=>{throw new Error(t)},e)}function Io(e,t,n,r,s){let o="";if(t=t||"",s=s||"",yo(e))switch(s.toLowerCase()!=="x"&&(vo(e,0)?(e=Fr(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=Gn(e,r);break;case"g":case"G":e=r!=null?Kn(e,r):Kn(e);break;case"e":case"E":e=r!=null?jn(e,r):jn(e);break;case"x":e=qn(e);break;case"X":e=qn(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=Ro(e):e=Xe(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!i?" ":"0";l==="0"?(e=Cn(e,n-o.length,l,u),e=o+e):e=Cn(o+e,n,l,u)}return e}function Vo(e,t,n,r="",s=-1){return(...o)=>{let i=r;const u=t.slice(),l=n.slice();for(const c of o){const[,,f,d,h,g]=l[0];let p=d;if(s>=0)p=s,s=-1;else if(p==="*"){if(c<0)throw new Error("Non-negative number required");s=c;continue}i+=u[0],i+=Io(c,f,p,h,g),u.splice(0,1),l.splice(0,1)}return l.length===0?(i+=u[0],e(i)):Vo(e,u,l,i,s)}}function nl(e){return t=>{ln.lastIndex=0;const n=[],r=[];let s=0,o=ln.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=ln.lastIndex,ln.lastIndex-=1,o=ln.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),Vo(t,n,r))}}function rl(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(Ju,(r,s,o,i,u,l)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let c=t[s];if(yo(c))switch(u=u==null?null:parseInt(u,10),i){case"f":case"F":u=u??2,c=Gn(c,u);break;case"g":case"G":c=u!=null?Kn(c,u):Kn(c);break;case"e":case"E":c=u!=null?jn(c,u):jn(c);break;case"p":case"P":u=u??2,c=Gn(Fr(c,100),u)+" %";break;case"d":case"D":c=u!=null?Er(String(c),u,"0"):String(c);break;case"x":case"X":c=u!=null?Er(qn(c),u,"0"):qn(c),i==="X"&&(c=c.toUpperCase());break;default:if(l){let f="";c=l.replace(/([0#,]+)(\.[0#]+)?/,(d,h,g)=>{vo(c,0)&&(c=Fr(c,-1),f="-"),g=g==null?"":g.substring(1),c=Gn(c,Math.max(g.length,0));let[p,_]=c.split(".");_||(_="");const m=h.replace(/,/g,"").replace(/^#+/,"").length;p=Er(p,m,"0");const w=g.replace(/#+$/,"").length;if(w>_.length?_=sl(_,w,"0"):w<_.length&&(_=_.substring(0,w)+_.substring(w).replace(/0+$/,"")),h.indexOf(",")>0){const E=p.length%3,C=Math.floor(p.length/3);let D=E>0?p.substr(0,E)+(C>0?",":""):"";for(let k=0;k<C;k++)D+=p.substr(E+k*3,3)+(k<C-1?",":"");p=D}return _.length>0?p+"."+_:p}),c=f+c}}else c instanceof Date?c=Ro(c,l||i):c=Xe(c);return o=parseInt((o||" ").substring(1),10),isNaN(o)||(c=Cn(String(c),Math.abs(o)," ",o<0)),c})}function ar(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function Cn(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function Er(e,t,n){return Cn(e,t,n)}function sl(e,t,n){return Cn(e,t,n,!0)}function ol(e,t){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.");return e[t]}function il(e,...t){if(t.length===0)return e.trim();const n="["+qu(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function Ht(e,t,n){if(t+(n||0)>e.length)throw new Error("Invalid startIndex and/or length");return n!=null?e.substr(t,n):e.substr(t)}const ul="The index was outside the range of elements in the collection.",Fo="Collection was empty.";function ns(e,t){return typeof e=="function"?new e(t):new Array(t)}function En(e,t){return e>t?e:t}function tr(e,t){return e<t?e:t}function en(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function rs(e,t,n){const r=t.length|0,s=ns(n,r);for(let o=0;o<=r-1;o++)At(s,o,e(V(o,t)));return s}function ll(e,t,n,r,s){const o=y(n,0)|0,i=y(Eo(l=>o+l,r),e.length)|0;return(l=>{e:for(;;){const c=l;if(c>=i)return-1;if(s.Equals(t,V(c,e)))return c|0;l=c+1;continue e}})(o)|0}function cl(e,t,n){return ll(t,e,void 0,void 0,n)>=0}function al(e,t){const n=ns(t,1);return At(n,0,e),n}function Rs(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=ns(n,e);for(let s=0;s<=e-1;s++)At(r,s,t(s));return r}function Zn(e,t,n,r,s){Ki(e,t,n,r,s)}function fl(e){return e.slice().reverse()}function dl(e,t){t.push(e)}function Mn(e,t){const n=X(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)dl(n["System.Collections.Generic.IEnumerator`1.get_Current"](),t)}finally{ne(n)}}function hl(e,t){return t.find(e)}function fr(e,t,n){const r=e;return n.reduce(r,t)}function V(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function At(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function Or(e,t){if(!(e<0||e>=t.length))return be(t[e])}function ml(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class Le extends ${constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+ar("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const f=x(l),d=x(c);if(ve(i.head,u.head)){s=f,o=d;continue e}else return!1}else return!1;else return c==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,u=s,l=o,c=l.tail;if(c!=null){const f=x(c);if(i>18)return u|0;r=i+1,s=(u<<1)+lt(l.head)+631*i,o=f;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const f=x(l),d=x(c),h=Qe(i.head,u.head)|0;if(h===0){s=f,o=d;continue e}else return h|0}else return 1;else return c!=null?-1:0}})(this,t)|0}GetEnumerator(){return pl(this)}[Symbol.iterator](){return Jt(X(this))}"System.Collections.IEnumerable.GetEnumerator"(){return X(this)}}class _l{constructor(t){this.xs=t,this.it=this.xs,this.current=Ye()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=x(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=Ye()}Dispose(){}}function pl(e){return new _l(e)}function et(){return new Le(Ye(),void 0)}function Fn(e,t){return new Le(e,t)}function An(e){return e.tail==null}function Ao(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=x(i);continue e}else return s|0}})(0,e)|0}function dr(e){if(e.tail!=null)return e.head;throw new Error(Fo+"\\nParameter name: list")}function Ct(e){const t=e.tail;if(t!=null)return x(t);throw new Error(Fo+"\\nParameter name: list")}function gl(e,t){return((r,s)=>{e:for(;;){const o=r,i=s,u=i.tail;if(u!=null){if(o===t)return i.head;r=o+1,s=x(u);continue e}else throw new Error(ul+"\\nParameter name: index")}})(0,e)}function Pe(){return et()}function qe(e,t){return Fn(e,t)}function ze(e){return Fn(e,et())}function N(e){return An(e)}function Oo(e){return Ao(e)}function I(e){return dr(e)}function U(e){return Ct(e)}function hr(e){const t=Ao(e)|0,n=en(new Array(t),0,t,null);return((s,o)=>{e:for(;;){const i=s,u=o;if(!An(u)){At(n,i,dr(u)),s=i+1,o=Ct(u);continue e}break}})(0,e),n}function tn(e,t,n){let r=t,s=n;for(;!An(s);)r=e(r,I(s)),s=Ct(s);return r}function ss(e){return tn((t,n)=>Fn(n,t),et(),e)}function wl(e,t,n){return((s,o,i)=>{e:for(;;){const u=s,l=o,c=i;if(An(c))return l;s=u+1,o=e(u,l,dr(c)),i=Ct(c);continue e}})(0,t,n)}function yl(e,t){tn((n,r)=>{e(r)},void 0,t)}function te(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Fn(V(r,e),n);return n}function os(e){return te(e,et())}function bl(e){let t,n;if(Oe(e))return os(e);if(e instanceof Le)return e;{const r=et();let s=r;const o=X(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const l=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new Le(l,void 0),t.tail=n,n)}}finally{ne(o)}const i=s,u=et();return i.tail=u,Ct(r)}}function Sl(e){const t=et();let n=t;const r=i=>{n=tn((u,l)=>{const c=new Le(l,void 0);return u.tail=c,c},n,i)};if(Oe(e))e.forEach(r);else if(e instanceof Le)yl(r,e);else{const i=X(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();)r(i["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{ne(i)}}const s=n,o=et();return s.tail=o,Ct(t)}function Lr(e,t){return tn((n,r)=>Fn(r,n),t,ss(e))}function Cl(e,t){const n=et(),r=wl((o,i,u)=>{const l=new Le(e(o,u),void 0);return i.tail=l,l},n,t),s=et();return r.tail=s,Ct(n)}function El(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(An(i))return;if(o===e)return be(dr(i));r=o+1,s=Ct(i);continue e}})(0,t)}function Ml(e,t){return gl(t,e)}function xl(e){return new S(0,[e])}function Lo(e){return new S(1,[e])}class S extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function at(e,t){return t.tag===0?xl(e(t.fields[0])):Lo(t.fields[0])}function Rl(e,t){return t.tag===0?e(t.fields[0]):Lo(t.fields[0])}class kl{constructor(){}}function Tl(){return new kl}function Dl(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function vl(e,t){return t.then(n=>n)}const ks=Tl();function Il(e){throw new Error(e)}const Vl="Enumeration already finished.",Fl="Enumeration has not started. Call MoveNext.",Al="Reset is not supported on this enumerator.";function Ol(){throw new Error(Al)}function is(){throw new Error(Fl)}function Pr(){throw new Error(Vl)}class Ll{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=X(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+Xe(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{ne(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return Jt(X(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function Pl(e){return new Ll(e)}class $l{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){Ol()}Dispose(){this.dispose()}}function us(e,t,n){return new $l(e,t,n)}function Bl(e){let t,n,r=!1,s=!1,o;const i=()=>{if(s=!0,n!=null){const u=x(n);try{ne(u)}finally{n=void 0}}if(t!=null){const u=x(t);try{ne(u)}finally{t=void 0}}};return us(()=>(r?s&&Pr():is(),o!=null?x(o):Pr()),()=>{let u;if(r||(r=!0),s)return!1;{let l;for(;l==null;){const c=t,f=n;if(c!=null)if(f!=null){const d=x(f);if(d["System.Collections.IEnumerator.MoveNext"]())o=be(d["System.Collections.Generic.IEnumerator`1.get_Current"]()),l=!0;else try{ne(d)}finally{n=void 0}}else{const d=x(c);d["System.Collections.IEnumerator.MoveNext"]()?n=(u=d["System.Collections.Generic.IEnumerator`1.get_Current"](),X(u)):(i(),l=!1)}else t=X(e)}return x(l)}},()=>{s||i()})}function Hl(e,t,n){let r=!1,s,o=be(e());const i=()=>{if(o!=null){const l=x(o);try{n(l)}finally{o=void 0}}},u=()=>{try{i()}finally{s=void 0}};return us(()=>(r||is(),s!=null?x(s):Pr()),()=>{if(r||(r=!0),o!=null){const l=x(o);let c;try{c=t(l)}catch(f){throw u(),f}return c!=null?(s=c,!0):(u(),!1)}else return!1},i)}function Ul(e,t){let n,r=t;return us(()=>{if(n!=null){const s=x(n)[0];return x(n)[1],s}else return is()},()=>(n=e(r),n!=null?(x(n)[0],r=x(n)[1],!0):!1),()=>{})}function Wl(e,t){t==null&&Il(e)}function mr(e){return Pl(e)}function qt(e){return Wl("source",e),X(e)}function Je(e){return mr(()=>X(e()))}function Po(e){return mr(()=>Bl(e))}function $o(e,t){return mr(()=>Ul(e,t))}function Bo(){return Je(()=>new Array(0))}function Ho(e){return Je(()=>al(e))}function Nl(e){return e instanceof Le?hr(e):Array.from(e)}function Ts(e){return Oe(e)?os(e):e instanceof Le?e:bl(e)}function Gl(e,t,n){return mr(()=>Hl(e,t,n))}function ls(e,t){return Po([e,t])}function Zl(e,t,n){const r=qt(t);try{const s=qt(n);try{let o=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]();for(;o===0&&i&&u;)o=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,o===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]());return(o!==0?o:i?1:u?-1:0)|0}finally{ne(s)}}finally{ne(r)}}function Ut(e,t,n){const r=qt(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{ne(r)}}function Uo(e,t){return Po($o(n=>e()?[t,n+1]:void 0,0))}function Wo(e,t,n){const r=qt(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{ne(r)}}function Yl(e,t){if(Oe(t))return Or(e,t);if(t instanceof Le)return El(e,t);{const n=qt(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(o===0)return be(n["System.Collections.Generic.IEnumerator`1.get_Current"]());s=o-1;continue e}else return;break}})(e)}finally{ne(n)}}}function ye(e,t){Wo((n,r)=>{e(r)},void 0,t)}function _t(e,t){return Gl(()=>qt(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?be(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{ne(n)})}function Xl(e){return Je(()=>fl(Nl(e)))}function Kl(e){return wt(e.status)+" "+e.statusText+" for URL "+e.url}function jl(e,t){return fetch(e,Cu(t,1)).then(r=>{if(r.ok)return r;throw new Error(Kl(r))})}class No{constructor(t,n){this.k=t,this.v=n}}function xn(e,t){return new No(e,t)}function ue(e){return e.k}function we(e){return e.v}class ie extends No{constructor(t,n,r,s,o){super(t,n),this.left=r,this.right=s,this.h=o|0}}function pn(e,t,n,r,s){return new ie(e,t,n,r,s)}function me(e){return e.left}function _e(e){return e.right}function pt(e){return e.h}function Go(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=x(r);if(s instanceof ie){const o=s;e=Go(n+1,me(o)),t=_e(o);continue e}else return n+1|0}else return n|0}}function ql(e){return Go(0,e)}function Ue(e,t,n,r){let s,o,i;const u=e;if(u!=null){const d=x(u);i=d instanceof ie?(s=d,pt(s)):1}else i=0;let l;const c=r;if(c!=null){const d=x(c);l=d instanceof ie?(o=d,pt(o)):1}else l=0;const f=(i<l?l:i)|0;return f===0?xn(t,n):pn(t,n,e,r,f+1)}function Ds(e,t,n,r){let s,o,i,u,l,c,f,d,h;const g=e;if(g!=null){const m=x(g);h=m instanceof ie?(s=m,pt(s)):1}else h=0;let p;const _=r;if(_!=null){const m=x(_);p=m instanceof ie?(o=m,pt(o)):1}else p=0;if(p>h+2){const m=x(r);if(m instanceof ie){const w=m;if(i=me(w),(i!=null?(u=x(i),u instanceof ie?(l=u,pt(l)):1):0)>h+1){const E=x(me(w));if(E instanceof ie){const C=E;return Ue(Ue(e,t,n,me(C)),ue(C),we(C),Ue(_e(C),ue(w),we(w),_e(w)))}else throw new Error("internal error: Map.rebalance")}else return Ue(Ue(e,t,n,me(w)),ue(w),we(w),_e(w))}else throw new Error("internal error: Map.rebalance")}else if(h>p+2){const m=x(e);if(m instanceof ie){const w=m;if(c=_e(w),(c!=null?(f=x(c),f instanceof ie?(d=f,pt(d)):1):0)>p+1){const E=x(_e(w));if(E instanceof ie){const C=E;return Ue(Ue(me(w),ue(w),we(w),me(C)),ue(C),we(C),Ue(_e(C),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Ue(me(w),ue(w),we(w),Ue(_e(w),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Ue(e,t,n,r)}function zt(e,t,n,r){if(r!=null){const s=x(r),o=e.Compare(t,ue(s))|0;if(s instanceof ie){const i=s;return o<0?Ds(zt(e,t,n,me(i)),ue(i),we(i),_e(i)):o===0?pn(t,n,me(i),_e(i),pt(i)):Ds(me(i),ue(i),we(i),zt(e,t,n,_e(i)))}else return o<0?pn(t,n,void 0,r,2):o===0?xn(t,n):pn(t,n,r,void 0,2)}else return xn(t,n)}function Zo(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=x(o),u=r.Compare(s,ue(i))|0;if(u===0)return be(we(i));if(i instanceof ie){const l=i;e=r,t=s,n=u<0?me(l):_e(l);continue e}else return}else return}}function zl(e,t,n){const r=Zo(e,t,n);if(r==null)throw new Error;return x(r)}function Jl(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=x(o),u=r.Compare(s,ue(i))|0;if(i instanceof ie){const l=i;if(u<0){e=r,t=s,n=me(l);continue e}else{if(u===0)return!0;e=r,t=s,n=_e(l);continue e}}else return u===0}else return!1}}function Yo(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=x(r);if(s instanceof ie){const o=s;Yo(n,me(o)),n(ue(o),we(o)),e=n,t=_e(o);continue e}else n(ue(s),we(s))}break}}function Ql(e,t){Yo(e,t)}function $r(e,t){if(t!=null){const n=x(t);if(n instanceof ie){const r=n,s=$r(e,me(r)),o=e(ue(r),we(r)),i=$r(e,_e(r));return pn(ue(r),o,s,i,pt(r))}else return xn(ue(n),e(ue(n),we(n)))}else return void 0}function ec(e,t){return $r(e,t)}function tc(e,t,n){let r=n;Ql((s,o)=>{At(t,r,[s,o]),r=r+1|0},e)}function nc(e,t){return tn((n,r)=>zt(e,r[0],r[1],n),void 0,t)}function rc(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=zt(r,i[0],i[1],s),n=o;continue e}else return s}}function sc(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=V(r,t);n=zt(e,s[0],s[1],n)}return n}function oc(e,t){if(Oe(t))return sc(e,t);if(t instanceof Le)return nc(e,t);{const n=X(t);try{return rc(e,void 0,n)}finally{ne(n)}}}class ic extends ${constructor(t,n){super(),this.stack=t,this.started=n}}function Xo(e){e:for(;;){const t=e;if(N(t))return Pe();{const n=U(t),r=I(t);if(r!=null){const s=x(r);if(s instanceof ie){const o=s;e=te([me(o),xn(ue(o),we(o)),_e(o)],n);continue e}else return t}else{e=n;continue e}}}}function vs(e){return new ic(Xo(ze(e)),!1)}function uc(){throw new Error("enumeration not started")}function lc(){throw new Error("enumeration already finished")}function Is(e){if(e.started){const t=e.stack;if(N(t))return lc();if(I(t)!=null){const n=x(I(t));if(n instanceof ie)throw new Error("Please report error: Map iterator, unexpected stack for current");return[ue(n),we(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return uc()}function cc(e){if(e.started){const t=e.stack;if(N(t))return!1;if(I(t)!=null){if(x(I(t))instanceof ie)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=Xo(U(t)),!N(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!N(e.stack)}function Vs(e){let t=vs(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Is(t)},"System.Collections.IEnumerator.get_Current"(){return Is(t)},"System.Collections.IEnumerator.MoveNext"(){return cc(t)},"System.Collections.IEnumerator.Reset"(){t=vs(e)},Dispose(){}}}class nr{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return mc(this)|0}Equals(t){const n=this;if(t instanceof nr){const r=t,s=X(n);try{const o=X(r);try{const i=()=>{const u=s["System.Collections.IEnumerator.MoveNext"]();if(u===o["System.Collections.IEnumerator.MoveNext"]())if(u){const l=s["System.Collections.Generic.IEnumerator`1.get_Current"](),c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();return ve(l[0],c[0])&&ve(l[1],c[1])?i():!1}else return!0;else return!1};return i()}finally{ne(o)}}finally{ne(s)}}else return!1}toString(){return"map ["+ar("; ",_t(n=>rl("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return Vs(this.tree)}[Symbol.iterator](){return Jt(X(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Vs(this.tree)}CompareTo(t){const n=this;if(t instanceof nr)return Zl((s,o)=>{const i=n.comparer.Compare(s[0],o[0])|0;return(i!==0?i:Qe(s[1],o[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return As(n,t[0])&&ve(Fs(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){tc(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Mr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Mr(this)|0}get size(){return Mr(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return _t(n=>[n[0],n[1]],this)}get(t){return Fs(this,t)}has(t){return As(this,t)}keys(){return _t(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return _t(n=>n[1],this)}forEach(t,n){const r=this;ye(s=>{t(s[1],s[0],r)},r)}}function _r(e,t){return new nr(e,t)}function ac(e){return _r(e,void 0)}function fc(e,t,n){return _r(e.comparer,zt(e.comparer,t,n,e.tree))}function Fs(e,t){return zl(e.comparer,t,e.tree)}function dc(e,t){return _r(e.comparer,ec(t,e.tree))}function Mr(e){return ql(e.tree)}function As(e,t){return Jl(e.comparer,t,e.tree)}function hc(e,t){return Zo(e.comparer,t,e.tree)}function mc(e){const t=(s,o)=>(s<<1)+o+631;let n=0;const r=X(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,lt(s[0]))|0,n=t(n,lt(s[1]))|0}}finally{ne(r)}return n|0}function Ko(e,t,n){return fc(n,e,t)}function _c(e,t){return hc(t,e)}function pc(e,t){return dc(t,e)}function gc(e,t){return _r(t,oc(t,e))}function jo(e){return ac(e)}class wc{constructor(t,n){this.contents=t,this.count=n|0}GetEnumerator(){const t=this;return X(Je(()=>{let n=t.count-1;return Uo(()=>n>=0,Je(()=>ls(Ho(V(n,t.contents)),Je(()=>(n=n-1|0,Bo())))))}))}[Symbol.iterator](){return Jt(X(this))}"System.Collections.IEnumerable.GetEnumerator"(){return X(this)}}function yc(e,t){return new wc(e,t)}function bc(e){return yc(en(new Array(e),0,e,null),0)}function cs(){return bc(4)}function Sc(e,t){const n=e.contents.length|0;if(t>n){const r=e.contents;e.contents=en(new Array(En(t,n*2)),0,En(t,n*2),null),Zn(r,0,e.contents,0,e.count)}}function qo(e){return e.count}function as(e){return e.count=e.count-1|0,V(e.count,e.contents)}function Cc(e,t){return e.count>0?(t.contents=as(e),!0):!1}function fs(e,t){Sc(e,e.count+1),e.contents[e.count]=t,e.count=e.count+1|0}class Ec{constructor(t,n){this.contents=t,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return X(Ic(this))}[Symbol.iterator](){return Jt(X(this))}"System.Collections.IEnumerable.GetEnumerator"(){return X(this)}}function Mc(e,t){return new Ec(e,t)}function xc(e){if(e<0)throw new Error("capacity is less than 0");return Mc(en(new Array(e),0,e,null),0)}function Rc(){return xc(4)}function Nt(e,t){e.count===Vt(e)&&vc(e,e.count+1),e.contents[e.tail]=t,e.tail=(e.tail+1)%Vt(e)|0,e.count=e.count+1|0}function kc(e){if(e.count===0)throw new Error("Queue is empty");const t=V(e.head,e.contents);return e.head=(e.head+1)%Vt(e)|0,e.count=e.count-1|0,t}function Tc(e,t){return e.count===0?!1:(t.contents=kc(e),!0)}function Vt(e){return e.contents.length}function Dc(e,t){return(e.head+t)%Vt(e)}function vc(e,t){const n=en(new Array(t),0,t,null);e.head<e.tail?Zn(e.contents,e.head,n,0,e.count):(Zn(e.contents,e.head,n,0,Vt(e)-e.head),Zn(e.contents,0,n,Vt(e)-e.head,e.tail)),e.head=0,e.contents=n,e.tail=(e.count===Vt(e)?0:e.count)|0}function Ic(e){return Je(()=>{let t=0;return Uo(()=>t<e.count,Je(()=>ls(Ho(V(Dc(e,t),e.contents)),Je(()=>(t=t+1|0,Bo())))))})}const Vc=1e4;class Fc{constructor(t,n){this.create=t,this.clean=n,this.items=cs(),this.itemOut=0,this.total=0}}function Ac(e,t){return new Fc(e,t)}function Oc(e,t){if(e.total>Vc)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,qo(e.items)>0?as(e.items):(e.total=e.total+1|0,e.create(t))}function $n(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),fs(e.items,t)}class Lc{constructor(t,n){this.create=t,this.clean=n,this.items=cs(),this.itemOut=0,this.total=0}}function pr(e,t){return new Lc(e,t)}function Ge(e){if(e.total>1e3)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,qo(e.items)>0?as(e.items):(e.total=e.total+1|0,e.create())}function Ae(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),fs(e.items,t)}function Pc(e,t){const n=t.getShaderParameter(e,t.COMPILE_STATUS);console.log(be("Shader compiled successfully"),n);const r=t.getShaderInfoLog(e);console.log(be("Shader compiler log: "),r)}function $c(e,t){const n=t.getProgramInfoLog(e);console.log(be("getProgramInfoLog: "),n)}function Os(e,t){t.compileShader(e),Pc(e,t)}function Bc(e,t,n){const r=n.createShader(35633);n.shaderSource(r,e),Os(r,n);const s=n.createShader(35632);n.shaderSource(s,t),Os(s,n);const o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,s),n.linkProgram(o),$c(o,n),n.detachShader(o,r),n.detachShader(o,s),n.deleteShader(r),n.deleteShader(s),o}function Hc(e,t){const n=(i,u)=>{e:for(;;){const l=i,c=u;if(!N(l)){const f=I(l)[1];t.texSubImage3D(35866,0,0,0,c,f.Width,f.Height,1,6408,5121,f.Pixels),i=U(l),u=c+1;continue e}break}},r=t.createTexture();t.activeTexture(33984),t.bindTexture(35866,r);let s;if(s=(Oo(e)|0)>>>0,N(e))throw new Error("");{const i=I(e)[1];t.texStorage3D(35866,1,32856,i.Width,i.Height,s);const u=i;return t.texSubImage3D(35866,0,0,0,0,u.Width,u.Height,1,6408,5121,u.Pixels),n(U(e),1),t.texParameteri(35866,10242,10497),t.texParameteri(35866,10243,10497),t.texParameteri(35866,10241,9728),t.texParameteri(35866,10240,9728),[r,[i.Width,i.Height],new Map(Cl((l,c)=>[c[0],l>>>0],e))]}}const dn=Ac(e=>e.createBuffer(),e=>{});function hn(e,t){const n=Oc(dn,t),r=Float32Array.from(e);return t.bindBuffer(34962,n),t.bufferData(34962,r,35044),t.bindBuffer(34962,Ye()),n}const Uc=new Float32Array([0,1,0,0,1,1,1,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1]);class zo extends ${constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Z=r|0}}class ht extends ${constructor(t,n){super(),this.X=t|0,this.Y=n|0}}function Wc(){return In("Imp.CommonModels.Point",[],ht,()=>[["X",Wt],["Y",Wt]])}class Ls extends ${constructor(t,n){super(),this.Width=t|0,this.Height=n|0}}class Jo extends ${constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Width=r|0,this.Height=s|0}}function Nc(){return In("Imp.CommonModels.Rect",[],Jo,()=>[["X",Wt],["Y",Wt],["Width",Wt],["Height",Wt]])}function Ps(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}function Gc(e){return e*180/3.141592653589793}function $s(e){return Vr(e,8)}class Rn extends ${constructor(t,n){super(),this.Angle=t,this.Distance=n}}class Q extends ${constructor(t,n){super(),this.X=t,this.Y=n}}function Br(){return new Rn(0,0)}function rr(e,t){const n=t.X-e.X,r=t.Y-e.Y,s=(Gc(Math.atan2(r,n))+450)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return new Rn(Vr(s,8),Vr(o,8))}function Zc(e){const t=3.141592653589793*(e.Angle/180),n=e.Distance*Math.sin(t),r=0-e.Distance*Math.cos(t);return new Q(Math.abs(n)<1e-13?0:n,Math.abs(r)<1e-13?0:r)}function Yc(e){return new Rn(e.Angle>315&&e.Angle<=360||e.Angle>=0&&e.Angle<45?0:e.Angle>=45&&e.Angle<=135?90:e.Angle>135&&e.Angle<225?180:270,e.Distance)}function Xc(e,t){return new Q(t.X+e.X,t.Y+e.Y)}function Kc(e,t){return new Q(e.X*t,e.Y*t)}function Hr(){return new Q(0,0)}function jc(){return pr(ra,e=>{ct(K(e)),ct(he(e))})}const Qo=new ho(jc);function qc(){return cs()}const ei=new ho(qc);class zc extends ${constructor(t,n,r){super(),this.Texture=t,this.Width=n,this.Height=r}}class gr extends ${constructor(t,n,r,s,o,i,u){super(),this.Time=t,this.Resolution=n,this.Offset=r,this.VertexBuffer=s,this.TextureDetails=o,this.TextureLayer=i,this.ZRange=u}}class Jc{constructor(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.texture="",this.textureX=0,this.textureY=0,this.textureWidth=0,this.textureHeight=0,this.metaData=void 0}}function Qc(){return new Jc}class ea extends ${constructor(t,n,r,s,o,i,u,l,c,f,d,h){super(),this.Key=t,this.Elements=n,this.X=r|0,this.Y=s|0,this.Z=o|0,this.MouseMove=i,this.MouseEnter=u,this.MouseLeave=l,this.MouseUp=c,this.Width=f|0,this.Height=d|0,this.Blur=h}}class ti extends ${constructor(t,n,r){super(),this.Key=t,this.Create=n,this.ViewItems=r}}class ta extends ${constructor(t,n,r){super(),this.Key=t,this.Func=n,this.ViewItems=r}}class it extends ${constructor(t,n,r,s){super(),this.Key=t,this.Prop=n,this.Compare=r,this.Build=s}}class F extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class na{constructor(){this.current=[],this.last=[],this.key="",this.hasSprites=!1,this.hasRenderers=!1,this.parent=void 0,this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.mouseMove=void 0,this.mouseOver=!1,this.mouseEnter=void 0,this.mouseLeave=void 0,this.mouseUp=void 0,this.blur=void 0,this.isActive=!1}}function ra(){return new na}class ni{constructor(t,n){this.f=n,this.isStale=!0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){}"Imp.DisplayModels.RendererBase.OnDistory"(){}}class sa extends ${constructor(t,n,r){super(),this.Key=t,this.Renderer=n,this.RenderView=r}}class oa extends ${constructor(t,n,r){super(),this.Key=t,this.RenderView=n,this.Callback=r}}class Gt extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseMove","MouseButton","SyntheticMouseButton","Key","ControllerThumbstick","ControllerButton"]}}class xr extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ControllerThumbstick","ControllerButton","Key"]}}class ia extends ${constructor(t,n,r,s,o,i,u,l,c,f,d,h){super(),this.Key=t,this.Hooks=n,this.CurrentHook=r|0,this.Stale=s,this.RenderView=o,this.CurrentProp=i,this.Build=u,this.Removed=l,this.InputHandler=c,this.HasMouseEvents=f,this.HasInputEvents=d,this.Id=h}}class kt extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class ua extends ${constructor(t){super(),this.Component=t}}class la{constructor(t,n,r){this.currentComponent=t,this.hookIndex=n|0,this.currentComponent.Hooks[this.hookIndex]=r}}function ri(e,t,n){return new la(e,t,n)}class si extends ${constructor(t,n,r){super(),this.Time=t,this.Call=n,this.Component=r}}class Rr extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Move","Up","SyntheticUp"]}}const ca=Qo.Value;function mn(e){const t=Ge(Qo.Value);return Aa(t,e),t}function oi(){return pr(Qc,e=>{})}function aa(e){return e.x}function fa(e,t){e.x=t|0}function da(e){return e.y}function ha(e,t){e.y=t|0}function ma(e){return e.z}function _a(e,t){e.z=t|0}function pa(e){return e.width}function ga(e,t){e.width=t|0}function wa(e){return e.height}function ya(e,t){e.height=t|0}function ba(e){return e.texture}function Sa(e,t){e.texture=t}function Ca(e){return e.textureX}function Ea(e,t){e.textureX=t|0}function Ma(e){return e.textureY}function xa(e,t){e.textureY=t|0}function Ra(e){return e.textureWidth}function ka(e,t){e.textureWidth=t|0}function Ta(e){return e.textureHeight}function Da(e,t){e.textureHeight=t|0}function va(e){return e.metaData}function Ia(e,t){e.metaData=t}function Va(e){Ae(oi(),e)}function Fa(e){return e.key}function Aa(e,t){e.key=t}function Ur(e){return e.hasSprites}function Dt(e,t){e.hasSprites=t}function Wr(e){return e.hasRenderers}function Zt(e,t){e.hasRenderers=t}function ii(e){return e.parent}function Bn(e,t){e.parent=t}function yt(e){return e.x}function Oa(e,t){e.x=t|0}function bt(e){return e.y}function La(e,t){e.y=t|0}function gn(e){return e.z}function Pa(e,t){e.z=t|0}function $a(e){return e.width}function Ba(e,t){e.width=t|0}function Ha(e){return e.height}function Ua(e,t){e.height=t|0}function Nr(e){return e.mouseMove}function Wa(e,t){e.mouseMove=t}function Bs(e){return e.mouseOver}function Hs(e,t){e.mouseOver=t}function Gr(e){return e.mouseEnter}function Na(e,t){e.mouseEnter=t}function Zr(e){return e.mouseLeave}function Ga(e,t){e.mouseLeave=t}function Yr(e){return e.mouseUp}function Za(e,t){e.mouseUp=t}function ui(e){return e.blur}function Ya(e,t){e.blur=t}function K(e){return e.current}function he(e){return e.last}function li(e){const t=e.last;e.last=e.current,e.current=t}function Kt(e,t){const n=t?he(e):K(e);for(let r=0;r<=n.length-1;r++){const s=n[r];if(s!=null){const o=s;switch(o.tag){case 0:{Kt(o.fields[0],!1);break}case 1:{Va(o.fields[0]);break}case 3:{Kt(o.fields[0].RenderView,!1);break}case 4:{const i=o.fields[0];i.Removed=!0,Kt(i.RenderView,!1);break}default:ja(o.fields[0].Renderer)}}}t||Ae(ca,e)}function Xa(e){e.isStale=!0}function Ka(e,t){e.isStale&&e["Imp.DisplayModels.RendererBase.OnInit1E729EFC"](t),e["Imp.DisplayModels.RendererBase.OnRender1E729EFC"](t),e.isStale=!1}function ja(e,t){Kt(e.f,!1),e["Imp.DisplayModels.RendererBase.OnDistory"]()}const qa=ei.Value;function ci(e){fs(ei.Value,e)}function gt(e){return e.currentComponent.Hooks[e.hookIndex]}function de(e,t){const n=t(e.currentComponent.Hooks[e.hookIndex]);e.currentComponent.Hooks[e.hookIndex]=n,e.currentComponent.Stale=!0,ci(e.currentComponent)}const Ze=pr(()=>[],e=>{ct(e)});class wr{constructor(){}}function yr(e){return Ge(Ze)}class za extends wr{constructor(t,n,r,s,o,i,u,l,c,f,d){super(),this.key=t,this.x=n|0,this.y=r|0,this.z=s|0,this.width=o|0,this.height=i|0,this.mouseMove=u,this.mouseEnter=l,this.mouseLeave=c,this.mouseUp=f,this.blur=d}}function re(e,t,n,r,s,o,i,u,l,c,f){return new za(e,t,n,r,s,o,i,u,l,c,f)}function se(e,t){const n=yr();return t(n),new ea(e.key,n,e.x,e.y,e.z,e.mouseMove,e.mouseEnter,e.mouseLeave,e.mouseUp,e.width,e.height,e.blur)}class Ja extends wr{constructor(t,n){super(),this.name=t,this.func=n}}function ai(e,t){return new Ja(e,t)}function fi(e,t){const n=yr();return t(n),new ta(e.name,e.func,n)}function ge(e,t,n,r,s,o,i,u,l,c){const f=Ge(oi());return fa(f,e),ha(f,t),_a(f,n),ga(f,r),ya(f,s),Sa(f,o),Ea(f,i),xa(f,u),ka(f,c),Da(f,l),Ia(f,void 0),f}function ut(e,t){return ve(e,t)}let kr=0;function ds(e,t){Oa(e,t.X),La(e,t.Y),Pa(e,t.Z),Ba(e,t.Width),Ua(e,t.Height),Wa(e,t.MouseMove),Na(e,t.MouseEnter),Ga(e,t.MouseLeave),Za(e,t.MouseUp),Ya(e,t.Blur)}function di(e,t){ye(n=>{let r,s,o,i,u;n.HasMouseEvents=n.HasMouseEvents||(r=Gr(t),r!=null)||(s=Zr(t),s!=null)||(o=Nr(t),o!=null)||(i=Yr(t),i!=null)?!0:(u=ui(t),u!=null),n.HasInputEvents=n.HasInputEvents?!0:n.InputHandler!=null},It(e))}function hi(e,t,n,r,s){let o,i,u,l,c;switch(s.tag){case 0:{const f=s.fields[0];let d,h,g,p=0;for(;g==null&&p<he(r).length;){const _=(m=>{let w,E;if(m!=null){const C=m;C.tag===0&&Fa(C.fields[0])===f.Key?(w=0,E=C.fields[0]):w=1}else w=1;switch(w){case 0:return E;default:return}})(he(r)[p]);if(_!=null){const m=_;he(r)[p]=void 0,g=m}p=p+1|0}h=g,d=h??mn(f.Key),Bn(d,r),ds(d,f),_n(e,t,n,d,f.Elements),Dt(r,Ur(r)?!0:Ur(d)),Zt(r,Wr(r)?!0:Wr(d)),K(r).push(new kt(0,[d])),di(t,d);break}case 4:{const f=s.fields[0];let d,h,g,p=0;for(;g==null&&p<he(r).length;){const _=(m=>{let w,E;if(m!=null){const C=m;C.tag===4&&C.fields[0].Key===f.Key?(w=0,E=C.fields[0]):w=1}else w=1;switch(w){case 0:return E;default:return}})(he(r)[p]);if(_!=null){const m=_;he(r)[p]=void 0,g=m}p=p+1|0}if(h=g,h!=null){const _=h;let m;try{m=f.Compare(_.CurrentProp,f.Prop)}catch(w){throw w}_.Stale=_.Stale?!0:!m,_.CurrentProp=f.Prop,d=_}else{const _=mn(f.Key);kr=kr+1|0,d=new ia(f.Key,[],0,!0,_,f.Prop,f.Build,!1,void 0,!1,!1,Vn(xo(kr)))}ci(d),Bn(d.RenderView,r),Zt(r,!0),Dt(r,!0),ye(_=>{_.HasMouseEvents=_.HasMouseEvents?!0:d.HasMouseEvents,_.HasInputEvents=_.HasInputEvents?!0:d.HasInputEvents},It(t)),K(r).push(new kt(4,[d]));break}case 2:{const f=s.fields[0],d=()=>{const h=mn(f.Key);Bn(h,r),_n(e,t,n,h,f.ViewItems);const g=new sa(f.Key,f.Create(n,h),h);K(r).push(new kt(2,[g]))};if(e)d();else{let h,g,p=0;for(;g==null&&p<he(r).length;){const _=(m=>{let w,E;if(m!=null){const C=m;C.tag===2&&C.fields[0].Key===f.Key?(w=0,E=C.fields[0]):w=1}else w=1;switch(w){case 0:return E;default:return}})(he(r)[p]);if(_!=null){const m=_;he(r)[p]=void 0,g=m}p=p+1|0}if(h=g,h!=null){const _=h;Bn(_.RenderView,r),_n(e,t,n,_.RenderView,f.ViewItems),K(r).push(new kt(2,[_]))}else d()}Zt(r,!0),Dt(r,!0);break}case 3:{const f=s.fields[0];_n(e,t,n,(o=(i=void 0,u=0,(()=>{for(;i==null&&u<he(r).length;){const d=(h=>{let g,p;if(h!=null){const _=h;_.tag===3&&_.fields[0].Key===f.Key?(g=0,p=_.fields[0]):g=1}else g=1;switch(g){case 0:return p;default:return}})(he(r)[u]);if(d!=null){const h=d;he(r)[u]=void 0,i=h}u=u+1|0}})(),i),o!=null?(l=o,K(r).push(new kt(3,[l])),l):(c=new oa(f.Key,mn(f.Key),f.Func),K(r).push(new kt(3,[c])),c)).RenderView,f.ViewItems),Zt(r,!0),Dt(r,!0);break}default:K(r).push(new kt(1,[s.fields[0]])),Dt(r,!0)}}function _n(e,t,n,r,s){li(r),ct(K(r)),Dt(r,!1),Zt(r,!1);for(let o=0;o<=s.length-1;o++)hi(e,t,n,r,s[o]);Ae(Ze,s),Kt(r,!0),ct(he(r)),di(t,r)}let Tr;function Qa(e,t){const n=(r,s,o,i)=>{for(let u=0;u<=r.length-1;u++){const l=r[u];if(l!=null){const c=l;switch(c.tag){case 0:{const f=c.fields[0];Ur(f)&&n(K(f),s+yt(f),o+bt(f),i+gn(f));break}case 3:{n(K(c.fields[0].RenderView),s,o,i);break}case 4:{const f=c.fields[0];n(K(f.RenderView),yt(f.RenderView)+s,bt(f.RenderView)+o,gn(f.RenderView)+i);break}case 2:break;default:t([s,o,i],c.fields[0])}}}};n(K(e),yt(e),bt(e),gn(e))}function wn(e,t){let n;if(yt(e)!==0||bt(e)!==0||gn(e)!==0){const r=t;n=new gr(r.Time,r.Resolution,new zo(t.Offset.X+yt(e),t.Offset.Y+bt(e),t.Offset.Z+gn(e)),r.VertexBuffer,r.TextureDetails,r.TextureLayer,r.ZRange)}else n=t;for(let r=0;r<=K(e).length-1;r++){const s=K(e)[r];if(s!=null){const o=s;switch(o.tag){case 0:{const i=o.fields[0];Wr(i)&&wn(i,n);break}case 3:{const i=o.fields[0];wn(i.RenderView,i.Callback(n));break}case 4:{wn(o.fields[0].RenderView,n);break}case 1:break;default:Ka(o.fields[0].Renderer,n)}}}}function ef(e,t,n){li(e),ct(K(e)),Dt(e,!1),Zt(e,!1),ds(e,n),hi(!1,void 0,t,e,new F(0,[n])),Kt(e,!0),ct(he(e))}function tf(e,t){e:for(;;){const n=t;if(n!=null){const r=n;for(let s=0;s<=K(r).length-1;s++){const o=K(r)[s];if(o!=null){const i=o;i.tag===2&&Xa(i.fields[0].Renderer)}}t=ii(r);continue e}break}}let yn=[],Hn=[];const vt=Rc();class nf extends Se{constructor(){super(),this.tag=0,this.fields=[]}cases(){return["Up"]}}function br(e){let t;const n=e.Component.CurrentHook|0;return e.Component.CurrentHook=n+1|0,[n,(t=Yl(n,e.Component.Hooks),t!=null?be(x(t)):void 0)]}function hs(e,t){const n=br(e),r=n[1];return ri(e.Component,n[0],r!=null?x(r):(e.Component.Hooks.push(t),t))}function ms(e,t){let n;const r=br(e),s=r[1];return ri(e.Component,r[0],s!=null?x(s):(n=t(),e.Component.Hooks.push(n),n))}function rf(e,t){br(e)[1]!=null||(t(),Nt(vt,new Gt(2,[!0,e.Component.Id])),e.Component.Hooks.push(!0)),e.Component.HasMouseEvents=!0}function mi(e,t,n){const r=br(e),s=r[1];s!=null?ve(x(s),t)||(n(t),e.Component.Hooks[r[0]]=t):(n(t),e.Component.Hooks.push(t))}function _i(e,t){e.Component.InputHandler=t,e.Component.HasInputEvents=!0}function sf(e,t,n){yn.push(new si(Do(Sn(),t),n,e.Component))}function of(e,t){yn.push(new si(Do(Sn(),e),t,void 0))}function uf(){let e;const t=yn;yn=Hn,Hn=t;const n=Sn();let r=X(Hn);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=()=>{Xu(n,s.Time)>=0?s.Call():yn.push(s)},i=s.Component;if(i!=null){if(e=i,!e.Removed){const u=i;o()}}else o()}}finally{ne(r)}ct(Hn)}function lf(e,t){uf();const n=(i,u,l)=>{let c=!1;const f=(d,h,g,p)=>{for(let _=0;_<=h.length-1;_++){const m=h[_],w=(E,C)=>{let D,k,R,P,A;f(E,K(C),g+yt(C),p+bt(C));const W=()=>new Jo(g+yt(C),p+bt(C),$a(C),Ha(C));switch(l.tag){case 1:{!c&&(D=Yr(C),D!=null)&&Ps(W(),i,u)&&(Tr!=null&&x(Tr)(new ht(i,u)),(k=Yr(C),x(k))(new ht(i,u)),c=!0,Tr=ui(C));break}case 2:{if(Du(l.fields[0],E)){const v=W();Nt(vt,new Gt(1,[!0,v.X,v.Y])),c=!0}break}default:!c&&(R=Nr(C),(R!=null?!0:(P=Gr(C),P!=null))?!0:(A=Zr(C),A!=null))&&(Ps(W(),i,u)?(Bs(C)||ye(v=>{v(new ht(i,u)),Hs(C,!0)},It(Gr(C))),ye(v=>{v(new ht(i,u))},It(Nr(C)))):Bs(C)&&(ye(v=>{v(new ht(i,u))},It(Zr(C))),Hs(C,!1)))}};if(m!=null){const E=m;switch(E.tag){case 0:{w(d,E.fields[0]);break}case 4:{const C=E.fields[0];C.HasMouseEvents&&w(C.Id,C.RenderView);break}case 3:{f(d,K(E.fields[0].RenderView),g,p);break}case 2:{const C=E.fields[0];f(d,K(C.RenderView),g+yt(C.RenderView),p+bt(C.RenderView));break}}}}};f(Vn(xo(-1)),K(e),0,0)},r=i=>{let u=!1;const l=c=>{if(!u)for(let f=0;f<=c.length-1;f++){const d=c[f];if(d!=null){const h=d;switch(h.tag){case 4:{const g=h.fields[0];if(g.HasInputEvents&&(l(K(g.RenderView)),!u)){const p=g.InputHandler;p!=null&&(p(i),u=!0)}break}case 0:{l(K(h.fields[0]));break}case 3:{l(K(h.fields[0].RenderView));break}case 2:{l(K(h.fields[0].RenderView));break}}}}};l(K(e))},s=()=>{let i,u=Ye();if(i=[Tc(vt,new le(()=>u,l=>{u=l})),u],i[0]){const l=i[1];switch(l.tag){case 1:{l.fields[0]&&n(l.fields[1],l.fields[2],new Rr(1,[]));break}case 2:{l.fields[0]&&n(0,0,new Rr(2,[l.fields[1]]));break}case 3:{r(new xr(2,[l.fields[0],l.fields[1]]));break}case 4:{r(new xr(0,[l.fields[0],l.fields[1]]));break}case 5:{r(new xr(1,[l.fields[0],l.fields[1]]));break}default:n(l.fields[0],l.fields[1],new Rr(0,[]))}s()}};s();const o=()=>{let i,u=Ye();if(i=[Cc(qa,new le(()=>u,l=>{u=l})),u],i[0]){const l=i[1];if(l.Stale){l.Stale=!1,l.CurrentHook=0,l.InputHandler=void 0,l.HasMouseEvents=!1,l.HasInputEvents=!1;const c=l.Build(new ua(l),l.CurrentProp);ds(l.RenderView,c),_n(!0,l,t,l.RenderView,c.Elements),tf(t,ii(l.RenderView))}o()}};o()}function Us(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return cf(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function cf(e){return Number(BigInt(e)/10000n)}function af(e){return e/1e3}function ff(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return Us(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let s=0,o=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,l=+r[4],c=+r[5];if(r[3]!=null&&(s=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:o=+r[8]*100;break;case 2:o=+r[8]*10;break;case 3:o=+r[8];break;case 4:o=+r[8]/10;break;case 5:o=+r[8]/100;break;case 6:o=+r[8]/1e3;break;case 7:o=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*Us(s,l,c,i,o)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function df(e,t){try{return t.contents=ff(e),!0}catch{return!1}}class hf{constructor(){this.textureNames=new Set([])}}function pi(e){return e.textureNames}class mf{constructor(){}}class _f extends hf{constructor(t){super(),this.baseUrl=t}"Imp.Setup.DataManager.LoadTexture"(t,n){const r=this,s=document.createElement("img");s.onload=o=>{n(new xu(s,s.width>>>0,s.height>>>0))},s.src=`${r.baseUrl}/${t}`}"Imp.Setup.DataManager.LoadString"(t,n){const r=this;ku(vl(ks,Dl(ks,()=>jl(`${r.baseUrl}/${t}`,Pe()).then(s=>s.text().then(o=>(n(o),Promise.resolve()))))))}}function pf(e){return new _f(e)}function gf(e,t,n,r,s){const o=[],i=Ts(pi(t)),u=()=>{if(o.length<Oo(i)){const l=Ml(o.length,i);t["Imp.Setup.DataManager.LoadTexture"](`${l}.png`,c=>{o.push([l,c]),u()})}else{const l=Hc(Ts(o),e),c=l[1],f=new zc(l[0],c[0],c[1]);let d,h;d=m=>{let w;switch(h!=null?(h[1],h[0]===m?w=0:w=1):w=1,w){case 0:{const E=h[1];return h[0],E}default:{let E,C=0;if(E=[lr(l[2],m,new le(()=>C,D=>{C=D})),C],E[0]){const D=E[1];return h=[m,D],D}else return}}};const g=hn(Uc,e),p=Sn(),_=mn("Root");ef(_,e,n),s(m=>{ye(w=>{w()},It(r)),wn(_,new gr(af(Ku(Sn(),p)),m,new zo(0,0,0),g,f,d,[0,1]))},m=>{lf(_,e)})}};u()}class wf extends mf{constructor(t,n,r){super();let s,o,i,u;this.resolution=new Ls(0,0),this.tick=()=>{},this.canvas=(s=document.createElement("canvas"),o=document.getElementById(t),o.appendChild(s),i=n,u=r,this.resolution=new Ls(~~i,~~u),s.width=i,s.height=u,s)}"Imp.Setup.Display.AttachView"(t,n,r){const s=this;gf(s.canvas.getContext("webgl2",be({premultipliedAlpha:!1})),t,n,r,(o,i)=>{s.tick=()=>{i(),o(s.resolution)}})}"Imp.Setup.Display.AttachInputZ2D84AEB6"(t){const n=this;t({AttachKeyboard(){window.addEventListener("keydown",r=>{const s=Ws(n,r.code);s!=null&&Nt(vt,new Gt(3,[!0,s]))}),window.addEventListener("keyup",r=>{const s=Ws(n,r.code);s!=null&&Nt(vt,new Gt(3,[!1,s]))})},AttachMouse(){window.addEventListener("mousemove",r=>{Nt(vt,new Gt(0,[r.clientX,r.clientY]))}),window.addEventListener("mouseup",r=>{Nt(vt,new Gt(1,[!0,r.clientX,r.clientY]))})},AttachGamepad(){}})}"Imp.Setup.Display.Run"(){const t=this,n=()=>{window.requestAnimationFrame(r=>{t.tick(),n()})};n()}}function yf(e,t,n){return new wf(e,t,n)}function Ws(e,t){switch(t){case"KeyA":return 65;case"KeyB":return 66;case"KeyC":return 67;case"KeyD":return 68;case"KeyE":return 69;case"KeyF":return 70;case"KeyG":return 71;case"KeyH":return 72;case"KeyI":return 73;case"KeyJ":return 74;case"KeyK":return 75;case"KeyL":return 76;case"KeyM":return 77;case"KeyN":return 78;case"KeyO":return 79;case"KeyP":return 80;case"KeyQ":return 81;case"KeyR":return 82;case"KeyS":return 83;case"KeyT":return 84;case"KeyU":return 85;case"KeyV":return 86;case"KeyW":return 87;case"KeyX":return 88;case"KeyY":return 89;case"KeyZ":return 90;case"Digit0":return 48;case"Digit1":return 49;case"Digit2":return 50;case"Digit3":return 51;case"Digit4":return 52;case"Digit5":return 53;case"Digit6":return 54;case"Digit7":return 55;case"Digit8":return 56;case"Digit9":return 57;case"Space":return 32;case"ShiftLeft":return 340;case"ShiftRight":return 344;case"Backspace":return 259;case"Delete":return 261;case"Semicolon":return 59;case"ArrowLeft":return 263;case"ArrowRight":return 262;case"ArrowDown":return 264;case"ArrowUp":return 265;case"Backquote":return 96;case"Minus":return 45;case"Equal":return 61;case"BracketLeft":return 91;case"BracketRight":return 93;case"Backslash":return 92;case"Quote":return 39;case"Comma":return 44;case"Period":return 46;case"Slash":return 47;case"CapsLock":return 280;case"Tab":return 258;case"Enter":return 257;case"Escape":return 256;case"ControlLeft":return 341;case"ControlRight":return 345;case"AltLeft":return 342;case"AltRight":return 346;default:{el(`Key: ${t}`);return}}}class bf extends ${constructor(t,n,r){super(),this.R=t|0,this.G=n|0,this.B=r|0}}class Sf extends ni{constructor(t,n,r){super(n,r),this.backgroundColor=t,this.gl=n,this.view=r}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this;n.gl.disable(3024),n.gl.enable(2884),n.gl.cullFace(1029),n.gl.frontFace(2304);const r=t.Resolution.Width>>>0,s=t.Resolution.Height>>>0;n.gl.viewport(0,0,r,s);const o=n.backgroundColor.R/255,i=n.backgroundColor.G/255,u=n.backgroundColor.B/255;n.gl.clearColor(o,i,u,1),n.gl.clearDepth(1);const l=16640;n.gl.clear(l),wn(n.view,t)}}function Cf(e,t,n){return new Sf(e,t,n)}class Ef extends wr{constructor(t,n){super(),this.backgroundColor=t,this.key=n}}function Mf(e,t){return new Ef(e,t)}function xf(e,t){const n=yr();return t(n),new ti(e.key,(r,s)=>Cf(e.backgroundColor,r,s),n)}function Rf(e,t){return Mf(e,y(t,""))}class kf{constructor(t){let n,r,s,o,i,u,l,c,f,d,h,g,p,_,m,w,E,C,D,k,R,P,A,W,v,H,M,G;this.gl=t;const q=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec3 offset;\r
in vec4 position;\r
in vec4 texturePosition;\r
in float textureLayer;\r
in float depth;\r
uniform vec2 depthRange;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec3 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec3(\r
            mix(vec2(0.0, 0.0), vec2(1.0, 1.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution),\r
            textureLayer);\r
\r
    float x = mix(-1.0, 1.0, (offset.x + position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (offset.y + position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
\r
    float minDepth = depthRange.x;\r
    float maxDepth = depthRange.y;\r
    float d = ((offset.z + depth) - minDepth) / (maxDepth - minDepth);\r
\r
    frag_depth = 1.0f - d;\r
}`,oe=`#version 300 es\r
precision highp float;\r
\r
in vec3 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2DArray diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=Bc(q,oe,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.offsetLocation=(l=this.gl,c=this.program,l.getUniformLocation(c,"offset")),this.positionLocation=(f=(d=this.gl,h=this.program,d.getAttribLocation(h,"position")),f>>>0),this.texturePositionLocation=(g=(p=this.gl,_=this.program,p.getAttribLocation(_,"texturePosition")),g>>>0),this.textureLayerLocation=(m=(w=this.gl,E=this.program,w.getAttribLocation(E,"textureLayer")),m>>>0),this.depthLocation=(C=(D=this.gl,k=this.program,D.getAttribLocation(k,"depth")),C>>>0),this.depthRangeLocation=(R=this.gl,P=this.program,R.getUniformLocation(P,"depthRange")),this.outputResolutionLocation=(A=this.gl,W=this.program,A.getUniformLocation(W,"outputResolution")),this.textureResolutionLocation=(v=this.gl,H=this.program,v.getUniformLocation(H,"textureResolution")),this.diffuseTextureLocation=(M=this.gl,G=this.program,M.getUniformLocation(G,"diffuseTexture"))}}function Tf(e){return new kf(e)}function Df(e){return e.program}function Ns(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation),e.gl.enableVertexAttribArray(e.positionLocation),e.gl.enableVertexAttribArray(e.texturePositionLocation),e.gl.enableVertexAttribArray(e.textureLayerLocation),e.gl.enableVertexAttribArray(e.depthLocation))}function vf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function If(e,t,n,r){e.gl.uniform3f(e.offsetLocation,t,n,r)}function Vf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.positionLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.positionLocation,i)}function Ff(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.texturePositionLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.texturePositionLocation,i)}function Af(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.textureLayerLocation,1,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.textureLayerLocation,i)}function Of(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.depthLocation,1,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.depthLocation,i)}function Lf(e,t,n){e.gl.uniform2f(e.depthRangeLocation,t,n)}function Pf(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function $f(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function Bf(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(35866,t)}let Un=go(void 0);function Hf(e,t){let n;if(Un()==null){const r=Tf(e);Ns(r),t(r),Un(r)}else{const r=Un();ve((n=e,n.getParameter(n.CURRENT_PROGRAM)),Df(r))||(Ns(r),t(r))}return x(Un())}const dt=pr(()=>[],e=>{ct(e)});class Uf extends ni{constructor(t,n){super(t,n),this.gl=t,this.view=n,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r,s;const o=this;Gs(o);const i=Ge(dt),u=Ge(dt),l=Ge(dt),c=Ge(dt);Qa(o.view,(f,d)=>{let h;if(h=va(d),h==null){const g=d,p=i;p.push(aa(g)+f[0]),p.push(da(g)+f[1]),p.push(pa(g)),p.push(wa(g));const _=d,m=l;m.push(Ca(_)),m.push(Ma(_)),m.push(Ra(_)),m.push(Ta(_));const w=t.TextureLayer(ba(d));if(w!=null){const E=w;c.push(E)}u.push(ma(d)+f[2])}}),o.renderResult=(n=hn(i,o.gl),r=hn(l,o.gl),s=hn(c,o.gl),{DepthBuffer:hn(u,o.gl),PosBuffer:n,TextureBuffer:r,TextureLayer:s,TotalSprites:~~(i.length/4)}),Ae(dt,i),Ae(dt,l),Ae(dt,c),Ae(dt,u)}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=x(n.renderResult),s=t.Resolution.Width>>>0,o=t.Resolution.Height>>>0;n.gl.viewport(0,0,s,o),n.gl.enable(2929),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515);const i=Hf(n.gl,c=>{vf(c,t.VertexBuffer)});If(i,t.Offset.X,t.Offset.Y,t.Offset.Z);const u=t.ZRange;Lf(i,u[0],u[1]),Pf(i,t.Resolution.Width,t.Resolution.Height),$f(i,t.TextureDetails.Width,t.TextureDetails.Height),Bf(i,t.TextureDetails.Texture),Af(i,r.TextureLayer,1),Vf(i,r.PosBuffer,1),Ff(i,r.TextureBuffer,1),Of(i,r.DepthBuffer,1);const l=r.TotalSprites>>>0;n.gl.drawArraysInstanced(4,0,6,l)}"Imp.DisplayModels.RendererBase.OnDistory"(){Gs(this)}}function Wf(e,t){return new Uf(e,t)}function Gs(e){ye(t=>{$n(dn,t.PosBuffer),$n(dn,t.TextureBuffer),$n(dn,t.TextureLayer),$n(dn,t.DepthBuffer)},It(e.renderResult)),e.renderResult=void 0}class Nf extends wr{constructor(t){super(),this.name=t}}function Gf(e){return new Nf(e)}function kn(e,t){const n=yr();return t(n),new ti(e.name,Wf,n)}function Tn(e){return Gf(y(e,""))}function Zf(e,t,n,r){const s=Qe(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const o=s>0;return i=>{const u=Qe(i,t)|0;return o&&u<=0||!o&&u>=0?[i,r(i,e)]:void 0}}function Yf(e,t,n,r,s){const o=Zf(t,n,r,s);return Je(()=>$o(o,e))}function sr(e,t,n){return Yf(e,t,n,0,(r,s)=>r+s)}class Xf{constructor(){this.defaultFont="Font Small",this.sprites=new Map([])}}function Kf(){return new Xf}function gi(e){return e.sprites}function nn(e,t){let n,r=Ye();if(n=[lr(e.sprites,t,new le(()=>r,s=>{r=s})),r],n[0])return n[1];throw new Error(`Can't find name ${t}`)}function wi(e){return e.defaultFont}class rt extends ${constructor(t,n,r,s){super(),this.Value=t,this.Position=n|0,this.Active=r,this.Shift=s}}function yi(e,t,n,r){let s,o;const i=V(n-1,nn(e,t).Frames),u=Ge(Ze),l=i.Layers.length-1|0;for(let c=0;c<=l;c++){const f=V(c,i.Layers);u.push(new F(1,[(s=f,o=s,ge(r[0]+o.Offset.X,r[1]+o.Offset.Y,0,s.Rect.Width,s.Rect.Height,o.Texture,o.Rect.X,o.Rect.Y,o.Rect.Height,o.Rect.Width))]))}return u}function jf(e,t){return V(0,V(0,nn(e,t).Frames).Layers)}function bi(e,t,n,r,s,o){let i,u,l,c,f;const d=h=>V(0,V(0,nn(e,o+"-"+h).Frames).Layers);return se((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,re(y(void 0,""),y(n,0),y(t,0),y(void 0,0),y(void 0,0),y(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),h=>{let g,p,_,m,w,E,C,D,k,R,P,A,W,v,H,M,G,q,oe;const Me=h,O=d("TopLeft"),B=d("Top"),fe=d("TopRight"),xe=d("Left"),ft=d("Middle"),$e=d("Right"),Be=d("BottomLeft"),He=d("Bottom"),Ke=d("BottomRight"),Ot=r-O.Rect.Width-fe.Rect.Width|0;(g=(p=O,_=p,ge(0+_.Offset.X,0+_.Offset.Y,0,p.Rect.Width,p.Rect.Height,_.Texture,_.Rect.X,_.Rect.Y,_.Rect.Height,_.Rect.Width)),ce=>{ce.push(new F(1,[g]))})(Me);const Et=Me;(m=(w=B,ge(O.Rect.Width+w.Offset.X,0+w.Offset.Y,0,Ot,B.Rect.Height,w.Texture,w.Rect.X,w.Rect.Y,w.Rect.Height,w.Rect.Width)),ce=>{ce.push(new F(1,[m]))})(Et);const Mt=Et;(E=(C=fe,D=C,ge(r-fe.Rect.Width+D.Offset.X,0+D.Offset.Y,0,C.Rect.Width,C.Rect.Height,D.Texture,D.Rect.X,D.Rect.Y,D.Rect.Height,D.Rect.Width)),ce=>{ce.push(new F(1,[E]))})(Mt);const Ce=Mt,Z=r-xe.Rect.Width-$e.Rect.Width|0,z=s-B.Rect.Height-He.Rect.Height|0,Ee=O.Rect.Height|0;(k=(R=xe,ge(0+R.Offset.X,Ee+R.Offset.Y,0,xe.Rect.Width,z,R.Texture,R.Rect.X,R.Rect.Y,R.Rect.Height,R.Rect.Width)),ce=>{ce.push(new F(1,[k]))})(Ce);const nt=Ce;(P=(A=ft,ge(O.Rect.Width+A.Offset.X,Ee+A.Offset.Y,0,Z,z,A.Texture,A.Rect.X,A.Rect.Y,A.Rect.Height,A.Rect.Width)),ce=>{ce.push(new F(1,[P]))})(nt);const sn=nt;(W=(v=$e,ge(r-fe.Rect.Width+v.Offset.X,Ee+v.Offset.Y,0,$e.Rect.Width,z,v.Texture,v.Rect.X,v.Rect.Y,v.Rect.Height,v.Rect.Width)),ce=>{ce.push(new F(1,[W]))})(sn);const on=sn,un=r-Be.Rect.Width-Ke.Rect.Width|0,xt=s-He.Rect.Height|0;(H=(M=Be,G=M,ge(0+G.Offset.X,xt+G.Offset.Y,0,M.Rect.Width,M.Rect.Height,G.Texture,G.Rect.X,G.Rect.Y,G.Rect.Height,G.Rect.Width)),ce=>{ce.push(new F(1,[H]))})(on);const Lt=on;(q=(oe=He,ge(Be.Rect.Width+oe.Offset.X,xt+oe.Offset.Y,0,un,He.Rect.Height,oe.Texture,oe.Rect.X,oe.Rect.Y,oe.Rect.Height,oe.Rect.Width)),ce=>{ce.push(new F(1,[q]))})(Lt);let Pt;const Rt=Ke,Ve=Rt;Pt=ge(r-fe.Rect.Width+Ve.Offset.X,xt+Ve.Offset.Y,0,Rt.Rect.Width,Rt.Rect.Height,Ve.Texture,Ve.Rect.X,Ve.Rect.Y,Ve.Rect.Height,Ve.Rect.Width),Lt.push(new F(1,[Pt]))})}function qf(e,t,n,r,s){return o=>{let i,u,l,c,f;return se((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,re(y(void 0,""),y(t,0),y(n,0),y(void 0,0),y(void 0,0),y(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),d=>{let h,g,p,_,m,w,E,C;const D=d;(h=bi(e,0,0,r,s,"Window"),A=>{A.push(new F(0,[h]))})(D);const k=D,R=jf(e,"Window Title");(g=(p=R,ge(3+p.Offset.X,3+p.Offset.Y,0,r-6,R.Rect.Height,p.Texture,p.Rect.X,p.Rect.Y,p.Rect.Height,p.Rect.Width)),A=>{A.push(new F(1,[g]))})(k);const P=se((_=void 0,m=void 0,w=void 0,E=void 0,C=void 0,re(y(void 0,""),y(4,0),y(24,0),y(void 0,0),y(void 0,0),y(void 0,0),_??void 0,m??void 0,w??void 0,E??void 0,C??void 0)),A=>{const W=o();A.push(new F(0,[W]))});k.push(new F(0,[P]))})}}function Ft(e,t,n,r,s){return o=>{let i,u,l,c,f;const d=y(n,wi(e)),h=y(r,0)|0,g=y(s,0)|0;let p=0;return se((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,re(y(t,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),_=>{ye(m=>{let w,E,C,D,k,R,P,A,W;(w=m,w===" "?(p=p+4|0,v=>{}):(E=w==="-"?"Minus":w===":"?void 0:w.toUpperCase(),E!=null?(C=V(1-1,nn(e,`${d}-${E}`).Frames),D=(k=(R=C,P=h+p|0,A=Ge(Ze),W=R.Layers.length-1|0,(()=>{let v,H;for(let M=0;M<=W;M++){const G=V(M,R.Layers);A.push(new F(1,[(v=G,H=v,ge(P+H.Offset.X,g+H.Offset.Y,0,v.Rect.Width,v.Rect.Height,H.Texture,H.Rect.X,H.Rect.Y,H.Rect.Height,H.Rect.Width))]))}})(),A),v=>{Mn(k,v),Ae(Ze,k)}),v=>{D(v),(p=p+V(0,C.Layers).Rect.Width+1|0,H=>{})(v)}):v=>{}))(_)},o.split(""))})}}function zf(e,t,n,r,s,o,i,u){let l,c,f,d,h;return se((l=void 0,c=void 0,f=void 0,d=s,h=void 0,re(y(o,""),y(i,0),y(u,0),y(void 0,0),y(n,0),y(r,0),l??void 0,c??void 0,f??void 0,d??void 0,h??void 0)),g=>{let p;const _=g;(p=bi(e,0,0,n,r,"Button"),w=>{w.push(new F(0,[p]))})(_);const m=Ft(e,void 0,void 0,10,10)(t);_.push(new F(0,[m]))})}function Jf(e,t,n,r,s,o){return i=>{let u,l,c,f,d;return se((u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,re(y(r,""),y(s,0),y(o,0),y(void 0,0),y(void 0,0),y(void 0,0),u??void 0,l??void 0,c??void 0,f??void 0,d??void 0)),h=>{const g=(p=>{const _=y(void 0,()=>()=>ut(a,b));return new it(y(void 0,""),void 0,(m,w)=>{try{return _(void 0)(void 0)}catch(E){throw E}},(m,w)=>p(m)(void 0))})(p=>()=>(_=>{let m,w,E,C,D;const k=ms(_,()=>new rt(i,i.length,!1,!1)),R=gt(k);R.Active&&_i(_,W=>{if(W.tag===2){const v=W.fields[0],H=W.fields[1]|0;switch(H){case 259:{if(v&&R.Position>0){const M=Ht(R.Value,0,R.Position-1),G=Ht(R.Value,R.Position);de(k,q=>new rt(M+G,q.Position-1,q.Active,q.Shift))}break}case 261:{if(v&&R.Position<R.Value.length){const M=Ht(R.Value,0,R.Position),G=Ht(R.Value,R.Position+1);de(k,q=>new rt(M+G,q.Position,q.Active,q.Shift))}break}case 262:{v&&de(k,M=>new rt(M.Value,tr(M.Value.length,M.Position+1),M.Active,M.Shift));break}case 263:{v&&de(k,M=>new rt(M.Value,En(0,M.Position-1),M.Active,M.Shift));break}case 340:case 344:{de(k,M=>new rt(M.Value,M.Position,M.Active,v));break}default:if(v){const M=(G,q)=>{const oe=R.Shift?q:G,Me=R.Position|0,O=Ht(R.Value,0,Me)+oe+Ht(R.Value,Me);de(k,B=>new rt(O,Me+1,B.Active,B.Shift))};switch(H){case 32:{M(" "," ");break}case 39:{M("'","@");break}case 44:{M(",","<");break}case 46:{M(".",">");break}case 47:{M("/","?");break}case 48:{M("0",")");break}case 49:{M("1","!");break}case 50:{M("2",'"');break}case 51:{M("3","");break}case 52:{M("4","$");break}case 53:{M("5","%");break}case 54:{M("6","^");break}case 55:{M("7","&");break}case 56:{M("8","*");break}case 57:{M("9","(");break}case 59:{M(";",":");break}case 65:{M("a","A");break}case 66:{M("b","B");break}case 67:{M("c","C");break}case 68:{M("d","D");break}case 69:{M("e","E");break}case 70:{M("f","F");break}case 71:{M("g","G");break}case 72:{M("h","H");break}case 73:{M("i","I");break}case 74:{M("j","J");break}case 75:{M("k","K");break}case 76:{M("l","L");break}case 77:{M("m","M");break}case 78:{M("n","N");break}case 79:{M("o","O");break}case 80:{M("p","P");break}case 81:{M("q","Q");break}case 82:{M("r","R");break}case 83:{M("s","S");break}case 84:{M("t","T");break}case 85:{M("u","U");break}case 86:{M("v","V");break}case 87:{M("w","W");break}case 88:{M("x","X");break}case 89:{M("y","Y");break}case 90:{M("z","Z");break}}}}}});const P=wi(e);let A=0;return se((m=void 0,w=void 0,E=void 0,C=W=>{de(k,v=>new rt(v.Value,v.Position,!0,v.Shift))},D=W=>{de(k,v=>new rt(v.Value,v.Position,!1,v.Shift))},re(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(t,0),y(n,0),m??void 0,w??void 0,E??void 0,C??void 0,D??void 0)),W=>{ye(v=>{let H,M,G,q,oe,Me,O,B,fe,xe,ft,$e,Be,He,Ke,Ot;const Et=W,Mt=v|0,Ce=ol(R.Value,Mt);(Ce===" "?(A=A+4|0,Z=>{}):(H=Ce==='"'?"Double Quote":Ce===","?"Comma":Ce==="-"?"Minus":Ce==="."?"Full Stop":Ce===":"?void 0:Ce==="?"?"Question Mark":Ce==="@"?"At":Ce.toUpperCase(),H!=null?(M=H,G=(q=Ye(),[lr(gi(e),`${P}-${M}`,new le(()=>q,Z=>{q=Z})),q]),G[0]?(oe=V(0,G[1].Frames),Me=(O=(B=oe,fe=A|0,xe=Ge(Ze),ft=B.Layers.length-1|0,(()=>{let Z,z;for(let Ee=0;Ee<=ft;Ee++){const nt=V(Ee,B.Layers);xe.push(new F(1,[(Z=nt,z=Z,ge(fe+z.Offset.X,0+z.Offset.Y,0,Z.Rect.Width,Z.Rect.Height,z.Texture,z.Rect.X,z.Rect.Y,z.Rect.Height,z.Rect.Width))]))}})(),xe),Z=>{Mn(O,Z),Ae(Ze,O)}),Z=>{Me(Z),(A=A+V(0,oe.Layers).Rect.Width+1|0,z=>{})(Z)}):Z=>{}):Z=>{}))(Et),(R.Active&&Mt===R.Position-1?($e=(Be=V(0,nn(e,`${P}-Caret`).Frames),He=A-2|0,Ke=Ge(Ze),Ot=Be.Layers.length-1|0,(()=>{let Z,z;for(let Ee=0;Ee<=Ot;Ee++){const nt=V(Ee,Be.Layers);Ke.push(new F(1,[(Z=nt,z=Z,ge(He+z.Offset.X,0+z.Offset.Y,0,Z.Rect.Width,Z.Rect.Height,z.Texture,z.Rect.X,z.Rect.Y,z.Rect.Height,z.Rect.Width))]))}})(),Ke),Z=>{Mn($e,Z),Ae(Ze,$e)}):Z=>{})(Et)},sr(0,1,R.Value.length-1))})})(p));h.push(new F(4,[g]))})}}const Zs=10,Ie=Kf();let or=go(0);function Si(e,t,n){de(t,r=>or()),or(0),sf(e,1e3,()=>{Si(e,t)})}function Qf(e){return(t=>{const n=y(void 0,()=>()=>ut(a,b));return new it(y(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u;return se((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,re(y(void 0,""),y(400,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),l=>{let c,f;(c=hs(n,0),mi(n,void 0,()=>{Si(n,c)}),f=Ft(Ie,void 0,void 0,10,10)(er(Qu("FPS: %d%P()",[gt(c)]))),d=>{d.push(new F(0,[f]))})(l)})})(t))}function ed(e){return(t=>{const n=y(void 0,()=>()=>ut(a,b));return new it(y(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>qf(Ie,10,150,300,200)(()=>{let r,s,o,i,u;return se((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,re(y(void 0,""),y(10,0),y(10,0),y(void 0,0),y(void 0,0),y(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),l=>{let c,f;const d=l,h=hs(n,!1);(c=zf(Ie,"Click",80,32,g=>{de(h,p=>!p)}),g=>{g.push(new F(0,[c]))})(d),(gt(h)?(f=Ft(Ie,void 0,void 0,void 0,80)("ON"),g=>{g.push(new F(0,[f]))}):g=>{})(d)})}))(t))}function td(e){return Jf(Ie,100,100,e,0,400)("SOME TEXT")}function nd(e){return(t=>{const n=y(void 0,()=>()=>ut(a,b));return new it(y(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u;const l=ms(n,()=>ze("Nothing"));return se((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,re(y(void 0,""),y(10,0),y(10,0),y(void 0,0),y(void 0,0),y(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),c=>{let f,d,h,g,p,_;const m=c;(f=Ft(Ie)(I(gt(l))),E=>{E.push(new F(0,[f]))})(m);const w=se((d=void 0,h=E=>{de(l,C=>Lr(ze("Outer"),C))},g=E=>{de(l,C=>N(C)?Pe():U(C))},p=void 0,_=void 0,re(y("Outer",""),y(0,0),y(40,0),y(void 0,0),y(118,0),y(100,0),d??void 0,h??void 0,g??void 0,p??void 0,_??void 0)),E=>{let C,D,k,R,P,A;const W=E;(C=Ft(Ie)("Outer"),H=>{H.push(new F(0,[C]))})(W);const v=se((D=void 0,k=H=>{de(l,M=>Lr(ze("Inner"),M))},R=H=>{de(l,M=>N(M)?Pe():U(M))},P=void 0,A=void 0,re(y("Inner",""),y(0,0),y(40,0),y(void 0,0),y(118,0),y(19,0),D??void 0,k??void 0,R??void 0,P??void 0,A??void 0)),H=>{const M=Ft(Ie)("Inner");H.push(new F(0,[M]))});W.push(new F(0,[v]))});m.push(new F(0,[w]))})})(t))}class rd extends ${constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}class sd extends ${constructor(t,n,r){super(),this.X=t,this.Y=n,this.Radius=r}}function od(e,t){let n,r;const s=e.X+e.Width/2,o=e.Y+e.Height/2,i=Math.abs(t.X-s),u=Math.abs(t.Y-o);return i>e.Width/2+t.Radius||u>e.Height/2+t.Radius?!1:i<=e.Width/2||u<=e.Height/2?!0:(n=i-e.Width/2,Math.pow(n,2)+(r=u-e.Height/2,Math.pow(r,2))<=Math.pow(t.Radius,2))}function Fe(e,t){if(Math.abs(e+360-(t+360))<15)return be(void 0)}function id(e,t,n,r,s){const o=Zc(r),i=l=>{if(!ve(l,Hr())){const c=Xc(Kc(l,t),n),f=new sd(c.X,c.Y,s),d=tr(~~Math.floor(n.X-s),~~Math.floor(c.X-s))|0,h=En(~~Math.ceil(n.X+s),~~Math.ceil(c.X+s))|0,g=tr(~~Math.floor(n.Y-s),~~Math.floor(c.Y-s))|0,p=En(~~Math.ceil(n.Y+s),~~Math.ceil(c.Y+s))|0;let _=!0;for(let m=d;m<=h;m++)for(let w=g;w<=p;w++)_&&!e(new ht(m,w))&&od(new rd(m,w,1,1),f)&&(_=!1);return _?c:void 0}},u=i(o);if(u!=null)return u;{let l;const c=(_,m)=>e(new ht(_,m)),f=_=>~~Math.floor(_),d=f(n.X)|0,h=f(n.Y)|0,g=$s(n.X-d),p=$s(n.Y-h);if(l==null){const _=i(new Q(o.X,0));if(_!=null){const m=_;rr(n,m).Distance>.2*t&&(l=m)}else{const m=i(new Q(0,o.Y));if(m!=null){const w=m;rr(n,w).Distance>.2*t&&(l=w)}}}if(l==null){const _=r.Angle;if(Fe(90,_)!=null){if(p>=.5&&c(d+1,h)){const m=i(new Q(0,-1));m!=null&&(l=m)}else if(p<=.5&&c(d+1,h)){const m=i(new Q(0,1));m!=null&&(l=m)}}else if(Fe(270,_)!=null){if(p>=.5&&c(d-1,h)){const m=i(new Q(0,-1));m!=null&&(l=m)}else if(p<=.5&&c(d-1,h)){const m=i(new Q(0,1));m!=null&&(l=m)}}else if(Fe(180,_)!=null){if(g>=.5&&c(d,h+1)){const m=i(new Q(-1,0));m!=null&&(l=m)}else if(g<=.5&&c(d,h+1)){const m=i(new Q(1,0));m!=null&&(l=m)}}else if(Fe(0,_)!=null){if(g>=.5&&c(d,h-1)){const m=i(new Q(-1,0));m!=null&&(l=m)}else if(g<=.5&&c(d,h-1)){const m=i(new Q(1,0));m!=null&&(l=m)}}}if(l==null){const _=r.Angle;let m;switch(Fe(90,_)!=null&&p<.4&&c(d,h-1)&&c(d+1,h-1)?m=0:m=1,m){case 0:{const w=i(new Q(0,-1));w!=null&&(l=w);break}case 1:{let w;switch(Fe(90,_)!=null&&p>.6&&c(d,h+1)&&c(d+1,h+1)?w=0:w=1,w){case 0:{const E=i(new Q(0,1));E!=null&&(l=E);break}case 1:{let E;switch(Fe(270,_)!=null&&p<.4&&c(d,h-1)&&c(d-1,h-1)?E=0:E=1,E){case 0:{const C=i(new Q(0,-1));C!=null&&(l=C);break}case 1:{let C;switch(Fe(270,_)!=null&&p>.6&&c(d,h+1)&&c(d-1,h+1)?C=0:C=1,C){case 0:{const D=i(new Q(0,1));D!=null&&(l=D);break}case 1:{let D;switch(Fe(180,_)!=null&&g<.4&&c(d-1,h)&&c(d-1,h+1)?D=0:D=1,D){case 0:{const k=i(new Q(-1,0));k!=null&&(l=k);break}case 1:{let k;switch(Fe(180,_)!=null&&g>.6&&c(d+1,h)&&c(d+1,h+1)?k=0:k=1,k){case 0:{const R=i(new Q(1,0));R!=null&&(l=R);break}case 1:{let R;switch(Fe(0,_)!=null&&g<.4&&c(d-1,h)&&c(d-1,h-1)?R=0:R=1,R){case 0:{const P=i(new Q(-1,0));P!=null&&(l=P);break}case 1:{let P;switch(Fe(0,_)!=null&&g>.6&&c(d+1,h)&&c(d+1,h-1)?P=0:P=1,P){case 0:{const A=i(new Q(1,0));A!=null&&(l=A);break}}break}}break}}break}}break}}break}}break}}break}}}return l??n}}function Wn(){return Pe()}function ud(e,t,n,r){return(s=>{const o=y(void 0,()=>()=>ut(a,b));return new it(y(e,""),void 0,(i,u)=>{try{return o(void 0)(void 0)}catch(l){throw l}},(i,u)=>s(i)(void 0))})(s=>()=>(o=>{const i=ms(o,()=>new Cr(0,[t()])),u=hs(o,f=>{}),l=f=>{gt(u)(f)};mi(o,void 0,()=>{let f;const d=gt(i);if(d.tag===0)de(i,g=>new Cr(1,[d.fields[0][0]])),f=d.fields[0][1];else throw new Error("");de(u,g=>p=>{const _=gt(i);if(_.tag===1){const m=n(p,_.fields[0]);de(i,E=>new Cr(1,[m[0]]));const w=X(m[1]);try{for(;w["System.Collections.IEnumerator.MoveNext"]();)w["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{ne(w)}}else throw new Error("")});const h=X(f);try{for(;h["System.Collections.IEnumerator.MoveNext"]();)h["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{ne(h)}});const c=gt(i);if(c.tag===1)return r(c.fields[0],l);throw new Error("")})(s))}class ld extends ${constructor(t,n,r,s,o){super(),this.Up=t,this.Down=n,this.Left=r,this.Right=s,this.A=o}}class cd extends ${constructor(t,n){super(),this.Thumbstick=t,this.Buttons=n}}class ke extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Gound","Wall"]}}class an extends ${constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Time=r}}class ad extends ${constructor(t,n){super(),this.Items=t,this.UpdateCounter=n}}function fd(e){e.UpdateCounter=Vn(Mo(e.UpdateCounter,1n))}class dd extends ${constructor(t,n,r){super(),this.Grid=t,this.Explosions=n,this.UpdateCounter=r}}class Xr extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Normal","Bomb"]}}class hd extends ${constructor(t,n,r,s,o,i){super(),this.Position=t,this.Angle=n,this.Tag=r,this.Frame=s,this.UpdateCounter=o,this.Mode=i}}function Nn(e){e.UpdateCounter=Vn(Mo(e.UpdateCounter,1n))}class md extends ${constructor(t){super(),this.Player1=t}}class Kr extends ${constructor(t,n,r,s){super(),this.Controller=t,this.World=n,this.Players=r,this.IsActive=s}}class bn extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Noop","Input","Focus","Blur","Tick"]}}function _d(){let e,t;const n=Rs(8,r=>Rs(8,s=>new ke(0,[])));return V(1,n)[1]=new ke(1,[]),V(3,n)[1]=new ke(1,[]),V(1,n)[3]=new ke(1,[]),V(2,n)[3]=new ke(1,[]),V(3,n)[3]=new ke(1,[]),V(4,n)[3]=new ke(1,[]),V(5,n)[4]=new ke(1,[]),V(5,n)[5]=new ke(1,[]),V(5,n)[3]=new ke(1,[]),V(1,n)[5]=new ke(1,[]),V(2,n)[5]=new ke(1,[]),V(3,n)[5]=new ke(1,[]),[(e=new dd(n,new ad([new an(4,4,2),new an(5,4,1),new an(6,4,0),new an(4,3,1),new an(4,2,0)],0n),0n),t=new md(new hd(new Q(.5,.5),"South","Idle",0,0n,new Xr(0,[]))),new Kr(new cd(Br(),new ld(!1,!1,!1,!1,!1)),e,t,!1)),Sl([ze(r=>{r(new bn(4,[]))})])]}function pd(e,t){const n=Or(t.Y,e.World.Grid);if(n!=null){const r=Or(t.X,n);return r!=null?r.tag===0:!1}else return!1}function gd(e,t){let n,r,s;switch(e.tag){case 4:{const o=t.Players.Player1;let i;const u=t.Controller.Buttons,l=t.Controller.Thumbstick;let c=Br(),f=0,d=0;if(u.Up&&(f=f-1),u.Down&&(f=f+1),u.Left&&(d=d-1),u.Right&&(d=d+1),(f!==0||d!==0)&&(c=new Rn(rr(Hr(),new Q(d,f)).Angle,1)),l.Distance>0&&(c=(n=l,new Rn(n.Angle,(g=>tr(g,1))(n.Distance)))),i=c,i.Distance>0){const g=Zs/200;o.Position=id(p=>pd(t,p),g,o.Position,i,.4),o.Angle=(r=Yc(i).Angle,r===0?"North":r===90?"East":r===180?"South":"West"),i.Distance>0?(o.Tag="Run",o.Frame=(o.Frame+i.Distance*g*4)%8):(o.Tag="Idle",o.Frame=0),Nn(o)}else o.Tag!=="Idle"&&(o.Tag="Idle",o.Frame=0,Nn(o));const h=t.World.Explosions.Items;for(let g=0;g<=h.length-1;g++){const p=V(g,h);p.Time=p.Time+.1}return fd(t.World.Explosions),[t,ze(g=>{of(Zs,()=>{g((()=>new bn(4,[]))())})})]}case 1:{const o=e.fields[0];switch(o.tag){case 0:{t.Controller.Thumbstick=rr(Hr(),new Q(o.fields[0],o.fields[1]));break}case 1:{const i=o.fields[0];switch(o.fields[1].tag){case 2:{t.Controller.Buttons.Left=i;break}case 1:{t.Controller.Buttons.Down=i;break}case 3:{t.Controller.Buttons.Right=i;break}default:t.Controller.Buttons.Up=i}break}default:{const i=o.fields[0];switch(o.fields[1]|0){case 32:{t.Controller.Buttons.A=i,i&&(t.Players.Player1.Mode=(s=t.Players.Player1.Mode,s.tag===1?new Xr(0,[]):new Xr(1,[])),Nn(t.Players.Player1));break}case 65:case 263:{t.Controller.Buttons.Left=i;break}case 68:case 262:{t.Controller.Buttons.Right=i;break}case 83:case 264:{t.Controller.Buttons.Down=i;break}case 87:case 265:{t.Controller.Buttons.Up=i;break}}}}return[t,Wn()]}case 2:{const o=new Kr(t.Controller,t.World,t.Players,!0);return Nn(o.Players.Player1),[o,Wn()]}case 3:{const o=new Kr(t.Controller,t.World,t.Players,!1),i=o.Controller.Buttons;return i.Up=!1,i.Left=!1,i.Down=!1,i.Right=!1,i.A=!1,o.Controller.Thumbstick=Br(),[o,Wn()]}default:return[t,Wn()]}}function Dr(e,t,n,r){return ve(t,r)}function wd(e){let t,n,r,s,o;return se((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,re(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0)),i=>{const u=kn(Tn(),l=>{ye(c=>{let f,d,h,g,p,_;const m=c|0,w=se((f=m*32,d=void 0,h=void 0,g=void 0,p=void 0,_=void 0,re(y(void 0,""),y(void 0,0),y(void 0,0),y(f,0),y(void 0,0),y(void 0,0),d??void 0,h??void 0,g??void 0,p??void 0,_??void 0)),E=>{const C=V(m,e.Grid);ye(D=>{const k=D|0,R=V(k,C),P=yi(Ie,R.tag===0?"Earth":"Wall",1,[k*32,m*32]);Mn(P,E),Ae(Ze,P)},sr(0,1,C.length-1))});l.push(new F(0,[w]))},sr(0,1,e.Grid.length-1))});i.push(new F(2,[u]))})}function yd(e){let t,n,r,s,o,i,u,l;const c=nn(Ie,`Player-${e.Angle}-${e.Tag}`),f=V(~~e.Frame+1-1,c.Frames);let d;return d=e.Mode.tag===1?"Bomb":"Normal",se((t=~~(e.Position.X*32)-16,n=~~(e.Position.Y*32)-16,r=~~((e.Position.Y+.4)*32),s=void 0,o=void 0,i=void 0,u=void 0,l=void 0,re(y(void 0,""),y(t,0),y(n,0),y(r,0),y(void 0,0),y(void 0,0),s??void 0,o??void 0,i??void 0,u??void 0,l??void 0)),g=>{const p=kn(Tn(),_=>{ye(m=>{let w,E,C,D;(w=V(m,f.Layers),cl(d,w.MetaData,{Equals:(k,R)=>k===R,GetHashCode:ir})?(E=(C=w,D=C,ge(0+D.Offset.X,0+D.Offset.Y,0,C.Rect.Width,C.Rect.Height,D.Texture,D.Rect.X,D.Rect.Y,D.Rect.Height,D.Rect.Width)),k=>{k.push(new F(1,[E]))}):k=>{})(_)},sr(0,1,f.Layers.length-1))});g.push(new F(2,[p]))})}function bd(e,t){let n,r,s,o,i,u,l;return se((n=e.World.Grid.length*32,r=V(0,e.World.Grid).length*32,s=void 0,o=void 0,i=void 0,u=c=>{t(new bn(2,[]))},l=c=>{t(new bn(3,[]))},re(y(void 0,""),y(400,0),y(100,0),y(1,0),y(n,0),y(r,0),s??void 0,o??void 0,i??void 0,u??void 0,l??void 0)),c=>{const f=fi(ai(y(void 0,""),d=>{const h=d;return new gr(h.Time,h.Resolution,h.Offset,h.VertexBuffer,h.TextureDetails,h.TextureLayer,[0,256])}),d=>{let h,g,p,_,m,w,E;const C=d;(h=(g=y(void 0,k=>R=>ut(k,R)),new it(y("input",""),e.IsActive,(k,R)=>{try{return g(k)(R)}catch(P){throw P}},(k,R)=>((P,A)=>{let W,v,H,M,G;return rf(P,()=>new nf),A&&_i(P,q=>{t(new bn(1,[q]))}),se((W=void 0,v=void 0,H=void 0,M=void 0,G=void 0,re(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),W??void 0,v??void 0,H??void 0,M??void 0,G??void 0)),q=>{const oe=kn(Tn(),Me=>{const O=Ft(Ie)(A?"Active":"Click on the world to activate");Me.push(new F(0,[O]))});q.push(new F(2,[oe]))})})(k,R))),k=>{k.push(new F(4,[h]))})(C);const D=se((p=void 0,_=void 0,m=void 0,w=void 0,E=void 0,re(y("world holder",""),y(void 0,0),y(64,0),y(void 0,0),y(void 0,0),y(void 0,0),p??void 0,_??void 0,m??void 0,w??void 0,E??void 0)),k=>{let R,P,A,W,v,H;const M=k;(R=(P=[e.World,e.World.UpdateCounter],A=y(O=>B=>Dr(O[0],O[1],B[0],B[1]),O=>B=>ut(O,B)),new it(y("world",""),P,(O,B)=>{try{return A(O)(B)}catch(fe){throw fe}},(O,B)=>((fe,xe)=>wd(xe[0]))(O,B))),O=>{O.push(new F(4,[R]))})(M);const G=M;(W=(v=[e.Players.Player1,e.Players.Player1.UpdateCounter],H=y(O=>B=>Dr(O[0],O[1],B[0],B[1]),O=>B=>ut(O,B)),new it(y("player",""),v,(O,B)=>{try{return H(O)(B)}catch(fe){throw fe}},(O,B)=>((fe,xe)=>yd(xe[0]))(O,B))),O=>{O.push(new F(4,[W]))})(G);let q;const oe=[e.World.Explosions.Items,e.World.Explosions.UpdateCounter],Me=y(O=>B=>Dr(O[0],O[1],B[0],B[1]),O=>B=>ut(O,B));q=new it(y("Explosion",""),oe,(O,B)=>{try{return Me(O)(B)}catch(fe){throw fe}},(O,B)=>((fe,xe)=>{let ft,$e,Be,He,Ke;return se((ft=void 0,$e=void 0,Be=void 0,He=void 0,Ke=void 0,re(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),ft??void 0,$e??void 0,Be??void 0,He??void 0,Ke??void 0)),Ot=>{const Et=kn(Tn(),Mt=>{ye(Ce=>{let Z,z,Ee,nt,sn,on,un,xt,Lt,Pt,Rt;(Z=Ce,z=~~(Z.Time*2%20)+1|0,z<12?(Ee=se((nt=Z.X*32,sn=Z.Y*32,on=Z.Y*32+31,un=void 0,xt=void 0,Lt=void 0,Pt=void 0,Rt=void 0,re(y("Fire",""),y(nt,0),y(sn,0),y(on,0),y(void 0,0),y(void 0,0),un??void 0,xt??void 0,Lt??void 0,Pt??void 0,Rt??void 0)),Ve=>{const ce=yi(Ie,"Explosion3",z,[0,0]);Mn(ce,Ve),Ae(Ze,ce)}),Ve=>{Ve.push(new F(0,[Ee]))}):Ve=>{})(Mt)},xe[0])});Ot.push(new F(2,[Et]))})})(O,B)),G.push(new F(4,[q]))});C.push(new F(0,[D]))});c.push(new F(3,[f]))})}function Sd(e){return ud(e,_d,gd,bd)}class T extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class Ci extends Se{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class Ei extends ${constructor(t,n){super(),this.Hash=t,this.Coders=n}}class Cd{constructor(){this.cache=new Map([])}}function Ed(){return new Cd}function Md(e,t,n){let r,s=Ye();if(r=[lr(e.cache,t,new le(()=>s,o=>{s=o})),s],r[0])return r[1];{const o=n();return Mu(e.cache,t,o),o}}const xd=Ed();function Ys(e){return e.slice(void 0,0+1).toLowerCase()+e.slice(1,e.length)}function Rd(e,t){switch(e.tag){case 2:return zu(Ys(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Ys(t)}}const kd=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,Xs=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,Td=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Dd(e){function t(r){return r.replace(Xs,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(kd.test(n))return il(n,"{","}","(",")");if(Xs.test(n))return t(n);if(Td.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function vd(e,t){try{return t.contents=Dd(e),!0}catch{return!1}}function Id(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}var jr;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(jr||(jr={}));function Vd(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function Ks(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Fd(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function Ad(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function Od(e,t){if(t&jr.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function Mi(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||Od(o,t),!Fd(n).test(i))return Vd(s,n)}return null}function Ld(e,t,n,r,s){const o=Mi(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[u,l]=Ks(!0,r);!n&&o.radix!==10&&i>=u&&i<=l&&(i=i<<32-r>>32-r);const[c,f]=Ks(n,r);if(i>=c&&i<=f)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function rn(e,t,n,r,s){try{return s.contents=Ld(e,t,n,r),!0}catch{return!1}}function Pd(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function $d(e,t,n,r,s){const o=Mi(e,t,s);if(o!=null){const i=(c,f)=>{const d=Math.max(c.length,f.length);return c.padStart(d,"0")<=f.padStart(d,"0")},u=o.sign==="-",l=Pd(n||o.radix!==10,o.radix,u);if(i(o.digits.toUpperCase(),l))return e=Ad(o.radix)+o.digits,e=u?o.sign+e:e,Iu(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function Bd(e,t,n,r,s){try{return s.contents=$d(e,t,n,r),!0}catch{return!1}}function xi(e,t){Hd(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function Hd(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function Ud(){return xi(-621355968e5,0)}function Wd(e){const[t,n]=ko(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return xi(t.getTime(),r)}function Nd(e,t){try{return t.contents=Wd(e),!0}catch{return!1}}class Ri{constructor(t){this.k=t}}function Te(e){return new Ri(e)}function L(e){return e.k}class Y extends Ri{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function De(e,t,n,r){return new Y(e,t,n,r)}function J(e){return e.left}function j(e){return e.right}function Yt(e){return e.h}function ki(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=x(n);if(s instanceof Y){const o=s;e=J(o),t=ki(j(o),r+1);continue e}else return r+1|0}else return r|0}}function Gd(e){return ki(e,0)}function We(e,t,n){let r,s,o;const i=e;if(i!=null){const f=x(i);o=f instanceof Y?(r=f,Yt(r)):1}else o=0;let u;const l=n;if(l!=null){const f=x(l);u=f instanceof Y?(s=f,Yt(s)):1}else u=0;const c=(o<u?u:o)|0;return c===0?Te(t):De(t,e,n,c+1)}function js(e,t,n){let r,s,o,i,u,l,c,f,d;const h=e;if(h!=null){const _=x(h);d=_ instanceof Y?(r=_,Yt(r)):1}else d=0;let g;const p=n;if(p!=null){const _=x(p);g=_ instanceof Y?(s=_,Yt(s)):1}else g=0;if(g>d+2){const _=x(n);if(_ instanceof Y){const m=_;if(o=J(m),(o!=null?(i=x(o),i instanceof Y?(u=i,Yt(u)):1):0)>d+1){const w=x(J(m));if(w instanceof Y){const E=w;return We(We(e,t,J(E)),L(E),We(j(E),L(m),j(m)))}else throw new Error("internal error: Set.rebalance")}else return We(We(e,t,J(m)),L(m),j(m))}else throw new Error("internal error: Set.rebalance")}else if(d>g+2){const _=x(e);if(_ instanceof Y){const m=_;if(l=j(m),(l!=null?(c=x(l),c instanceof Y?(f=c,Yt(f)):1):0)>g+1){const w=x(j(m));if(w instanceof Y){const E=w;return We(We(J(m),L(m),J(E)),L(E),We(j(E),t,n))}else throw new Error("internal error: Set.rebalance")}else return We(J(m),L(m),We(j(m),t,n))}else throw new Error("internal error: Set.rebalance")}else return We(e,t,n)}function Dn(e,t,n){if(n!=null){const r=x(n),s=e.Compare(t,L(r))|0;if(r instanceof Y){const o=r;return s<0?js(Dn(e,t,J(o)),L(o),j(o)):s===0?n:js(J(o),L(o),Dn(e,t,j(o)))}else{const o=e.Compare(t,L(r))|0;return o<0?De(t,void 0,n,2):o===0?n:De(t,n,void 0,2)}}else return Te(t)}function Ti(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=x(o),u=r.Compare(s,L(i))|0;if(i instanceof Y){const l=i;if(u<0){e=r,t=s,n=J(l);continue e}else{if(u===0)return!0;e=r,t=s,n=j(l);continue e}}else return u===0}else return!1}}function Di(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=x(r);if(s instanceof Y){const o=s;Di(n,J(o)),n(L(o)),e=n,t=j(o);continue e}else n(L(s))}break}}class Zd extends ${constructor(t,n){super(),this.stack=t,this.started=n}}function vi(e){e:for(;;){const t=e;if(N(t))return Pe();{const n=I(t),r=U(t);if(n!=null){const s=x(n);if(s instanceof Y){const o=s;e=te([J(o),Te(L(o)),j(o)],r);continue e}else return t}else{e=r;continue e}}}}function qs(e){return new Zd(vi(ze(e)),!1)}function Yd(){throw new Error("Enumeration not started")}function Xd(){throw new Error("Enumeration already started")}function zs(e){if(e.started){const t=e.stack;if(N(t))return Xd();if(I(t)!=null){const n=x(I(t));return L(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return Yd()}function Kd(e){if(e.started){const t=e.stack;if(N(t))return!1;if(I(t)!=null){if(x(I(t))instanceof Y)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=vi(U(t)),!N(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!N(e.stack)}function Js(e){let t=qs(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return zs(t)},"System.Collections.IEnumerator.get_Current"(){return zs(t)},"System.Collections.IEnumerator.MoveNext"(){return Kd(t)},"System.Collections.IEnumerator.Reset"(){t=qs(e)},Dispose(){}}}function jd(e,t,n){e:for(;;){const r=e,s=t,o=n;if(N(s))return N(o)?0:-1;if(N(o))return 1;if(I(o)!=null)if(I(s)!=null){const i=x(I(s)),u=x(I(o));if(i instanceof Y){const l=i;if(J(l)==null)if(u instanceof Y){const c=u;if(J(c)==null){const f=r.Compare(L(l),L(c))|0;if(f!==0)return f|0;e=r,t=qe(j(l),U(s)),n=qe(j(c),U(o));continue e}else{let f,d,h,g,p;switch(N(s)?N(o)?f=2:I(o)!=null?(f=1,g=U(o),p=x(I(o))):f=2:I(s)!=null?(f=0,d=U(s),h=x(I(s))):N(o)?f=2:I(o)!=null?(f=1,g=U(o),p=x(I(o))):f=2,f){case 0:if(h instanceof Y){const _=h;e=r,t=te([J(_),De(L(_),void 0,j(_),0)],d),n=o;continue e}else{e=r,t=te([void 0,Te(L(h))],d),n=o;continue e}case 1:if(p instanceof Y){const _=p;e=r,t=s,n=te([J(_),De(L(_),void 0,j(_),0)],g);continue e}else{e=r,t=s,n=te([void 0,Te(L(p))],g);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(L(l),L(u))|0;if(c!==0)return c|0;e=r,t=qe(j(l),U(s)),n=qe(void 0,U(o));continue e}else{let c,f,d,h,g;switch(N(s)?N(o)?c=2:I(o)!=null?(c=1,h=U(o),g=x(I(o))):c=2:I(s)!=null?(c=0,f=U(s),d=x(I(s))):N(o)?c=2:I(o)!=null?(c=1,h=U(o),g=x(I(o))):c=2,c){case 0:if(d instanceof Y){const p=d;e=r,t=te([J(p),De(L(p),void 0,j(p),0)],f),n=o;continue e}else{e=r,t=te([void 0,Te(L(d))],f),n=o;continue e}case 1:if(g instanceof Y){const p=g;e=r,t=s,n=te([J(p),De(L(p),void 0,j(p),0)],h);continue e}else{e=r,t=s,n=te([void 0,Te(L(g))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof Y){const l=u;if(J(l)==null){const c=r.Compare(L(i),L(l))|0;if(c!==0)return c|0;e=r,t=qe(void 0,U(s)),n=qe(j(l),U(o));continue e}else{let c,f,d,h,g;switch(N(s)?N(o)?c=2:I(o)!=null?(c=1,h=U(o),g=x(I(o))):c=2:I(s)!=null?(c=0,f=U(s),d=x(I(s))):N(o)?c=2:I(o)!=null?(c=1,h=U(o),g=x(I(o))):c=2,c){case 0:if(d instanceof Y){const p=d;e=r,t=te([J(p),De(L(p),void 0,j(p),0)],f),n=o;continue e}else{e=r,t=te([void 0,Te(L(d))],f),n=o;continue e}case 1:if(g instanceof Y){const p=g;e=r,t=s,n=te([J(p),De(L(p),void 0,j(p),0)],h);continue e}else{e=r,t=s,n=te([void 0,Te(L(g))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(L(i),L(u))|0;if(l!==0)return l|0;e=r,t=U(s),n=U(o);continue e}}else{x(I(o));let i,u,l,c,f;switch(N(s)?N(o)?i=2:I(o)!=null?(i=1,c=U(o),f=x(I(o))):i=2:I(s)!=null?(i=0,u=U(s),l=x(I(s))):N(o)?i=2:I(o)!=null?(i=1,c=U(o),f=x(I(o))):i=2,i){case 0:if(l instanceof Y){const d=l;e=r,t=te([J(d),De(L(d),void 0,j(d),0)],u),n=o;continue e}else{e=r,t=te([void 0,Te(L(l))],u),n=o;continue e}case 1:if(f instanceof Y){const d=f;e=r,t=s,n=te([J(d),De(L(d),void 0,j(d),0)],c);continue e}else{e=r,t=s,n=te([void 0,Te(L(f))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(I(s)!=null){x(I(s));let i,u,l,c,f;switch(N(s)?N(o)?i=2:I(o)!=null?(i=1,c=U(o),f=x(I(o))):i=2:I(s)!=null?(i=0,u=U(s),l=x(I(s))):N(o)?i=2:I(o)!=null?(i=1,c=U(o),f=x(I(o))):i=2,i){case 0:if(l instanceof Y){const d=l;e=r,t=te([J(d),De(L(d),void 0,j(d),0)],u),n=o;continue e}else{e=r,t=te([void 0,Te(L(l))],u),n=o;continue e}case 1:if(f instanceof Y){const d=f;e=r,t=s,n=te([J(d),De(L(d),void 0,j(d),0)],c);continue e}else{e=r,t=s,n=te([void 0,Te(L(f))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=U(s),n=U(o);continue e}}}function Qs(e,t,n){return t==null?n==null?0:-1:n==null?1:jd(e,ze(t),ze(n))|0}function qd(e,t,n){let r=n;Di(s=>{At(t,r,s),r=r+1|0},e)}function zd(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){e=r,t=Dn(r,o["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=o;continue e}else return s}}function Jd(e,t){return fr((n,r)=>Dn(e,r,n),void 0,t)}function Qd(e,t){return tn((n,r)=>Dn(e,r,n),void 0,t)}function e0(e,t){if(Oe(t))return Jd(e,t);if(t instanceof Le)return Qd(e,t);{const n=X(t);try{return zd(e,void 0,n)}finally{ne(n)}}}class _s{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return r0(this)|0}Equals(t){let n;const r=this;return t instanceof _s&&(n=t,Qs(Yn(r),je(r),je(n))===0)}toString(){return"set ["+ar("; ",_t(n=>Xe(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return Qs(Yn(n),je(n),je(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return Ti(Yn(n),t,je(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){qd(je(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return vr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return vr(this)|0}GetEnumerator(){return Js(je(this))}[Symbol.iterator](){return Jt(X(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Js(je(this))}get size(){return vr(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return n0(this,t)}keys(){return _t(n=>n,this)}values(){return _t(n=>n,this)}entries(){return _t(n=>[n,n],this)}forEach(t,n){const r=this;ye(s=>{t(s,s,r)},r)}}function t0(e,t){return new _s(e,t)}function Yn(e){return e.comparer}function je(e){return e.tree}function vr(e){return Gd(je(e))}function n0(e,t){return Ti(Yn(e),t,je(e))}function r0(e){let t=0;const n=X(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+lt(r)+631|0}}finally{ne(n)}return Math.abs(t)|0}function s0(e,t){return t0(t,e0(t,e))}function fn(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function o0(e,t){const n=t.tag===2?fn(t.fields[0],t.fields[1],!0):t.tag===1?fn(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?fn(t.fields[0],t.fields[1],!0):t.tag===4?fn(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+ar(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:fn(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function Ii(e,t,n){const r=t(e,n);if(r.tag===1){const s=r.fields[0];return new S(1,[o0(s[0],s[1])])}else return new S(0,[r.fields[0]])}function i0(e,t){try{return Ii("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new S(1,["Given an invalid JSON: "+n.message]);throw n}}function u0(e,t){const n=i0(e,t);if(n.tag===1)throw new Error(n.fields[0]);return n.fields[0]}function Vi(e,t){return typeof t=="string"?new S(0,[t]):new S(1,[[e,new T(0,["a string",t])]])}function l0(e,t){if(typeof t=="string"){const n=t;return n.length===1?new S(0,[n[0]]):new S(1,[[e,new T(0,["a single character string",t])]])}else return new S(1,[[e,new T(0,["a char",t])]])}function c0(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[vd(t,new le(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new T(0,["a guid",t])]])}else return new S(1,[[e,new T(0,["a guid",t])]])}function a0(e,t){return t==null?new S(0,[void 0]):new S(1,[[e,new T(0,["null",t])]])}const eo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-128<=s&&s<=127?new S(0,[(s+128&255)-128]):new S(1,[[n,new T(1,["a sbyte",s,"Value was either too large or too small for a sbyte"])]]):new S(1,[[n,new T(1,["a sbyte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[rn(r,511,!1,8,new le(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new T(0,["a sbyte",r])]])}else return new S(1,[[n,new T(0,["a sbyte",r])]])},to=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=255?new S(0,[s&255]):new S(1,[[n,new T(1,["a byte",s,"Value was either too large or too small for a byte"])]]):new S(1,[[n,new T(1,["a byte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[rn(r,511,!0,8,new le(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new T(0,["a byte",r])]])}else return new S(1,[[n,new T(0,["a byte",r])]])},no=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-32768<=s&&s<=32767?new S(0,[(s+32768&65535)-32768]):new S(1,[[n,new T(1,["an int16",s,"Value was either too large or too small for an int16"])]]):new S(1,[[n,new T(1,["an int16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[rn(r,511,!1,16,new le(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new T(0,["an int16",r])]])}else return new S(1,[[n,new T(0,["an int16",r])]])},ro=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=65535?new S(0,[s&65535]):new S(1,[[n,new T(1,["an uint16",s,"Value was either too large or too small for an uint16"])]]):new S(1,[[n,new T(1,["an uint16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[rn(r,511,!0,16,new le(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new T(0,["an uint16",r])]])}else return new S(1,[[n,new T(0,["an uint16",r])]])},so=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-2147483648<=s&&s<=2147483647?new S(0,[~~s]):new S(1,[[n,new T(1,["an int",s,"Value was either too large or too small for an int"])]]):new S(1,[[n,new T(1,["an int",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[rn(r,511,!1,32,new le(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new T(0,["an int",r])]])}else return new S(1,[[n,new T(0,["an int",r])]])},oo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=4294967295?new S(0,[s>>>0]):new S(1,[[n,new T(1,["an uint32",s,"Value was either too large or too small for an uint32"])]]):new S(1,[[n,new T(1,["an uint32",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[rn(r,511,!0,32,new le(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new T(0,["an uint32",r])]])}else return new S(1,[[n,new T(0,["an uint32",r])]])},f0=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?ws(-9223372036854775808n)<=s&&s<=ws(9223372036854775807n)?new S(0,[Vn(vu(s))]):new S(1,[[n,new T(1,["an int64",s,"Value was either too large or too small for an int64"])]]):new S(1,[[n,new T(1,["an int64",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0n;return s=[Bd(r,511,!1,64,new le(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new T(0,["an int64",r])]])}else return new S(1,[[n,new T(0,["an int64",r])]])};function d0(e,t){return typeof t=="boolean"?new S(0,[t]):new S(1,[[e,new T(0,["a boolean",t])]])}function h0(e,t){return typeof t=="number"?new S(0,[t]):new S(1,[[e,new T(0,["a float",t])]])}function m0(e,t){return typeof t=="number"?new S(0,[t]):new S(1,[[e,new T(0,["a float32",t])]])}function _0(e,t){if(typeof t=="string"){let n,r=Uu();return n=[Nu(t,new le(()=>r,s=>{r=s})),r],n[0]?new S(0,[Gu(n[1])]):new S(1,[[e,new T(0,["a datetime",t])]])}else return new S(1,[[e,new T(0,["a datetime",t])]])}function p0(e,t){if(typeof t=="string"){let n,r=Ud();return n=[Nd(t,new le(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new T(0,["a datetimeoffset",t])]])}else return new S(1,[[e,new T(0,["a datetime",t])]])}function g0(e,t){if(typeof t=="string"){let n,r=0;return n=[df(t,new le(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new T(0,["a timespan",t])]])}else return new S(1,[[e,new T(0,["a timespan",t])]])}function io(e,t,n,r){let s;const o=n+".["+wt(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(o,V(e,i)):new S(1,[[o,new T(5,["a longer array. Need index `"+wt(e)+"` but there are only `"+(s=i.length,wt(s))+"` entries",r])]])}else return new S(1,[[o,new T(0,["an array",r])]])}function w0(e,t,n){return n==null?new S(0,[void 0]):at(be,e(t,n))}function uo(e,t,n){if(Array.isArray(n)){let r=-1;return at(ss,fr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+wt(r)+"]",o);return i.tag===0?new S(0,[qe(i.fields[0],s.fields[0])]):new S(1,[i.fields[0]])}else return s},new S(0,[Pe()]),n))}else return new S(1,[[t,new T(0,["a list",n])]])}function y0(e,t,n){if(Array.isArray(n)){let r=-1;return at(Xl,fr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+wt(r)+"]",o);return i.tag===0?new S(0,[ls([i.fields[0]],s.fields[0])]):new S(1,[i.fields[0]])}else return s},new S(0,[[]]),n))}else return new S(1,[[t,new T(0,["a seq",n])]])}function lo(e,t,n){if(Array.isArray(n)){let r=-1;const s=n;return fr((o,i)=>{if(r=r+1|0,o.tag===0){const u=o.fields[0],l=e(t+".["+wt(r)+"]",i);return l.tag===0?(At(u,r,l.fields[0]),new S(0,[u])):new S(1,[l.fields[0]])}else return o},new S(0,[en(new Array(s.length),0,s.length,null)]),s)}else return new S(1,[[t,new T(0,["an array",n])]])}function b0(e,t,n){return((s,o)=>{e:for(;;){const i=s,u=o;if(N(i))return new S(1,[[t,new T(7,[u])]]);{const l=Ii(t,pe(I(i)),n);if(l.tag===1){s=U(i),o=Lr(u,ze(l.fields[0]));continue e}else return new S(0,[l.fields[0]])}}})(e,Pe())}function S0(e,t,n){return new S(0,[e])}function co(e,t,n,r){const s=t(n,r);return s.tag===0?e(s.fields[0],n,r):new S(1,[s.fields[0]])}function C0(e,t,n,r){const s=t(n,r);return s.tag===1?new S(1,[s.fields[0]]):new S(0,[e(s.fields[0])])}function E0(e,t){let n;const r=e;return n=s=>o=>io(0,r,s,o),s=>o=>co(Xi(i=>{let u;const l=t;return u=c=>f=>io(1,l,c,f),c=>f=>co((d,h,g)=>S0([i,d]),pe(u),c,f)}),pe(n),s,o)}function M0(e){return gc(e,{Compare:Qe})}function x0(e){return s0(e,{Compare:Qe})}function R0(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?ml((r,s)=>{const o=r[0];return s.tag===0?at(i=>qe(i,s.fields[0]),r[1](t+"."+o)(n[o])):s},e,new S(0,[Pe()])):new S(1,[[t,new T(0,["an object",n])]])}function k0(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?Wo((s,o)=>{if(s.tag===0){const i=e(n,o);if(i.tag===0){const u=t(n+"."+o,r[o]);return u.tag===0?new S(0,[qe([i.fields[0],u.fields[0]],s.fields[0])]):new S(1,[u.fields[0]])}else return new S(1,[i.fields[0]])}else return s},new S(0,[Pe()]),Object.keys(r)):new S(1,[[n,new T(0,["an object",r])]])}function Fi(e,t,n,r){let s;const o=t.length+e|0;if(o!==r.length)return new S(1,[[n,new T(6,[(s=r.length|0,er(Qn("Expected array of length %i but got %i"))(o)(s))])]]);{let i=new S(0,[Pe()]);for(let u=e;u<=r.length-1;u++)if(i.tag===0){const l=i.fields[0],c=er(Qn("%s[%i]"))(n)(u),f=V(u-e,t),d=V(u,r);i=at(h=>qe(h,l),f(c)(d))}return at(ss,i)}}function ao(e,t,n,r,s,o){const i=hl(u=>Qr(u)===r,hu(n));if(i!=null){const u=i,l=rs(c=>Ne(e,t,!1,c[1]),gu(u));return at(c=>wu(u,hr(c)),l.length===0&&o.length<=1?new S(0,[Pe()]):Fi(1,l,s,o))}else return new S(1,[[s,new T(6,["Cannot find case "+r+" in "+ae(n)])]])}function fo(e,t,n,r){let s;const o=new le(Ye());let i;const u=ae(r);i=u===""?e:Ko(u,o,e);let l;if(pu(r)){const c=rs(f=>[Rd(t,Qr(f)),Ne(i,t,!1,f[1])],zn(r));l=f=>d=>at(h=>yu(r,hr(h)),R0(c,f,d))}else if(_u(r))l=c=>f=>{if(typeof f=="string")return ao(i,t,r,f,c,[]);if(Array.isArray(f)){const d=f;return Rl(h=>ao(i,t,r,h,c,d),Vi(c+"[0]",V(0,d)))}else return new S(1,[[c,new T(0,["a string or array",f])]])};else if(n)l=c=>f=>new S(1,[[c,new T(2,["an extra coder for "+ae(r),f])]]);else throw new Error((s=ae(r),er(Qn(`Cannot generate auto decoder for %s. Please pass an extra decoder.

Documentation available at: https://thoth-org.github.io/Thoth.Json/documentation/auto/extra-coders.html#ready-to-use-extra-coders`))(s)));return o.contents=l,l}function Ne(e,t,n,r){let s,o,i,u;const l=ae(r),c=_c(l,e);if(c==null)if(lu(r)){const f=Ne(e,t,!1,ur(r));return d=>h=>lo(pe(f),d,h)}else if(So(r))switch(ae(fu(r))){case"System.SByte":return d=>h=>{const g=r,p=d,_=h,m=eo(p)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const w=m.fields[0]|0;return Ut(w,$t(g),{Equals:(E,C)=>E===C,GetHashCode:st})?new S(0,[Bt(g,w.toString())]):new S(1,[[p,new T(1,[ae(g),_,"Unkown value provided for the enum"])]])}};case"System.Byte":return d=>h=>{const g=r,p=d,_=h,m=to(p)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const w=m.fields[0];return Ut(w,$t(g),{Equals:(E,C)=>E===C,GetHashCode:st})?new S(0,[Bt(g,w.toString())]):new S(1,[[p,new T(1,[ae(g),_,"Unkown value provided for the enum"])]])}};case"System.Int16":return d=>h=>{const g=r,p=d,_=h,m=no(p)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const w=m.fields[0]|0;return Ut(w,$t(g),{Equals:(E,C)=>E===C,GetHashCode:st})?new S(0,[Bt(g,Hi(w))]):new S(1,[[p,new T(1,[ae(g),_,"Unkown value provided for the enum"])]])}};case"System.UInt16":return d=>h=>{const g=r,p=d,_=h,m=ro(p)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const w=m.fields[0];return Ut(w,$t(g),{Equals:(E,C)=>E===C,GetHashCode:st})?new S(0,[Bt(g,w.toString())]):new S(1,[[p,new T(1,[ae(g),_,"Unkown value provided for the enum"])]])}};case"System.Int32":return d=>h=>{const g=r,p=d,_=h,m=so(p)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const w=m.fields[0]|0;return Ut(w,$t(g),{Equals:(E,C)=>E===C,GetHashCode:st})?new S(0,[Bt(g,wt(w))]):new S(1,[[p,new T(1,[ae(g),_,"Unkown value provided for the enum"])]])}};case"System.UInt32":return d=>h=>{const g=r,p=d,_=h,m=oo(p)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const w=m.fields[0];return Ut(w,$t(g),{Equals:(E,C)=>E===C,GetHashCode:st})?new S(0,[Bt(g,w.toString())]):new S(1,[[p,new T(1,[ae(g),_,"Unkown value provided for the enum"])]])}};default:{const d=ae(r),h=tl(Qn(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the following enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(d);return g=>h(g)}}else if(cu(r))if(Co(r)){const f=rs(d=>Ne(e,t,!1,d),mu(r));return d=>h=>Array.isArray(h)?at(g=>bu(hr(g)),Fi(0,f,d,h)):new S(1,[[d,new T(0,["an array",h])]])}else switch(ae(au(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return s=Ne(e,t,!0,V(0,ot(r))),d=>h=>w0(pe(s),d,h);case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return o=Ne(e,t,!1,V(0,ot(r))),d=>h=>uo(pe(o),d,h);case"System.Collections.Generic.IEnumerable`1[System.Object]":return i=Ne(e,t,!1,V(0,ot(r))),d=>h=>y0(pe(i),d,h);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const d=Ne(e,t,!1,V(0,ot(r))),h=Ne(e,t,!1,V(1,ot(r)));let g;const p=os([_=>m=>k0(pe(d),pe(h),_,m),(u=E0(pe(d),pe(h)),_=>m=>uo(pe(u),_,m))]);return g=_=>m=>b0(p,_,m),_=>m=>C0(M0,pe(g),_,m)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const d=Ne(e,t,!1,V(0,ot(r)));return h=>g=>{const p=lo(pe(d),h,g);return p.tag===0?new S(0,[x0(p.fields[0])]):new S(1,[p.fields[0]])}}default:return fo(e,t,n,r)}else switch(l){case"System.Boolean":return f=>d=>d0(f,d);case"Microsoft.FSharp.Core.Unit":return f=>d=>a0(f,d);case"System.String":return f=>d=>Vi(f,d);case"System.Char":return f=>d=>l0(f,d);case"System.SByte":return eo;case"System.Byte":return to;case"System.Int16":return no;case"System.UInt16":return ro;case"System.Int32":return so;case"System.UInt32":return oo;case"System.Double":return f=>d=>h0(f,d);case"System.Single":return f=>d=>m0(f,d);case"System.DateTime":return f=>d=>_0(f,d);case"System.DateTimeOffset":return f=>d=>p0(f,d);case"System.TimeSpan":return f=>d=>g0(f,d);case"System.Guid":return f=>d=>c0(f,d);case"System.Object":return f=>d=>new S(0,[d]);default:return fo(e,t,n,r)}else{const f=c;return d=>h=>f.contents(d)(h)}}function T0(e){return e!=null?pc((t,n)=>new le(n[1]),e.Coders):jo({Compare:_o})}function D0(e,t,n){let r,s;const o=y(t,new Ci(0,[]));return Md(xd,(r=(s=ae(e),Xe(o)+s),y(Eo(i=>i.Hash,n),"")+r),()=>Ne(T0(n),o,!1,e))}class v0 extends ${constructor(t,n,r,s){super(),this.Texture=t,this.Rect=n,this.Offset=r,this.MetaData=s}}function I0(e){return In("Imp.SpriteHelpers.Models.Layer`1",[e],v0,()=>[["Texture",Jr],["Rect",Nc()],["Offset",Wc()],["MetaData",e]])}class V0 extends ${constructor(t){super(),this.Layers=t}}function F0(e){return In("Imp.SpriteHelpers.Models.Frame`1",[e],V0,()=>[["Layers",zr(I0(e))]])}class A0 extends ${constructor(t,n){super(),this.Name=t,this.Frames=n}}function O0(e){return In("Imp.SpriteHelpers.Models.SpriteInfo`1",[e],A0,()=>[["Name",Jr],["Frames",zr(F0(e))]])}function L0(e){return String(e)}const P0=new Ei("",jo({Compare:_o})),$0=new Ci(1,[]),B0=new Ei((()=>Id())(),Ko("System.Int64",[L0,f0],P0.Coders));function H0(){let e,t,n,r,s;return se((e=void 0,t=void 0,n=void 0,r=void 0,s=void 0,re(y(void 0,""),y(void 0,0),y(void 0,0),y(1,0),y(void 0,0),y(void 0,0),e??void 0,t??void 0,n??void 0,r??void 0,s??void 0)),o=>{const i=fi(ai(y(void 0,""),u=>{const l=u;return new gr(l.Time,l.Resolution,l.Offset,l.VertexBuffer,l.TextureDetails,l.TextureLayer,[0,10])}),u=>{const l=xf(Rf(new bf(0,130,130)),c=>{let f;const d=c;(f=kn(Tn(),g=>{let p,_,m;const w=g;(p=Qf("FrameRate"),k=>{k.push(new F(4,[p]))})(w);const E=w;(_=ed("DemoWindow"),k=>{k.push(new F(4,[_]))})(E);const C=E;(m=nd("DemoMouse"),k=>{k.push(new F(4,[m]))})(C);const D=td("DemoMouse");C.push(new F(0,[D]))}),g=>{g.push(new F(2,[f]))})(d);const h=Sd("SmallWorld");d.push(new F(4,[h]))});u.push(new F(2,[l]))});o.push(new F(3,[i]))})}function U0(){or(or()+1)}function W0(e,t){const n=gi(Ie),r=e;r["Imp.Setup.DataManager.LoadString"]("sprites.json",s=>{const o=X(u0(pe(D0(iu(O0(zr(Jr))),$0,B0)),s));try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();n.set(i.Name,i);const u=i.Frames;for(let l=0;l<=u.length-1;l++){const c=V(l,u).Layers;for(let f=0;f<=c.length-1;f++)Eu(V(f,c).Texture,pi(r))}}}finally{ne(o)}(()=>{t["Imp.Setup.Display.AttachInputZ2D84AEB6"](u=>{u.AttachKeyboard(),u.AttachGamepad(),u.AttachMouse()});const i=H0();t["Imp.Setup.Display.AttachView"](e,i,()=>{U0()}),t["Imp.Setup.Display.Run"]()})()})}const N0=pf("data"),G0=yf("App",800,600);W0(N0,G0);
