(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function We(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function ji(e){return e!=null&&typeof e.GetEnumerator=="function"}function Ki(e){return e!=null&&typeof e.CompareTo=="function"}function qi(e){return e!=null&&typeof e.Equals=="function"}function zi(e){return e!=null&&typeof e.GetHashCode=="function"}function Ji(e){return e!=null&&typeof e.Dispose=="function"}function Q(e){Ji(e)&&e.Dispose()}function Qe(){return null}function zn(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class Qi{constructor(t){this.iter=t,this.current=Qe()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function N(e){return ji(e)?e.GetEnumerator():new Qi(e[Symbol.iterator]())}function nn(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class Io{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function q(e,t){return e.toString(10).padStart(t,"0")}function Is(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function eu(e,t){return e=e<0&&t!=null&&t!==10?65535+e+1:e,e.toString(t)}function wt(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class pt{static id(t){return pt.idMap.has(t)||pt.idMap.set(t,++pt.count),pt.idMap.get(t)}}pt.idMap=new WeakMap;pt.count=0;function lr(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function st(e){return e*2654435761|0}function tu(e){return lr(e.toString(32))}function Tn(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function nu(e){return e.getTime()}function ru(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=lt(e[r]);return Tn(n)}function lt(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return st(e);case"bigint":return tu(e);case"string":return lr(e);default:{if(zi(e))return e.GetHashCode();if(We(e))return ru(e);if(e instanceof Date)return nu(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>lt(n));return Tn(t)}else return st(pt.id(e))}}}function $r(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Vt(e,t){return $r(e,t,Ae)}function su(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!Ae(e[n[s]],t[r[s]]))return!1;return!0}function Ae(e,t){return e===t?!0:e==null?t==null:t==null?!1:qi(e)?e.Equals(t):We(e)?We(t)&&Vt(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&is(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&su(e,t)}function is(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+Is(e),r=t.getTime()+Is(t)),n===r?0:n<r?-1:1}function vo(e,t){return e===t?0:e<t?-1:1}function ou(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function Fo(e,t){return ou(e,t,et)}function iu(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=et(e[i],t[i]),o!==0)return o}return 0}function et(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:Ki(e)?e.CompareTo(t):We(e)?We(t)?Fo(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?is(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?iu(e,t):-1}function Ao(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}function Lr(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),o=r-s,i=1e-8,u=o>.5-i&&o<.5+i?s%2===0?s:s+1:Math.round(r);return t?u/n:u}function ct(e){We(e)?e.splice(0):e.clear()}const Oo=new WeakMap;function be(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return Oo.set(t,e),t}function uu(e){if(e==null)return null;const t=(n,r,s)=>e(n)(r)(s);return Oo.set(t,e),t}function lu(e,t,n,r,s){if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))n.set(e.subarray(t,t+s),r);else for(let o=0;o<s;++o)n[r+o]=e[t+o]}function cu(e){let t=0,n="[";for(const r of e){if(t===0)n+=je(r);else if(t===100){n+="; ...";break}else n+="; "+je(r);t++}return n+"]"}function je(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return cu(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,s])=>r+" = "+je(s,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function au(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=je(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>je(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class Ee{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return au(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>lt(n));return t.splice(0,0,st(this.tag)),Tn(t)}Equals(t){return this===t?!0:zn(this,t)&&this.tag===t.tag?Vt(this.fields,t.fields):!1}CompareTo(t){return this===t?0:zn(this,t)?this.tag===t.tag?Fo(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function fu(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function du(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+je(n)).join(`
  `)+" }"}function hu(e){const t=Object.values(e).map(n=>lt(n));return Tn(t)}function _u(e,t){if(e===t)return!0;if(zn(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!Ae(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function pu(e,t){if(e===t)return 0;if(zn(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=et(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class P{toJSON(){return fu(this)}toString(){return du(this)}GetHashCode(){return hu(this)}Equals(t){return _u(this,t)}CompareTo(t){return pu(this,t)}}class le{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}class mu{constructor(t){this.message=t}}function gu(e){return e instanceof mu||e instanceof Error}function wu(e){return e instanceof Promise}function vs(e){return gu(e)||wu(e)?e:new Error(String(e))}const rn=Symbol("numeric");function Vo(e){return typeof e=="number"||typeof e=="bigint"||e?.[rn]}function yu(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Hr(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[rn]().multiply(t)}function Zn(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[rn]().toFixed(t)}function Jn(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[rn]().toPrecision(t)}function Qn(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[rn]().toExponential(t)}function er(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[rn]().toHex()}class nt{constructor(t,n,r,s,o,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=o,this.cases=i,this.enumCases=u}toString(){return ue(this)}GetHashCode(){return Po(this)}Equals(t){return Wr(this,t)}}function ot(e){return e.generics!=null?e.generics:[]}function Po(e){const t=lr(e.fullname),n=ot(e).map(Po);return Tn([t,...n])}function Wr(e,t){return e.fullname===""?t.fullname===""&&$r(tr(e),tr(t),([n,r],[s,o])=>n===s&&Wr(r,o)):e.fullname===t.fullname&&$r(ot(e),ot(t),Wr)}function kn(e,t,n,r){return new nt(e,t,n,void 0,r)}function Su(e){return new nt("Microsoft.FSharp.Collections.FSharpList`1",[e])}function us(e){return new nt("[]",[e])}const bu=new nt("System.Object"),ls=new nt("System.String"),Yt=new nt("System.Int32");function cs(e){if(Array.isArray(e))return e[0];if(e instanceof nt){const t=cr(e);if(t!=null)return cs(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function ue(e){const t=cr(e);return t!=null?ue(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>ue(n)).join(",")+"]"}function Cu(e){return cr(e)!=null}function cr(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function Eu(e){return e.generics!=null&&e.generics.length>0}function Bo(e){return e.enumCases!=null&&e.enumCases.length>0}function Mu(e){return e.generics==null?e:new nt(e.fullname,e.generics.map(()=>bu))}function xu(e){return e.generics?.[0]}function Wt(e){if(Bo(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function Ru(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function Nt(e,t){const n=parseInt(t,10);return Ru(e,isNaN(n)?t:n)[1]}function Du(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function tr(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function Tu(e){if($o(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function ku(e){return e instanceof nt?e.cases!=null:e instanceof Ee}function Iu(e){return e instanceof nt?e.fields!=null:e instanceof P}function $o(e){return e.fullname.startsWith("System.Tuple")}function vu(e){return e.fields==null?[]:e.fields}function Fu(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function Au(e,t){const n=tr(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,o],i)=>(r[s]=t[i],r),{})}function Ou(e,t){return e}const Ot={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function Rr(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function Vu(e,t){switch(t){case Ot.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Ot.SnakeCase:return Rr(e,"_");case Ot.SnakeCaseAllCaps:return Rr(e,"_").toUpperCase();case Ot.KebabCase:return Rr(e,"-");case Ot.None:default:return e}}function Pu(e,t=Ot.None){const n={},r=t;function s(i){throw new Error("Cannot infer key and value of "+String(i))}function o(i,u,l){i=Vu(i,u),n[i]=l}for(let i of e){let u=Ot.None;if(i==null&&s(i),i instanceof Ee){const l=i.cases()[i.tag];i=i.fields.length===0?l:[l].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:s(i);break;case 1:o(i[0],u,!0);break;case 2:const l=i[1];o(i[0],u,l);break;default:o(i[0],u,i.slice(1))}else typeof i=="string"?o(i,u,!0):s(i)}return n}function as(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Bu(e,t){return t.has(e)?!1:(t.add(e),!0)}function $u(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}class Lu extends P{constructor(t,n,r){super(),this.Pixels=t,this.Width=n,this.Height=r}}class ar extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,ar.prototype)}}function Hu(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new ar);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(n){t.onError(vs(n))}});else try{e(t)}catch(n){t.onError(vs(n))}}}class Qt{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return lt(this.value)}Equals(t){return t==null?!1:Ae(this.value,t instanceof Qt?t.value:t)}CompareTo(t){return t==null?1:et(this.value,t instanceof Qt?t.value:t)}}function M(e){if(e==null)throw new Error("Option has no value");return e instanceof Qt?e.value:e}function pe(e){return e==null||e instanceof Qt?new Qt(e):e}function gn(e){return e==null?[]:[M(e)]}function S(e,t){return e!=null?M(e):t}function Lo(e,t){return t!=null?pe(e(M(t))):void 0}class Dr extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Choice1Of2","Choice2Of2"]}}function Wu(e){return Nu(t=>e.then(t[0]).catch(n=>(n instanceof ar?t[2]:t[1])(n)))}function Nu(e){return Hu(t=>e([t.onSuccess,t.onError,t.onCancel]))}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function Uu(e,t){return e===t}function Ho(e,t){return e+t}function Wo(e){return BigInt(e)}function Gu(e){return BigInt(Math.trunc(e))}function Zu(e){return BigInt(e)}function In(e){return BigInt.asIntN(64,e)}function Fs(e){return Number(e)}const Yu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Xu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ju=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ku=["January","February","March","April","May","June","July","August","September","October","November","December"];function Pe(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function As(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function qu(e,t){let n=t;const r=e[t];let s="",o=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){o=!0;break}else if(i==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=i}if(!o)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function fs(e,t,n){let r=0,s=0,o="";const i=n?bt(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(s=Pe(t,r,"d"),r+=s,s){case 1:o+=Vs(i);break;case 2:o+=q(Vs(i),2);break;case 3:o+=Yu[$s(i)];break;case 4:o+=Xu[$s(i)];break}break;case"f":if(s=Pe(t,r,"f"),r+=s,s<=3){const g=10**(3-s);o+=q(Math.floor(Pn(i)/g),s)}else s<=7&&(o+=(""+Pn(i)).padEnd(s,"0"));break;case"F":if(s=Pe(t,r,"F"),r+=s,s<=3){const g=10**(3-s),y=Math.floor(Pn(i)/g);y!=0&&(o+=q(y,s))}else if(s<=7){const g=Pn(i);g!=0&&(o+=q(g,3))}break;case"g":s=Pe(t,r,"g"),r+=s,s<=2&&(o+="A.D.");break;case"h":switch(s=Pe(t,r,"h"),r+=s,s){case 1:o+=Vn(i)%12;break;case 2:o+=q(Vn(i)%12,2);break}break;case"H":switch(s=Pe(t,r,"H"),r+=s,s){case 1:o+=Vn(i);break;case 2:o+=q(Vn(i),2);break}break;case"K":switch(s=Pe(t,r,"K"),r+=s,s){case 1:switch(Os(i)){case 1:o+="Z";break;case 2:o+=qt(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=Pe(t,r,"m"),r+=s,s){case 1:o+=Ps(i);break;case 2:o+=q(Ps(i),2);break}break;case"M":switch(s=Pe(t,r,"M"),r+=s,s){case 1:o+=Bn(i);break;case 2:o+=q(Bn(i),2);break;case 3:o+=ju[Bn(i)-1];break;case 4:o+=Ku[Bn(i)-1];break}break;case"s":switch(s=Pe(t,r,"s"),r+=s,s){case 1:o+=Bs(i);break;case 2:o+=q(Bs(i),2);break}break;case"t":switch(s=Pe(t,r,"t"),r+=s,s){case 1:o+=i.getHours()<12?"A":"P";break;case 2:o+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(s=Pe(t,r,"y"),r+=s,s){case 1:o+=i.getFullYear()%100;break;case 2:o+=q(i.getFullYear()%100,2);break;case 3:o+=q(i.getFullYear(),3);break;case 4:o+=q(i.getFullYear(),4);break;case 5:o+=q(i.getFullYear(),5);break}break;case"z":s=Pe(t,r,"z"),r+=s;let l="";switch(Os(i)){case 1:l="+00:00";break;case 2:l=qt(i.getTimezoneOffset()*-6e4);break;case 0:l=qt(ol(i).getTimezoneOffset()*-6e4);break}const c=l[0]==="-"?"-":"+",d=parseInt(l.substring(1,3),10),f=parseInt(l.substring(4,6),10);switch(s){case 1:o+=`${c}${d}`;break;case 2:o+=`${c}${q(d,2)}`;break;default:o+=`${c}${q(d,2)}:${q(f,2)}`;break}break;case":":o+=":",r++;break;case"/":o+="/",r++;break;case"'":case'"':const[_,h]=qu(t,r);o+=_,r+=h;break;case"%":const m=As(t,r);if(m>=0&&m!=="%".charCodeAt(0))r+=2,o+=fs(i,String.fromCharCode(m),n);else throw new Error("Invalid format string");break;case"\\":const p=As(t,r);if(p>=0)r+=2,o+=String.fromCharCode(p);else throw new Error("Invalid format string");break;default:r++,o+=u;break}}return o}function Os(e){return e.kind||0}function qt(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+q(n,2)+":"+q(r,2)}function nr(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function zu(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return q(e.getFullYear(),4)+"-"+q(e.getMonth()+1,2)+"-"+q(e.getDate(),2)+"T"+q(e.getHours(),2)+":"+q(e.getMinutes(),2)+":"+q(e.getSeconds(),2)+"."+q(e.getMilliseconds(),3)+(n?qt(e.getTimezoneOffset()*-6e4):"")}}function Ju(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+qt(t)}function Qu(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+qt(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return nr(n,"first");case"T":case"t":return nr(n,"second");case"O":case"o":return Ju(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return fs(n,t,!0)}function el(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?nr(e,"first"):e.toLocaleDateString();case"T":case"t":return n?nr(e,"second"):e.toLocaleTimeString();case"O":case"o":return zu(e,n);default:throw new Error("Unrecognized Date print format")}else return fs(e,t,n)}function No(e,t,n){return e.offset!=null?Qu(e,t):el(e,t)}function bt(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function tl(){return bt(-621355968e5,0)}function Uo(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let o,i=0;if(s[2]!=null){const u=s[2].split(":"),l=parseInt(u[0],10);i=l*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&l<12&&(i+=720)}if(s[4]!=null){if(s[1]!=null)o=new Date(s[1]+" UTC");else{const u=new Date;o=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(s[4]==="Z")r="Z";else{let u=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(s[1]!=null)o=new Date(s[1]);else{const u=new Date;o=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(o.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-o.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function nl(e,t=!1){const[n,r]=Uo(e),s=r!=null?t&&r==="Z"?1:2:0;return bt(n.getTime(),s)}function rl(e,t){try{return t.contents=nl(e),!0}catch{return!1}}function rr(){return bt(Date.now(),1)}function sl(e){return e.kind===1?e:bt(e.getTime(),1)}function ol(e){return e.kind===2?e:bt(e.getTime(),2)}function Vs(e){return e.kind===1?e.getUTCDate():e.getDate()}function Vn(e){return e.kind===1?e.getUTCHours():e.getHours()}function Pn(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function Ps(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function Bn(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function Bs(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function $s(e){return e.kind===1?e.getUTCDay():e.getDay()}function Go(e,t){const n=bt(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?bt(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function il(e,t){return Go(e,t)}function ul(e,t){return typeof t=="number"?Go(e,-t):e.getTime()-t.getTime()}const ll=is;function cl(e,t){return ul(e,t)}function al(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function fl(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Ls(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let s,o=-1;for(;(s=e.exec(t))!=null;)s.index===o?e.lastIndex++:(o=s.index,r.push(s));return r}function dl(e,t,n,r,s=0){function o(){let i=arguments[0];if(r){r--;const u=[],l=arguments.length,c=typeof arguments[l-1]!="string";let d=c?l-3:l-2;for(let f=0;f<d;f++)u.push(arguments[f]);u.index=arguments[d++],u.input=arguments[d++],c&&(u.groups=arguments[d]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=al(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,s)+t.substring(s).replace(e,o);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(s),l=Ls(e,u),c=Ls.length>r?(i=l[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,s)+c.replace(e,n)+t.substring(s+c.length)}else return t.replace(e,n)}const fn=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,hl=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Zo(e,t){return yu(e,t)<0}function sr(e){return{input:e,cont:gl(e)}}function ds(e,t){return typeof t=="string"?e(t):t.cont(e)}function _l(e){return ds(t=>console.log(t),e)}function Nr(e){return ds(t=>t,e)}function pl(e){return ds(t=>{throw new Error(t)},e)}function ml(e,t,n,r,s){let o="";if(t=t||"",s=s||"",Vo(e))switch(s.toLowerCase()!=="x"&&(Zo(e,0)?(e=Hr(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=Zn(e,r);break;case"g":case"G":e=r!=null?Jn(e,r):Jn(e);break;case"e":case"E":e=r!=null?Qn(e,r):Qn(e);break;case"x":e=er(e);break;case"X":e=er(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=No(e):e=je(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!i?" ":"0";l==="0"?(e=Cn(e,n-o.length,l,u),e=o+e):e=Cn(o+e,n,l,u)}return e}function Yo(e,t,n,r="",s=-1){return(...o)=>{let i=r;const u=t.slice(),l=n.slice();for(const c of o){const[,,d,f,_,h]=l[0];let m=f;if(s>=0)m=s,s=-1;else if(m==="*"){if(c<0)throw new Error("Non-negative number required");s=c;continue}i+=u[0],i+=ml(c,d,m,_,h),u.splice(0,1),l.splice(0,1)}return l.length===0?(i+=u[0],e(i)):Yo(e,u,l,i,s)}}function gl(e){return t=>{fn.lastIndex=0;const n=[],r=[];let s=0,o=fn.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=fn.lastIndex,fn.lastIndex-=1,o=fn.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),Yo(t,n,r))}}function wl(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(hl,(r,s,o,i,u,l)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let c=t[s];if(Vo(c))switch(u=u==null?null:parseInt(u,10),i){case"f":case"F":u=u??2,c=Zn(c,u);break;case"g":case"G":c=u!=null?Jn(c,u):Jn(c);break;case"e":case"E":c=u!=null?Qn(c,u):Qn(c);break;case"p":case"P":u=u??2,c=Zn(Hr(c,100),u)+" %";break;case"d":case"D":c=u!=null?Tr(String(c),u,"0"):String(c);break;case"x":case"X":c=u!=null?Tr(er(c),u,"0"):er(c),i==="X"&&(c=c.toUpperCase());break;default:if(l){let d="";c=l.replace(/([0#,]+)(\.[0#]+)?/,(f,_,h)=>{Zo(c,0)&&(c=Hr(c,-1),d="-"),h=h==null?"":h.substring(1),c=Zn(c,Math.max(h.length,0));let[m,p]=c.split(".");p||(p="");const g=_.replace(/,/g,"").replace(/^#+/,"").length;m=Tr(m,g,"0");const y=h.replace(/#+$/,"").length;if(y>p.length?p=yl(p,y,"0"):y<p.length&&(p=p.substring(0,y)+p.substring(y).replace(/0+$/,"")),_.indexOf(",")>0){const x=m.length%3,E=Math.floor(m.length/3);let I=x>0?m.substr(0,x)+(E>0?",":""):"";for(let O=0;O<E;O++)I+=m.substr(x+O*3,3)+(O<E-1?",":"");m=I}return p.length>0?m+"."+p:m}),c=d+c}}else c instanceof Date?c=No(c,l||i):c=je(c);return o=parseInt((o||" ").substring(1),10),isNaN(o)||(c=Cn(String(c),Math.abs(o)," ",o<0)),c})}function fr(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function Cn(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function Tr(e,t,n){return Cn(e,t,n)}function yl(e,t,n){return Cn(e,t,n,!0)}function Sl(e,...t){if(t.length===0)return e.trim();const n="["+fl(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}const bl="The index was outside the range of elements in the collection.",Xo="Collection was empty.";function dr(e,t){return typeof e=="function"?new e(t):new Array(t)}function En(e,t){return e>t?e:t}function Ur(e,t){return e<t?e:t}function Hs(e,t,n){const r=e.length|0,s=t.length|0,o=dr(n,r+s);for(let i=0;i<=r-1;i++)at(o,i,k(i,e));for(let i=0;i<=s-1;i++)at(o,i+r,k(i,t));return o}function sn(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function hs(e,t,n){const r=t.length|0,s=dr(n,r);for(let o=0;o<=r-1;o++)at(s,o,e(k(o,t)));return s}function Cl(e,t,n,r,s){const o=S(n,0)|0,i=S(Lo(l=>o+l,r),e.length)|0;return(l=>{e:for(;;){const c=l;if(c>=i)return-1;if(s.Equals(t,k(c,e)))return c|0;l=c+1;continue e}})(o)|0}function El(e,t,n){return Cl(t,e,void 0,void 0,n)>=0}function Ml(e,t){const n=dr(t,1);return at(n,0,e),n}function Ws(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=dr(n,e);for(let s=0;s<=e-1;s++)at(r,s,t(s));return r}function Yn(e,t,n,r,s){lu(e,t,n,r,s)}function xl(e){return e.slice().reverse()}function Rl(e,t){t.push(e)}function He(e,t){const n=N(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)Rl(n["System.Collections.Generic.IEnumerator`1.get_Current"](),t)}finally{Q(n)}}function Dl(e,t){return t.find(e)}function hr(e,t,n){const r=e;return n.reduce(r,t)}function k(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function at(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function Gr(e,t){if(!(e<0||e>=t.length))return pe(t[e])}function Tl(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class Ne extends P{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+fr("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const d=M(l),f=M(c);if(Ae(i.head,u.head)){s=d,o=f;continue e}else return!1}else return!1;else return c==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,u=s,l=o,c=l.tail;if(c!=null){const d=M(c);if(i>18)return u|0;r=i+1,s=(u<<1)+lt(l.head)+631*i,o=d;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const d=M(l),f=M(c),_=et(i.head,u.head)|0;if(_===0){s=d,o=f;continue e}else return _|0}else return 1;else return c!=null?-1:0}})(this,t)|0}GetEnumerator(){return Il(this)}[Symbol.iterator](){return nn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return N(this)}}class kl{constructor(t){this.xs=t,this.it=this.xs,this.current=Qe()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=M(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=Qe()}Dispose(){}}function Il(e){return new kl(e)}function tt(){return new Ne(Qe(),void 0)}function vn(e,t){return new Ne(e,t)}function Fn(e){return e.tail==null}function jo(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=M(i);continue e}else return s|0}})(0,e)|0}function _r(e){if(e.tail!=null)return e.head;throw new Error(Xo+"\\nParameter name: list")}function Ct(e){const t=e.tail;if(t!=null)return M(t);throw new Error(Xo+"\\nParameter name: list")}function vl(e,t){return((r,s)=>{e:for(;;){const o=r,i=s,u=i.tail;if(u!=null){if(o===t)return i.head;r=o+1,s=M(u);continue e}else throw new Error(bl+"\\nParameter name: index")}})(0,e)}function rt(){return tt()}function Je(e,t){return vn(e,t)}function Xe(e){return vn(e,tt())}function H(e){return Fn(e)}function Ko(e){return jo(e)}function T(e){return _r(e)}function $(e){return Ct(e)}function pr(e){const t=jo(e)|0,n=sn(new Array(t),0,t,null);return((s,o)=>{e:for(;;){const i=s,u=o;if(!Fn(u)){at(n,i,_r(u)),s=i+1,o=Ct(u);continue e}break}})(0,e),n}function on(e,t,n){let r=t,s=n;for(;!Fn(s);)r=e(r,T(s)),s=Ct(s);return r}function _s(e){return on((t,n)=>vn(n,t),tt(),e)}function Fl(e,t,n){return((s,o,i)=>{e:for(;;){const u=s,l=o,c=i;if(Fn(c))return l;s=u+1,o=e(u,l,_r(c)),i=Ct(c);continue e}})(0,t,n)}function Al(e,t){on((n,r)=>{e(r)},void 0,t)}function z(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=vn(k(r,e),n);return n}function ps(e){return z(e,tt())}function Ol(e){let t,n;if(We(e))return ps(e);if(e instanceof Ne)return e;{const r=tt();let s=r;const o=N(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const l=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new Ne(l,void 0),t.tail=n,n)}}finally{Q(o)}const i=s,u=tt();return i.tail=u,Ct(r)}}function Vl(e){const t=tt();let n=t;const r=i=>{n=on((u,l)=>{const c=new Ne(l,void 0);return u.tail=c,c},n,i)};if(We(e))e.forEach(r);else if(e instanceof Ne)Al(r,e);else{const i=N(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();)r(i["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{Q(i)}}const s=n,o=tt();return s.tail=o,Ct(t)}function Pl(e,t){return on((n,r)=>vn(r,n),t,_s(e))}function Bl(e,t){const n=tt(),r=Fl((o,i,u)=>{const l=new Ne(e(o,u),void 0);return i.tail=l,l},n,t),s=tt();return r.tail=s,Ct(n)}function $l(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(Fn(i))return;if(o===e)return pe(_r(i));r=o+1,s=Ct(i);continue e}})(0,t)}function Ll(e,t){return vl(t,e)}function Hl(e){return new w(0,[e])}function qo(e){return new w(1,[e])}class w extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function ft(e,t){return t.tag===0?Hl(e(t.fields[0])):qo(t.fields[0])}function Wl(e,t){return t.tag===0?e(t.fields[0]):qo(t.fields[0])}class Nl{constructor(){}}function Ul(){return new Nl}function Gl(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function Zl(e,t){return t.then(n=>n)}const Ns=Ul();function Yl(e){throw new Error(e)}const Xl="Enumeration already finished.",jl="Enumeration has not started. Call MoveNext.",Kl="Reset is not supported on this enumerator.";function ql(){throw new Error(Kl)}function ms(){throw new Error(jl)}function Zr(){throw new Error(Xl)}class zl{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=N(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+je(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{Q(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return nn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function Jl(e){return new zl(e)}class Ql{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){ql()}Dispose(){this.dispose()}}function gs(e,t,n){return new Ql(e,t,n)}function ec(e){let t,n,r=!1,s=!1,o;const i=()=>{if(s=!0,n!=null){const u=M(n);try{Q(u)}finally{n=void 0}}if(t!=null){const u=M(t);try{Q(u)}finally{t=void 0}}};return gs(()=>(r?s&&Zr():ms(),o!=null?M(o):Zr()),()=>{let u;if(r||(r=!0),s)return!1;{let l;for(;l==null;){const c=t,d=n;if(c!=null)if(d!=null){const f=M(d);if(f["System.Collections.IEnumerator.MoveNext"]())o=pe(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),l=!0;else try{Q(f)}finally{n=void 0}}else{const f=M(c);f["System.Collections.IEnumerator.MoveNext"]()?n=(u=f["System.Collections.Generic.IEnumerator`1.get_Current"](),N(u)):(i(),l=!1)}else t=N(e)}return M(l)}},()=>{s||i()})}function tc(e,t,n){let r=!1,s,o=pe(e());const i=()=>{if(o!=null){const l=M(o);try{n(l)}finally{o=void 0}}},u=()=>{try{i()}finally{s=void 0}};return gs(()=>(r||ms(),s!=null?M(s):Zr()),()=>{if(r||(r=!0),o!=null){const l=M(o);let c;try{c=t(l)}catch(d){throw u(),d}return c!=null?(s=c,!0):(u(),!1)}else return!1},i)}function nc(e,t){let n,r=t;return gs(()=>{if(n!=null){const s=M(n)[0];return M(n)[1],s}else return ms()},()=>(n=e(r),n!=null?(M(n)[0],r=M(n)[1],!0):!1),()=>{})}function rc(e,t){t==null&&Yl(e)}function mr(e){return Jl(e)}function en(e){return rc("source",e),N(e)}function J(e){return mr(()=>N(e()))}function zo(e){return mr(()=>ec(e))}function Jo(e,t){return mr(()=>nc(e,t))}function we(){return J(()=>new Array(0))}function ye(e){return J(()=>Ml(e))}function Qo(e){return e instanceof Ne?pr(e):Array.from(e)}function Us(e){return We(e)?ps(e):e instanceof Ne?e:Ol(e)}function sc(e,t,n){return mr(()=>tc(e,t,n))}function Se(e,t){return zo([e,t])}function oc(e,t,n){const r=en(t);try{const s=en(n);try{let o=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]();for(;o===0&&i&&u;)o=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,o===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]());return(o!==0?o:i?1:u?-1:0)|0}finally{Q(s)}}finally{Q(r)}}function Ut(e,t,n){const r=en(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{Q(r)}}function ei(e,t){return zo(Jo(n=>e()?[t,n+1]:void 0,0))}function ti(e,t,n){const r=en(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{Q(r)}}function ic(e,t){if(We(t))return Gr(e,t);if(t instanceof Ne)return $l(e,t);{const n=en(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(o===0)return pe(n["System.Collections.Generic.IEnumerator`1.get_Current"]());s=o-1;continue e}else return;break}})(e)}finally{Q(n)}}}function _e(e,t){ti((n,r)=>{e(r)},void 0,t)}function mt(e,t){return sc(()=>en(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?pe(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{Q(n)})}function uc(e){return J(()=>xl(Qo(e)))}function lc(e){return wt(e.status)+" "+e.statusText+" for URL "+e.url}function cc(e,t){return fetch(e,Pu(t,1)).then(r=>{if(r.ok)return r;throw new Error(lc(r))})}class ni{constructor(t,n){this.k=t,this.v=n}}function Mn(e,t){return new ni(e,t)}function oe(e){return e.k}function Ce(e){return e.v}class re extends ni{constructor(t,n,r,s,o){super(t,n),this.left=r,this.right=s,this.h=o|0}}function wn(e,t,n,r,s){return new re(e,t,n,r,s)}function de(e){return e.left}function he(e){return e.right}function gt(e){return e.h}function ri(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=M(r);if(s instanceof re){const o=s;e=ri(n+1,de(o)),t=he(o);continue e}else return n+1|0}else return n|0}}function ac(e){return ri(0,e)}function Ue(e,t,n,r){let s,o,i;const u=e;if(u!=null){const f=M(u);i=f instanceof re?(s=f,gt(s)):1}else i=0;let l;const c=r;if(c!=null){const f=M(c);l=f instanceof re?(o=f,gt(o)):1}else l=0;const d=(i<l?l:i)|0;return d===0?Mn(t,n):wn(t,n,e,r,d+1)}function Gs(e,t,n,r){let s,o,i,u,l,c,d,f,_;const h=e;if(h!=null){const g=M(h);_=g instanceof re?(s=g,gt(s)):1}else _=0;let m;const p=r;if(p!=null){const g=M(p);m=g instanceof re?(o=g,gt(o)):1}else m=0;if(m>_+2){const g=M(r);if(g instanceof re){const y=g;if(i=de(y),(i!=null?(u=M(i),u instanceof re?(l=u,gt(l)):1):0)>_+1){const x=M(de(y));if(x instanceof re){const E=x;return Ue(Ue(e,t,n,de(E)),oe(E),Ce(E),Ue(he(E),oe(y),Ce(y),he(y)))}else throw new Error("internal error: Map.rebalance")}else return Ue(Ue(e,t,n,de(y)),oe(y),Ce(y),he(y))}else throw new Error("internal error: Map.rebalance")}else if(_>m+2){const g=M(e);if(g instanceof re){const y=g;if(c=he(y),(c!=null?(d=M(c),d instanceof re?(f=d,gt(f)):1):0)>m+1){const x=M(he(y));if(x instanceof re){const E=x;return Ue(Ue(de(y),oe(y),Ce(y),de(E)),oe(E),Ce(E),Ue(he(E),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Ue(de(y),oe(y),Ce(y),Ue(he(y),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Ue(e,t,n,r)}function tn(e,t,n,r){if(r!=null){const s=M(r),o=e.Compare(t,oe(s))|0;if(s instanceof re){const i=s;return o<0?Gs(tn(e,t,n,de(i)),oe(i),Ce(i),he(i)):o===0?wn(t,n,de(i),he(i),gt(i)):Gs(de(i),oe(i),Ce(i),tn(e,t,n,he(i)))}else return o<0?wn(t,n,void 0,r,2):o===0?Mn(t,n):wn(t,n,r,void 0,2)}else return Mn(t,n)}function si(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=M(o),u=r.Compare(s,oe(i))|0;if(u===0)return pe(Ce(i));if(i instanceof re){const l=i;e=r,t=s,n=u<0?de(l):he(l);continue e}else return}else return}}function fc(e,t,n){const r=si(e,t,n);if(r==null)throw new Error;return M(r)}function dc(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=M(o),u=r.Compare(s,oe(i))|0;if(i instanceof re){const l=i;if(u<0){e=r,t=s,n=de(l);continue e}else{if(u===0)return!0;e=r,t=s,n=he(l);continue e}}else return u===0}else return!1}}function oi(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=M(r);if(s instanceof re){const o=s;oi(n,de(o)),n(oe(o),Ce(o)),e=n,t=he(o);continue e}else n(oe(s),Ce(s))}break}}function hc(e,t){oi(e,t)}function Yr(e,t){if(t!=null){const n=M(t);if(n instanceof re){const r=n,s=Yr(e,de(r)),o=e(oe(r),Ce(r)),i=Yr(e,he(r));return wn(oe(r),o,s,i,gt(r))}else return Mn(oe(n),e(oe(n),Ce(n)))}else return void 0}function _c(e,t){return Yr(e,t)}function pc(e,t,n){let r=n;hc((s,o)=>{at(t,r,[s,o]),r=r+1|0},e)}function mc(e,t){return on((n,r)=>tn(e,r[0],r[1],n),void 0,t)}function gc(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=tn(r,i[0],i[1],s),n=o;continue e}else return s}}function wc(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=k(r,t);n=tn(e,s[0],s[1],n)}return n}function yc(e,t){if(We(t))return wc(e,t);if(t instanceof Ne)return mc(e,t);{const n=N(t);try{return gc(e,void 0,n)}finally{Q(n)}}}class Sc extends P{constructor(t,n){super(),this.stack=t,this.started=n}}function ii(e){e:for(;;){const t=e;if(H(t))return rt();{const n=$(t),r=T(t);if(r!=null){const s=M(r);if(s instanceof re){const o=s;e=z([de(o),Mn(oe(o),Ce(o)),he(o)],n);continue e}else return t}else{e=n;continue e}}}}function Zs(e){return new Sc(ii(Xe(e)),!1)}function bc(){throw new Error("enumeration not started")}function Cc(){throw new Error("enumeration already finished")}function Ys(e){if(e.started){const t=e.stack;if(H(t))return Cc();if(T(t)!=null){const n=M(T(t));if(n instanceof re)throw new Error("Please report error: Map iterator, unexpected stack for current");return[oe(n),Ce(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return bc()}function Ec(e){if(e.started){const t=e.stack;if(H(t))return!1;if(T(t)!=null){if(M(T(t))instanceof re)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=ii($(t)),!H(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!H(e.stack)}function Xs(e){let t=Zs(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Ys(t)},"System.Collections.IEnumerator.get_Current"(){return Ys(t)},"System.Collections.IEnumerator.MoveNext"(){return Ec(t)},"System.Collections.IEnumerator.Reset"(){t=Zs(e)},Dispose(){}}}class or{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return Tc(this)|0}Equals(t){const n=this;if(t instanceof or){const r=t,s=N(n);try{const o=N(r);try{const i=()=>{const u=s["System.Collections.IEnumerator.MoveNext"]();if(u===o["System.Collections.IEnumerator.MoveNext"]())if(u){const l=s["System.Collections.Generic.IEnumerator`1.get_Current"](),c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();return Ae(l[0],c[0])&&Ae(l[1],c[1])?i():!1}else return!0;else return!1};return i()}finally{Q(o)}}finally{Q(s)}}else return!1}toString(){return"map ["+fr("; ",mt(n=>wl("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return Xs(this.tree)}[Symbol.iterator](){return nn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Xs(this.tree)}CompareTo(t){const n=this;if(t instanceof or)return oc((s,o)=>{const i=n.comparer.Compare(s[0],o[0])|0;return(i!==0?i:et(s[1],o[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return Ks(n,t[0])&&Ae(js(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){pc(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return kr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return kr(this)|0}get size(){return kr(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return mt(n=>[n[0],n[1]],this)}get(t){return js(this,t)}has(t){return Ks(this,t)}keys(){return mt(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return mt(n=>n[1],this)}forEach(t,n){const r=this;_e(s=>{t(s[1],s[0],r)},r)}}function gr(e,t){return new or(e,t)}function Mc(e){return gr(e,void 0)}function xc(e,t,n){return gr(e.comparer,tn(e.comparer,t,n,e.tree))}function js(e,t){return fc(e.comparer,t,e.tree)}function Rc(e,t){return gr(e.comparer,_c(t,e.tree))}function kr(e){return ac(e.tree)}function Ks(e,t){return dc(e.comparer,t,e.tree)}function Dc(e,t){return si(e.comparer,t,e.tree)}function Tc(e){const t=(s,o)=>(s<<1)+o+631;let n=0;const r=N(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,lt(s[0]))|0,n=t(n,lt(s[1]))|0}}finally{Q(r)}return n|0}function ui(e,t,n){return xc(n,e,t)}function kc(e,t){return Dc(t,e)}function Ic(e,t){return Rc(t,e)}function vc(e,t){return gr(t,yc(t,e))}function li(e){return Mc(e)}class Fc{constructor(t,n){this.contents=t,this.count=n|0}GetEnumerator(){const t=this;return N(J(()=>{let n=t.count-1;return ei(()=>n>=0,J(()=>Se(ye(k(n,t.contents)),J(()=>(n=n-1|0,we())))))}))}[Symbol.iterator](){return nn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return N(this)}}function Ac(e,t){return new Fc(e,t)}function Oc(e){return Ac(sn(new Array(e),0,e,null),0)}function ws(){return Oc(4)}function Vc(e,t){const n=e.contents.length|0;if(t>n){const r=e.contents;e.contents=sn(new Array(En(t,n*2)),0,En(t,n*2),null),Yn(r,0,e.contents,0,e.count)}}function ci(e){return e.count}function ys(e){return e.count=e.count-1|0,k(e.count,e.contents)}function Pc(e,t){return e.count>0?(t.contents=ys(e),!0):!1}function Ss(e,t){Vc(e,e.count+1),e.contents[e.count]=t,e.count=e.count+1|0}class Bc{constructor(t,n){this.contents=t,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return N(Zc(this))}[Symbol.iterator](){return nn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return N(this)}}function $c(e,t){return new Bc(e,t)}function Lc(e){if(e<0)throw new Error("capacity is less than 0");return $c(sn(new Array(e),0,e,null),0)}function Hc(){return Lc(4)}function Xt(e,t){e.count===Bt(e)&&Gc(e,e.count+1),e.contents[e.tail]=t,e.tail=(e.tail+1)%Bt(e)|0,e.count=e.count+1|0}function Wc(e){if(e.count===0)throw new Error("Queue is empty");const t=k(e.head,e.contents);return e.head=(e.head+1)%Bt(e)|0,e.count=e.count-1|0,t}function Nc(e,t){return e.count===0?!1:(t.contents=Wc(e),!0)}function Bt(e){return e.contents.length}function Uc(e,t){return(e.head+t)%Bt(e)}function Gc(e,t){const n=sn(new Array(t),0,t,null);e.head<e.tail?Yn(e.contents,e.head,n,0,e.count):(Yn(e.contents,e.head,n,0,Bt(e)-e.head),Yn(e.contents,0,n,Bt(e)-e.head,e.tail)),e.head=0,e.contents=n,e.tail=(e.count===Bt(e)?0:e.count)|0}function Zc(e){return J(()=>{let t=0;return ei(()=>t<e.count,J(()=>Se(ye(k(Uc(e,t),e.contents)),J(()=>(t=t+1|0,we())))))})}const Yc=1e4;class Xc{constructor(t,n){this.create=t,this.clean=n,this.items=ws(),this.itemOut=0,this.total=0}}function jc(e,t){return new Xc(e,t)}function Kc(e,t){if(e.total>Yc)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,ci(e.items)>0?ys(e.items):(e.total=e.total+1|0,e.create(t))}function $n(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Ss(e.items,t)}class qc{constructor(t,n){this.create=t,this.clean=n,this.items=ws(),this.itemOut=0,this.total=0}}function wr(e,t){return new qc(e,t)}function ut(e){if(e.total>1e3)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,ci(e.items)>0?ys(e.items):(e.total=e.total+1|0,e.create())}function se(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Ss(e.items,t)}function zc(e,t){const n=t.getShaderParameter(e,t.COMPILE_STATUS);console.log(pe("Shader compiled successfully"),n);const r=t.getShaderInfoLog(e);console.log(pe("Shader compiler log: "),r)}function Jc(e,t){const n=t.getProgramInfoLog(e);console.log(pe("getProgramInfoLog: "),n)}function qs(e,t){t.compileShader(e),zc(e,t)}function Qc(e,t,n){const r=n.createShader(35633);n.shaderSource(r,e),qs(r,n);const s=n.createShader(35632);n.shaderSource(s,t),qs(s,n);const o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,s),n.linkProgram(o),Jc(o,n),n.detachShader(o,r),n.detachShader(o,s),n.deleteShader(r),n.deleteShader(s),o}function ea(e,t){const n=(i,u)=>{e:for(;;){const l=i,c=u;if(!H(l)){const d=T(l)[1];t.texSubImage3D(35866,0,0,0,c,d.Width,d.Height,1,6408,5121,d.Pixels),i=$(l),u=c+1;continue e}break}},r=t.createTexture();t.activeTexture(33984),t.bindTexture(35866,r);let s;if(s=(Ko(e)|0)>>>0,H(e))throw new Error("");{const i=T(e)[1];t.texStorage3D(35866,1,32856,i.Width,i.Height,s);const u=i;return t.texSubImage3D(35866,0,0,0,0,u.Width,u.Height,1,6408,5121,u.Pixels),n($(e),1),t.texParameteri(35866,10242,10497),t.texParameteri(35866,10243,10497),t.texParameteri(35866,10241,9728),t.texParameteri(35866,10240,9728),[r,[i.Width,i.Height],new Map(Bl((l,c)=>[c[0],l>>>0],e))]}}const _n=jc(e=>e.createBuffer(),e=>{});function pn(e,t){const n=Kc(_n,t),r=Float32Array.from(e);return t.bindBuffer(34962,n),t.bufferData(34962,r,35044),t.bindBuffer(34962,Qe()),n}const ta=new Float32Array([0,1,0,0,1,1,1,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1]);class ai extends P{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Z=r|0}}class Fe extends P{constructor(t,n){super(),this.X=t|0,this.Y=n|0}}function na(){return kn("Imp.CommonModels.Point",[],Fe,()=>[["X",Yt],["Y",Yt]])}class zs extends P{constructor(t,n){super(),this.Width=t|0,this.Height=n|0}}class fi extends P{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Width=r|0,this.Height=s|0}}function ra(){return kn("Imp.CommonModels.Rect",[],fi,()=>[["X",Yt],["Y",Yt],["Width",Yt],["Height",Yt]])}function Js(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}function sa(e){return e*180/3.141592653589793}function Qs(e){return Lr(e,8)}class xn extends P{constructor(t,n){super(),this.Angle=t,this.Distance=n}}class K extends P{constructor(t,n){super(),this.X=t,this.Y=n}}function Xr(){return new xn(0,0)}function ir(e,t){const n=t.X-e.X,r=t.Y-e.Y,s=(sa(Math.atan2(r,n))+450)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return new xn(Lr(s,8),Lr(o,8))}function oa(e){const t=3.141592653589793*(e.Angle/180),n=e.Distance*Math.sin(t),r=0-e.Distance*Math.cos(t);return new K(Math.abs(n)<1e-13?0:n,Math.abs(r)<1e-13?0:r)}function ia(e){return new xn(e.Angle>315&&e.Angle<=360||e.Angle>=0&&e.Angle<45?0:e.Angle>=45&&e.Angle<=135?90:e.Angle>135&&e.Angle<225?180:270,e.Distance)}function ua(e,t){return new K(t.X+e.X,t.Y+e.Y)}function la(e,t){return new K(e.X*t,e.Y*t)}function jr(){return new K(0,0)}function ca(){return wr(ga,e=>{ct(te(e)),ct(ae(e))})}const di=new Io(ca);function aa(){return ws()}const hi=new Io(aa);class fa extends P{constructor(t,n,r){super(),this.Texture=t,this.Width=n,this.Height=r}}class yr extends P{constructor(t,n,r,s,o,i,u){super(),this.Time=t,this.Resolution=n,this.Offset=r,this.VertexBuffer=s,this.TextureDetails=o,this.TextureLayer=i,this.ZRange=u}}class da{constructor(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.texture="",this.textureX=0,this.textureY=0,this.textureWidth=0,this.textureHeight=0,this.stateData=void 0}}function ha(){return new da}class _a extends P{constructor(t,n,r,s,o,i,u,l,c,d,f,_,h){super(),this.Key=t,this.Elements=n,this.X=r|0,this.Y=s|0,this.Z=o|0,this.MouseMove=i,this.MouseEnter=u,this.MouseLeave=l,this.MouseUp=c,this.Width=d|0,this.Height=f|0,this.Blur=_,this.Input=h}}class bs extends P{constructor(t,n,r){super(),this.Key=t,this.Create=n,this.ViewItems=r}}class pa extends P{constructor(t,n,r){super(),this.Key=t,this.Func=n,this.ViewItems=r}}class Gt extends P{constructor(t,n,r,s){super(),this.Key=t,this.Prop=n,this.Compare=r,this.Build=s}}class X extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class ma{constructor(){this.current=[],this.last=[],this.key="",this.hasSprites=!1,this.hasRenderers=!1,this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.mouseMove=void 0,this.mouseOver=!1,this.mouseEnter=void 0,this.mouseLeave=void 0,this.mouseUp=void 0,this.blur=void 0,this.isActive=!1,this.hasMouseEvents=!1,this.hasInputEvents=!1,this.input=void 0}}function ga(){return new ma}class Cs{constructor(t,n){this.f=n,this.isStale=!0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){}"Imp.DisplayModels.RendererBase.OnDistory"(){}}class wa extends P{constructor(t,n,r,s){super(),this.Key=t,this.Renderer=n,this.RenderView=r,this.ParentRender=s}}class ya extends P{constructor(t,n,r){super(),this.Key=t,this.RenderView=n,this.Callback=r}}class jt extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseMove","MouseButton","SyntheticMouseButton","Key","ControllerThumbstick","ControllerButton"]}}class Ir extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ControllerThumbstick","ControllerButton","Key"]}}class Sa extends P{constructor(t,n,r,s,o,i,u,l,c,d,f){super(),this.Key=t,this.Hooks=n,this.CurrentHook=r|0,this.IsStale=s,this.RenderView=o,this.CurrentProp=i,this.Build=u,this.Removed=l,this.ParentComponent=c,this.ParentRender=d,this.Id=f}}class dn extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class ba extends P{constructor(t){super(),this.Component=t}}class Ca{constructor(t,n,r){this.currentComponent=t,this.hookIndex=n|0,this.currentComponent.Hooks[this.hookIndex]=r}}function Ea(e,t,n){return new Ca(e,t,n)}class Ma extends P{constructor(t,n,r){super(),this.Time=t,this.Call=n,this.Component=r}}class vr extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Move","Up","SyntheticUp"]}}const xa=di.Value;function mn(e){const t=ut(di.Value);return Ka(t,e),t}function _i(){return wr(ha,e=>{})}function Ra(e){return e.x}function Da(e,t){e.x=t|0}function Ta(e){return e.y}function ka(e,t){e.y=t|0}function Ia(e){return e.z}function va(e,t){e.z=t|0}function Fa(e){return e.width}function Aa(e,t){e.width=t|0}function Oa(e){return e.height}function Va(e,t){e.height=t|0}function Pa(e){return e.texture}function Ba(e,t){e.texture=t}function $a(e){return e.textureX}function La(e,t){e.textureX=t|0}function Ha(e){return e.textureY}function Wa(e,t){e.textureY=t|0}function Na(e){return e.textureWidth}function Ua(e,t){e.textureWidth=t|0}function Ga(e){return e.textureHeight}function Za(e,t){e.textureHeight=t|0}function Ya(e,t){e.stateData=t}function Xa(e){se(_i(),e)}function ja(e){return e.key}function Ka(e,t){e.key=t}function Kr(e){return e.hasSprites}function Rn(e,t){e.hasSprites=t}function qr(e){return e.hasRenderers}function Sr(e,t){e.hasRenderers=t}function yt(e){return e.x}function pi(e,t){e.x=t|0}function St(e){return e.y}function mi(e,t){e.y=t|0}function yn(e){return e.z}function gi(e,t){e.z=t|0}function qa(e){return e.width}function wi(e,t){e.width=t|0}function za(e){return e.height}function yi(e,t){e.height=t|0}function zr(e){return e.mouseMove}function Si(e,t){e.mouseMove=t}function eo(e){return e.mouseOver}function to(e,t){e.mouseOver=t}function Jr(e){return e.mouseEnter}function bi(e,t){e.mouseEnter=t}function Qr(e){return e.mouseLeave}function Ci(e,t){e.mouseLeave=t}function es(e){return e.mouseUp}function Ei(e,t){e.mouseUp=t}function Mi(e){return e.blur}function xi(e,t){e.blur=t}function te(e){return e.current}function ae(e){return e.last}function ur(e){return e.hasMouseEvents}function br(e,t){e.hasMouseEvents=t}function ts(e){return e.hasInputEvents}function Es(e,t){e.hasInputEvents=t}function Ri(e){return e.input}function Di(e,t){e.input=t}function Ti(e){const t=e.last;e.last=e.current,e.current=t}function zt(e,t){const n=t?ae(e):te(e),r=n.length|0;for(let s=0;s<=r-1;s++){const o=n[s];if(o!=null){const i=o;switch(i.tag){case 0:{zt(i.fields[0],!1);break}case 1:{Xa(i.fields[0]);break}case 3:{zt(i.fields[0].RenderView,!1);break}case 4:{const u=i.fields[0];u.Removed=!0,zt(u.RenderView,!1);break}default:ef(i.fields[0].Renderer)}}}t||se(xa,e)}function Ja(e){return e.isStale}function ki(e,t){e.isStale=t}function Qa(e,t){e.isStale&&e["Imp.DisplayModels.RendererBase.OnInit1E729EFC"](t),e["Imp.DisplayModels.RendererBase.OnRender1E729EFC"](t),e.isStale=!1}function ef(e,t){zt(e.f,!1),e["Imp.DisplayModels.RendererBase.OnDistory"]()}const tf=hi.Value;function nf(e){Ss(hi.Value,e)}function Ln(e){return e.currentComponent.Hooks[e.hookIndex]}function Fr(e,t){const n=t(e.currentComponent.Hooks[e.hookIndex]);e.currentComponent.Hooks[e.hookIndex]=n,e.currentComponent.IsStale=!0,nf(e.currentComponent)}const fe=wr(()=>[],e=>{ct(e)});class An{constructor(){}}function On(e){return ut(fe)}class rf extends An{constructor(t,n,r,s,o,i,u,l,c,d,f,_){super(),this.key=t,this.x=n|0,this.y=r|0,this.z=s|0,this.width=o|0,this.height=i|0,this.mouseMove=u,this.mouseEnter=l,this.mouseLeave=c,this.mouseUp=d,this.blur=f,this.input=_}}function Ie(e,t,n,r,s,o,i,u,l,c,d,f){return new rf(e,t,n,r,s,o,i,u,l,c,d,f)}function ve(e,t){const n=On();return t(n),new _a(e.key,n,e.x,e.y,e.z,e.mouseMove,e.mouseEnter,e.mouseLeave,e.mouseUp,e.width,e.height,e.blur,e.input)}class sf extends An{constructor(t,n){super(),this.name=t,this.func=n}}function Ii(e,t){return new sf(e,t)}function vi(e,t){const n=On();return t(n),new pa(e.name,e.func,n)}function Ms(e,t,n,r,s,o,i,u,l,c,d){const f=ut(_i());return Da(f,e),ka(f,t),va(f,n),Aa(f,r),Va(f,s),Ba(f,o),La(f,i),Wa(f,u),Ua(f,c),Za(f,l),Ya(f,d!=null?pe(M(d)):void 0),f}let Ar=0;function xs(e,t){let n,r,s,o,i,u;pi(e,t.X),mi(e,t.Y),gi(e,t.Z),wi(e,t.Width),yi(e,t.Height),Si(e,t.MouseMove),bi(e,t.MouseEnter),Ci(e,t.MouseLeave),Ei(e,t.MouseUp),xi(e,t.Blur),Di(e,t.Input),br(e,ur(e)||(n=zr(e),n!=null)||(r=Jr(e),r!=null)||(s=Qr(e),s!=null)||(o=es(e),o!=null)?!0:(i=Mi(e),i!=null)),Es(e,ts(e)?!0:(u=Ri(e),u!=null))}function Or(e){pi(e,0),mi(e,0),gi(e,0),wi(e,0),yi(e,0),Si(e,void 0),bi(e,void 0),Ci(e,void 0),Ei(e,void 0),xi(e,void 0),br(e,!1),Di(e,void 0),Es(e,!1)}function Hn(e,t){Rn(e,Kr(e)?!0:Kr(t)),Sr(e,qr(e)?!0:qr(t)),br(e,ur(e)?!0:ur(t)),Es(e,ts(e)?!0:ts(t))}function Fi(e,t,n,r,s,o){switch(r.tag){case 0:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<ae(n).length;){const f=(_=>{let h,m;if(_!=null){const p=_;p.tag===0&&ja(p.fields[0])===i.Key?(h=0,m=p.fields[0]):h=1}else h=1;switch(h){case 0:return m;default:return}})(ae(n)[d]);if(f!=null){const _=f;ae(n)[d]=void 0,c=_}d=d+1|0}l=c,u=l??mn(i.Key),xs(u,i),Xn(e,t,u,i.Elements,s,o),Hn(n,u),te(n).push(new dn(0,[u]));break}case 4:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<ae(n).length;){const f=(_=>{let h,m;if(_!=null){const p=_;p.tag===4&&p.fields[0].Key===i.Key?(h=0,m=p.fields[0]):h=1}else h=1;switch(h){case 0:return m;default:return}})(ae(n)[d]);if(f!=null){const _=f;ae(n)[d]=void 0,c=_}d=d+1|0}if(l=c,l!=null){const f=l;i.Compare(f.CurrentProp,i.Prop)||(f.IsStale=!0),f.IsStale&&(f.CurrentProp=i.Prop),u=f}else{Ar=Ar+1|0;const f=mn(i.Key);Or(f),u=new Sa(i.Key,[],0,!0,f,i.Prop,i.Build,!1,s,o,In(Wo(Ar)))}Ai(t,u),Hn(n,u.RenderView),Sr(n,!0),Rn(n,!0),te(n).push(new dn(4,[u]));break}case 2:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<ae(n).length;){const f=(_=>{let h,m;if(_!=null){const p=_;p.tag===2&&p.fields[0].Key===i.Key?(h=0,m=p.fields[0]):h=1}else h=1;switch(h){case 0:return m;default:return}})(ae(n)[d]);if(f!=null){const _=f;ae(n)[d]=void 0,c=_}d=d+1|0}if(l=c,l!=null){const f=l;e&&ki(f.Renderer,!0),u=f}else{const f=mn(i.Key);Or(f),u=new wa(i.Key,i.Create(t,f),f,o)}Xn(e,t,u.RenderView,i.ViewItems,s,u),Hn(n,u.RenderView),te(n).push(new dn(2,[u]));break}case 3:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<ae(n).length;){const f=(_=>{let h,m;if(_!=null){const p=_;p.tag===3&&p.fields[0].Key===i.Key?(h=0,m=p.fields[0]):h=1}else h=1;switch(h){case 0:return m;default:return}})(ae(n)[d]);if(f!=null){const _=f;ae(n)[d]=void 0,c=_}d=d+1|0}if(l=c,l!=null)u=l;else{const f=mn(i.Key);Or(f),u=new ya(i.Key,f,i.Func)}Xn(e,t,u.RenderView,i.ViewItems,s,o),Hn(n,u.RenderView),te(n).push(new dn(3,[u]));break}default:te(n).push(new dn(1,[r.fields[0]])),Rn(n,!0)}}function Ai(e,t){if(t.IsStale){t.IsStale=!1,t.CurrentHook=0;const n=t.Build(new ba(t),t.CurrentProp);xs(t.RenderView,n),Xn(!0,e,t.RenderView,n.Elements,t.ParentComponent,t.ParentRender),(s=>{e:for(;;){const o=s;if(o!=null){const i=o;if(Ja(i.Renderer)===!1){ki(i.Renderer,!0),s=i.ParentRender;continue e}}break}})(t.ParentRender)}}function Xn(e,t,n,r,s,o){Ti(n),ct(te(n)),Rn(n,!1),Sr(n,!1);for(let i=0;i<=r.length-1;i++)Fi(e,t,n,r[i],s,o);se(fe,r),zt(n,!0),ct(ae(n))}let Vr;function of(e,t){const n=(r,s,o,i)=>{for(let u=0;u<=r.length-1;u++){const l=r[u];if(l!=null){const c=l;switch(c.tag){case 0:{const d=c.fields[0];Kr(d)&&n(te(d),s+yt(d),o+St(d),i+yn(d));break}case 3:{n(te(c.fields[0].RenderView),s,o,i);break}case 4:{const d=c.fields[0];n(te(d.RenderView),yt(d.RenderView)+s,St(d.RenderView)+o,yn(d.RenderView)+i);break}case 2:break;default:t([s,o,i],c.fields[0])}}}};n(te(e),yt(e),St(e),yn(e))}function Jt(e,t){let n;if(yt(e)!==0||St(e)!==0||yn(e)!==0){const r=t;n=new yr(r.Time,r.Resolution,new ai(t.Offset.X+yt(e),t.Offset.Y+St(e),t.Offset.Z+yn(e)),r.VertexBuffer,r.TextureDetails,r.TextureLayer,r.ZRange)}else n=t;for(let r=0;r<=te(e).length-1;r++){const s=te(e)[r];if(s!=null){const o=s;switch(o.tag){case 0:{const i=o.fields[0];qr(i)&&Jt(i,n);break}case 3:{const i=o.fields[0];Jt(i.RenderView,i.Callback(n));break}case 4:{Jt(o.fields[0].RenderView,n);break}case 1:break;default:Qa(o.fields[0].Renderer,n)}}}}function uf(e,t,n){Ti(e),ct(te(e)),Rn(e,!1),Sr(e,!1),xs(e,n),Fi(!1,t,e,new X(0,[n]),void 0,void 0),zt(e,!0),ct(ae(e))}let jn=[],Wn=[];const Pt=Hc();class lf extends Ee{constructor(){super(),this.tag=0,this.fields=[]}cases(){return["Up"]}}function Rs(e){let t;const n=e.Component.CurrentHook|0;return e.Component.CurrentHook=n+1|0,[n,(t=ic(n,e.Component.Hooks),t!=null?pe(M(t)):void 0)]}function no(e,t){let n;const r=Rs(e),s=r[1];return Ea(e.Component,r[0],s!=null?M(s):(n=t(),e.Component.Hooks.push(n),n))}function cf(e,t){Rs(e)[1]!=null||(t(),Xt(Pt,new jt(2,[!0,e.Component.Id])),e.Component.Hooks.push(!0)),br(e.Component.RenderView,!0)}function af(e,t,n){const r=Rs(e),s=r[1];s!=null?Ae(M(s),t)||(n(t),e.Component.Hooks[r[0]]=t):(n(t),e.Component.Hooks.push(t))}function ff(e,t){jn.push(new Ma(il(rr(),e),t,void 0))}function df(){let e;const t=jn;jn=Wn,Wn=t;const n=rr();let r=N(Wn);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=()=>{ll(n,s.Time)>=0?s.Call():jn.push(s)},i=s.Component;if(i!=null){if(e=i,!e.Removed){const u=i;o()}}else o()}}finally{Q(r)}ct(Wn)}function hf(e,t){df();const n=(i,u,l)=>{let c=!1;const d=(f,_,h,m)=>{for(let p=0;p<=_.length-1;p++){const g=_[p],y=(x,E)=>{let I,O,U,V,L;if(ur(E)){d(x,te(E),h+yt(E),m+St(E));const G=()=>new fi(h+yt(E),m+St(E),qa(E),za(E));switch(l.tag){case 1:{!c&&(I=es(E),I!=null)&&Js(G(),i,u)&&(Vr!=null&&M(Vr)(new Fe(i,u)),(O=es(E),M(O))(new Fe(i,u)),c=!0,Vr=Mi(E));break}case 2:{if(Uu(l.fields[0],x)){const D=G();Xt(Pt,new jt(1,[!0,D.X,D.Y])),c=!0}break}default:!c&&(U=zr(E),(U!=null?!0:(V=Jr(E),V!=null))?!0:(L=Qr(E),L!=null))&&(Js(G(),i,u)?(eo(E)||_e(D=>{D(new Fe(i,u)),to(E,!0)},gn(Jr(E))),_e(D=>{D(new Fe(i,u))},gn(zr(E)))):eo(E)&&(_e(D=>{D(new Fe(i,u))},gn(Qr(E))),to(E,!1)))}}};if(g!=null){const x=g;switch(x.tag){case 0:{y(f,x.fields[0]);break}case 4:{const E=x.fields[0];y(E.Id,E.RenderView);break}case 3:{d(f,te(x.fields[0].RenderView),h,m);break}case 2:{const E=x.fields[0];d(f,te(E.RenderView),h+yt(E.RenderView),m+St(E.RenderView));break}}}}};d(In(Wo(-1)),te(e),0,0)},r=i=>{let u=!1;const l=c=>{if(!u)for(let d=0;d<=c.length-1;d++){const f=c[d];if(f!=null){const _=f,h=m=>{l(te(m));const p=Ri(m);p!=null&&p(i)&&(u=!0)};switch(_.tag){case 4:{h(_.fields[0].RenderView);break}case 0:{h(_.fields[0]);break}case 3:{h(_.fields[0].RenderView);break}case 2:{h(_.fields[0].RenderView);break}}}}};l(te(e))},s=()=>{let i,u=Qe();if(i=[Nc(Pt,new le(()=>u,l=>{u=l})),u],i[0]){const l=i[1];switch(l.tag){case 1:{l.fields[0]&&n(l.fields[1],l.fields[2],new vr(1,[]));break}case 2:{l.fields[0]&&n(0,0,new vr(2,[l.fields[1]]));break}case 3:{r(new Ir(2,[l.fields[0],l.fields[1]]));break}case 4:{r(new Ir(0,[l.fields[0],l.fields[1]]));break}case 5:{r(new Ir(1,[l.fields[0],l.fields[1]]));break}default:n(l.fields[0],l.fields[1],new vr(0,[]))}s()}};s();const o=()=>{let i,u=Qe();if(i=[Pc(tf,new le(()=>u,l=>{u=l})),u],i[0]){const l=i[1];l.IsStale&&Ai(t,l),o()}};o()}function ro(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return _f(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function _f(e){return Number(BigInt(e)/10000n)}function pf(e){return e/1e3}function mf(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return ro(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let s=0,o=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,l=+r[4],c=+r[5];if(r[3]!=null&&(s=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:o=+r[8]*100;break;case 2:o=+r[8]*10;break;case 3:o=+r[8];break;case 4:o=+r[8]/10;break;case 5:o=+r[8]/100;break;case 6:o=+r[8]/1e3;break;case 7:o=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*ro(s,l,c,i,o)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function gf(e,t){try{return t.contents=mf(e),!0}catch{return!1}}class wf{constructor(){this.textureNames=new Set([])}}function Oi(e){return e.textureNames}class yf{constructor(){}}class Sf extends wf{constructor(t){super(),this.baseUrl=t}"Imp.Setup.DataManager.LoadTexture"(t,n){const r=this,s=document.createElement("img");s.onload=o=>{n(new Lu(s,s.width>>>0,s.height>>>0))},s.src=`${r.baseUrl}/${t}`}"Imp.Setup.DataManager.LoadString"(t,n){const r=this;Wu(Zl(Ns,Gl(Ns,()=>cc(`${r.baseUrl}/${t}`,rt()).then(s=>s.text().then(o=>(n(o),Promise.resolve()))))))}}function bf(e){return new Sf(e)}function Cf(e,t,n,r,s){const o=[],i=Us(Oi(t)),u=()=>{if(o.length<Ko(i)){const l=Ll(o.length,i);t["Imp.Setup.DataManager.LoadTexture"](`${l}.png`,c=>{o.push([l,c]),u()})}else{const l=ea(Us(o),e),c=l[1],d=new fa(l[0],c[0],c[1]);let f,_;f=g=>{let y;switch(_!=null?(_[1],_[0]===g?y=0:y=1):y=1,y){case 0:{const x=_[1];return _[0],x}default:{let x,E=0;if(x=[as(l[2],g,new le(()=>E,I=>{E=I})),E],x[0]){const I=x[1];return _=[g,I],I}else return}}};const h=pn(ta,e),m=rr(),p=mn("Root");uf(p,e,n),s(g=>{_e(y=>{y()},gn(r)),Jt(p,new yr(pf(cl(rr(),m)),g,new ai(0,0,0),h,d,f,[0,1]))},g=>{hf(p,e)})}};u()}class Ef extends yf{constructor(t,n,r){super();let s,o,i,u;this.resolution=new zs(0,0),this.tick=()=>{},this.canvas=(s=document.createElement("canvas"),o=document.getElementById(t),o.appendChild(s),i=n,u=r,this.resolution=new zs(~~i,~~u),s.width=i,s.height=u,s)}"Imp.Setup.Display.AttachView"(t,n,r){const s=this;Cf(s.canvas.getContext("webgl2",pe({premultipliedAlpha:!1})),t,n,r,(o,i)=>{s.tick=()=>{i(),o(s.resolution)}})}"Imp.Setup.Display.AttachInputZ2D84AEB6"(t){const n=this;t({AttachKeyboard(){window.addEventListener("keydown",r=>{const s=so(n,r.code);s!=null&&Xt(Pt,new jt(3,[!0,s]))}),window.addEventListener("keyup",r=>{const s=so(n,r.code);s!=null&&Xt(Pt,new jt(3,[!1,s]))})},AttachMouse(){window.addEventListener("mousemove",r=>{Xt(Pt,new jt(0,[r.clientX,r.clientY]))}),window.addEventListener("mouseup",r=>{Xt(Pt,new jt(1,[!0,r.clientX,r.clientY]))})},AttachGamepad(){}})}"Imp.Setup.Display.Run"(){const t=this,n=()=>{window.requestAnimationFrame(r=>{t.tick(),n()})};n()}}function Mf(e,t,n){return new Ef(e,t,n)}function so(e,t){switch(t){case"KeyA":return 65;case"KeyB":return 66;case"KeyC":return 67;case"KeyD":return 68;case"KeyE":return 69;case"KeyF":return 70;case"KeyG":return 71;case"KeyH":return 72;case"KeyI":return 73;case"KeyJ":return 74;case"KeyK":return 75;case"KeyL":return 76;case"KeyM":return 77;case"KeyN":return 78;case"KeyO":return 79;case"KeyP":return 80;case"KeyQ":return 81;case"KeyR":return 82;case"KeyS":return 83;case"KeyT":return 84;case"KeyU":return 85;case"KeyV":return 86;case"KeyW":return 87;case"KeyX":return 88;case"KeyY":return 89;case"KeyZ":return 90;case"Digit0":return 48;case"Digit1":return 49;case"Digit2":return 50;case"Digit3":return 51;case"Digit4":return 52;case"Digit5":return 53;case"Digit6":return 54;case"Digit7":return 55;case"Digit8":return 56;case"Digit9":return 57;case"Space":return 32;case"ShiftLeft":return 340;case"ShiftRight":return 344;case"Backspace":return 259;case"Delete":return 261;case"Semicolon":return 59;case"ArrowLeft":return 263;case"ArrowRight":return 262;case"ArrowDown":return 264;case"ArrowUp":return 265;case"Backquote":return 96;case"Minus":return 45;case"Equal":return 61;case"BracketLeft":return 91;case"BracketRight":return 93;case"Backslash":return 92;case"Quote":return 39;case"Comma":return 44;case"Period":return 46;case"Slash":return 47;case"CapsLock":return 280;case"Tab":return 258;case"Enter":return 257;case"Escape":return 256;case"ControlLeft":return 341;case"ControlRight":return 345;case"AltLeft":return 342;case"AltRight":return 346;default:{_l(`Key: ${t}`);return}}}class xf extends P{constructor(t,n,r){super(),this.R=t|0,this.G=n|0,this.B=r|0}}let Rf=class extends Cs{constructor(t,n,r){super(n,r),this.backgroundColor=t,this.gl=n,this.view=r}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this;n.gl.disable(3024),n.gl.enable(2884),n.gl.cullFace(1029),n.gl.frontFace(2304);const r=t.Resolution.Width>>>0,s=t.Resolution.Height>>>0;n.gl.viewport(0,0,r,s);const o=n.backgroundColor.R/255,i=n.backgroundColor.G/255,u=n.backgroundColor.B/255;n.gl.clearColor(o,i,u,1),n.gl.clearDepth(1);const l=16640;n.gl.clear(l),Jt(n.view,t)}};function Df(e,t,n){return new Rf(e,t,n)}class Tf extends An{constructor(t,n){super(),this.backgroundColor=t,this.key=n}}function kf(e,t){return new Tf(e,t)}function If(e,t){const n=On();return t(n),new bs(e.key,(r,s)=>Df(e.backgroundColor,r,s),n)}function vf(e,t){return kf(e,S(t,""))}function Ff(e,t,n,r){const s=et(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const o=s>0;return i=>{const u=et(i,t)|0;return o&&u<=0||!o&&u>=0?[i,r(i,e)]:void 0}}function Af(e,t,n,r,s){const o=Ff(t,n,r,s);return J(()=>Jo(o,e))}function Zt(e,t,n){return Af(e,t,n,0,(r,s)=>r+s)}class Of{constructor(){this.defaultFont="Font Small",this.sprites=new Map([])}}function Vf(){return new Of}function Pf(e){return e.sprites}function Ds(e,t){let n,r=Qe();if(n=[as(e.sprites,t,new le(()=>r,s=>{r=s})),r],n[0])return n[1];throw new Error(`Can't find name ${t}`)}function Bf(e){return e.defaultFont}function Ze(e,t,n,r){let s,o;const i=k(n-1,Ds(e,t).Frames),u=ut(fe),l=i.Layers.length-1|0;for(let c=0;c<=l;c++){const d=k(c,i.Layers);u.push(new X(1,[(s=d,o=s,Ms(r[0]+o.Offset.X,r[1]+o.Offset.Y,0,s.Rect.Width,s.Rect.Height,o.Texture,o.Rect.X,o.Rect.Y,o.Rect.Height,o.Rect.Width))]))}return u}function $f(e,t,n,r,s){return o=>{let i,u,l,c,d,f;const _=S(n,Bf(e)),h=S(r,0)|0,m=S(s,0)|0;let p=0;return ve((i=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,Ie(S(t,""),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,d??void 0,f??void 0)),g=>{_e(y=>{let x,E,I,O,U,V,L,G,D;(x=y,x===" "?(p=p+4|0,C=>{}):(E=x==="-"?"Minus":x===":"?void 0:x.toUpperCase(),E!=null?(I=k(1-1,Ds(e,`${_}-${E}`).Frames),O=(U=(V=I,L=h+p|0,G=ut(fe),D=V.Layers.length-1|0,(()=>{let C,B;for(let Z=0;Z<=D;Z++){const ee=k(Z,V.Layers);G.push(new X(1,[(C=ee,B=C,Ms(L+B.Offset.X,m+B.Offset.Y,0,C.Rect.Width,C.Rect.Height,B.Texture,B.Rect.X,B.Rect.Y,B.Rect.Height,B.Rect.Width))]))}})(),G),C=>{He(U,C),se(fe,U)}),C=>{O(C),(p=p+k(0,I.Layers).Rect.Width+1|0,B=>{})(C)}):C=>{}))(g)},o.split(""))})}}const oo=10,ke=Vf();class Lf extends P{constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}class Hf extends P{constructor(t,n,r){super(),this.X=t,this.Y=n,this.Radius=r}}function Wf(e,t){let n,r;const s=e.X+e.Width/2,o=e.Y+e.Height/2,i=Math.abs(t.X-s),u=Math.abs(t.Y-o);return i>e.Width/2+t.Radius||u>e.Height/2+t.Radius?!1:i<=e.Width/2||u<=e.Height/2?!0:(n=i-e.Width/2,Math.pow(n,2)+(r=u-e.Height/2,Math.pow(r,2))<=Math.pow(t.Radius,2))}function Le(e,t){if(Math.abs(e+360-(t+360))<15)return pe(void 0)}function Nf(e,t,n,r,s){const o=oa(r),i=l=>{if(!Ae(l,jr())){const c=ua(la(l,t),n),d=new Hf(c.X,c.Y,s),f=Ur(~~Math.floor(n.X-s),~~Math.floor(c.X-s))|0,_=En(~~Math.ceil(n.X+s),~~Math.ceil(c.X+s))|0,h=Ur(~~Math.floor(n.Y-s),~~Math.floor(c.Y-s))|0,m=En(~~Math.ceil(n.Y+s),~~Math.ceil(c.Y+s))|0;let p=!0;for(let g=f;g<=_;g++)for(let y=h;y<=m;y++)p&&!e(new Fe(g,y))&&Wf(new Lf(g,y,1,1),d)&&(p=!1);return p?c:void 0}},u=i(o);if(u!=null)return u;{let l;const c=(p,g)=>e(new Fe(p,g)),d=p=>~~Math.floor(p),f=d(n.X)|0,_=d(n.Y)|0,h=Qs(n.X-f),m=Qs(n.Y-_);if(l==null){const p=i(new K(o.X,0));if(p!=null){const g=p;ir(n,g).Distance>.2*t&&(l=g)}else{const g=i(new K(0,o.Y));if(g!=null){const y=g;ir(n,y).Distance>.2*t&&(l=y)}}}if(l==null){const p=r.Angle;if(Le(90,p)!=null){if(m>=.5&&c(f+1,_)){const g=i(new K(0,-1));g!=null&&(l=g)}else if(m<=.5&&c(f+1,_)){const g=i(new K(0,1));g!=null&&(l=g)}}else if(Le(270,p)!=null){if(m>=.5&&c(f-1,_)){const g=i(new K(0,-1));g!=null&&(l=g)}else if(m<=.5&&c(f-1,_)){const g=i(new K(0,1));g!=null&&(l=g)}}else if(Le(180,p)!=null){if(h>=.5&&c(f,_+1)){const g=i(new K(-1,0));g!=null&&(l=g)}else if(h<=.5&&c(f,_+1)){const g=i(new K(1,0));g!=null&&(l=g)}}else if(Le(0,p)!=null){if(h>=.5&&c(f,_-1)){const g=i(new K(-1,0));g!=null&&(l=g)}else if(h<=.5&&c(f,_-1)){const g=i(new K(1,0));g!=null&&(l=g)}}}if(l==null){const p=r.Angle;let g;switch(Le(90,p)!=null&&m<.4&&c(f,_-1)&&c(f+1,_-1)?g=0:g=1,g){case 0:{const y=i(new K(0,-1));y!=null&&(l=y);break}case 1:{let y;switch(Le(90,p)!=null&&m>.6&&c(f,_+1)&&c(f+1,_+1)?y=0:y=1,y){case 0:{const x=i(new K(0,1));x!=null&&(l=x);break}case 1:{let x;switch(Le(270,p)!=null&&m<.4&&c(f,_-1)&&c(f-1,_-1)?x=0:x=1,x){case 0:{const E=i(new K(0,-1));E!=null&&(l=E);break}case 1:{let E;switch(Le(270,p)!=null&&m>.6&&c(f,_+1)&&c(f-1,_+1)?E=0:E=1,E){case 0:{const I=i(new K(0,1));I!=null&&(l=I);break}case 1:{let I;switch(Le(180,p)!=null&&h<.4&&c(f-1,_)&&c(f-1,_+1)?I=0:I=1,I){case 0:{const O=i(new K(-1,0));O!=null&&(l=O);break}case 1:{let O;switch(Le(180,p)!=null&&h>.6&&c(f+1,_)&&c(f+1,_+1)?O=0:O=1,O){case 0:{const U=i(new K(1,0));U!=null&&(l=U);break}case 1:{let U;switch(Le(0,p)!=null&&h<.4&&c(f-1,_)&&c(f-1,_-1)?U=0:U=1,U){case 0:{const V=i(new K(-1,0));V!=null&&(l=V);break}case 1:{let V;switch(Le(0,p)!=null&&h>.6&&c(f+1,_)&&c(f+1,_-1)?V=0:V=1,V){case 0:{const L=i(new K(1,0));L!=null&&(l=L);break}}break}}break}}break}}break}}break}}break}}break}}}return l??n}}function ce(){return rt()}function Uf(e,t,n,r){return(s=>{const o=S(void 0,()=>()=>Ae(a,b));return new Gt(S(e,""),void 0,(i,u)=>{try{return o(void 0)(void 0)}catch(l){throw l}},(i,u)=>s(i)(void 0))})(s=>()=>(o=>{const i=no(o,()=>new Dr(0,[t()])),u=no(o,()=>d=>{}),l=d=>{Ln(u)(d)};af(o,void 0,()=>{let d;const f=Ln(i);if(f.tag===0)Fr(i,h=>new Dr(1,[f.fields[0][0]])),d=f.fields[0][1];else throw new Error("");Fr(u,h=>m=>{const p=Ln(i);if(p.tag===1){const g=n(m,p.fields[0]);Fr(i,x=>new Dr(1,[g[0]]));const y=N(g[1]);try{for(;y["System.Collections.IEnumerator.MoveNext"]();)y["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{Q(y)}}else throw new Error("")});const _=N(d);try{for(;_["System.Collections.IEnumerator.MoveNext"]();)_["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{Q(_)}});const c=Ln(i);if(c.tag===1)return r(c.fields[0],l);throw new Error("")})(s))}class Gf{constructor(t){let n,r,s,o,i,u,l,c,d,f,_,h,m,p,g,y,x,E,I,O,U,V,L,G,D,C,B,Z;this.gl=t;const ee=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec3 offset;\r
in vec4 position;\r
in vec4 texturePosition;\r
in float textureLayer;\r
in float depth;\r
uniform vec2 depthRange;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec3 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec3(\r
            mix(vec2(0.0, 0.0), vec2(1.0, 1.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution),\r
            textureLayer);\r
\r
    float x = mix(-1.0, 1.0, (offset.x + position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (offset.y + position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
\r
    float minDepth = depthRange.x;\r
    float maxDepth = depthRange.y;\r
    float d = ((offset.z + depth) - minDepth) / (maxDepth - minDepth);\r
\r
    frag_depth = 1.0f - d;\r
}`,ne=`#version 300 es\r
precision highp float;\r
\r
in vec3 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2DArray diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=Qc(ee,ne,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.offsetLocation=(l=this.gl,c=this.program,l.getUniformLocation(c,"offset")),this.positionLocation=(d=(f=this.gl,_=this.program,f.getAttribLocation(_,"position")),d>>>0),this.texturePositionLocation=(h=(m=this.gl,p=this.program,m.getAttribLocation(p,"texturePosition")),h>>>0),this.textureLayerLocation=(g=(y=this.gl,x=this.program,y.getAttribLocation(x,"textureLayer")),g>>>0),this.depthLocation=(E=(I=this.gl,O=this.program,I.getAttribLocation(O,"depth")),E>>>0),this.depthRangeLocation=(U=this.gl,V=this.program,U.getUniformLocation(V,"depthRange")),this.outputResolutionLocation=(L=this.gl,G=this.program,L.getUniformLocation(G,"outputResolution")),this.textureResolutionLocation=(D=this.gl,C=this.program,D.getUniformLocation(C,"textureResolution")),this.diffuseTextureLocation=(B=this.gl,Z=this.program,B.getUniformLocation(Z,"diffuseTexture"))}}function Zf(e){return new Gf(e)}function Yf(e){return e.program}function io(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation),e.gl.enableVertexAttribArray(e.positionLocation),e.gl.enableVertexAttribArray(e.texturePositionLocation),e.gl.enableVertexAttribArray(e.textureLayerLocation),e.gl.enableVertexAttribArray(e.depthLocation))}function Xf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=S(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function jf(e,t,n,r){e.gl.uniform3f(e.offsetLocation,t,n,r)}function Kf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.positionLocation,4,5126,!1,s,o);const i=S(n,0);return r.vertexAttribDivisor(e.positionLocation,i)}function qf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.texturePositionLocation,4,5126,!1,s,o);const i=S(n,0);return r.vertexAttribDivisor(e.texturePositionLocation,i)}function zf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.textureLayerLocation,1,5126,!1,s,o);const i=S(n,0);return r.vertexAttribDivisor(e.textureLayerLocation,i)}function Jf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.depthLocation,1,5126,!1,s,o);const i=S(n,0);return r.vertexAttribDivisor(e.depthLocation,i)}function Qf(e,t,n){e.gl.uniform2f(e.depthRangeLocation,t,n)}function ed(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function td(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function nd(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(35866,t)}let Nn=Ao(void 0);function rd(e,t){let n;if(Nn()==null){const r=Zf(e);io(r),t(r),Nn(r)}else{const r=Nn();Ae((n=e,n.getParameter(n.CURRENT_PROGRAM)),Yf(r))||(io(r),t(r))}return M(Nn())}const _t=wr(()=>[],e=>{ct(e)});class sd extends Cs{constructor(t,n){super(t,n),this.gl=t,this.view=n,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r,s;const o=this;uo(o);const i=ut(_t),u=ut(_t),l=ut(_t),c=ut(_t);of(o.view,(d,f)=>{const _=f,h=i;h.push(Ra(_)+d[0]),h.push(Ta(_)+d[1]),h.push(Fa(_)),h.push(Oa(_));const m=f,p=l;p.push($a(m)),p.push(Ha(m)),p.push(Na(m)),p.push(Ga(m));const g=t.TextureLayer(Pa(f));if(g!=null){const y=g;c.push(y)}u.push(Ia(f)+d[2])}),o.renderResult=(n=pn(i,o.gl),r=pn(l,o.gl),s=pn(c,o.gl),{DepthBuffer:pn(u,o.gl),PosBuffer:n,TextureBuffer:r,TextureLayer:s,TotalSprites:~~(i.length/4)}),se(_t,i),se(_t,l),se(_t,c),se(_t,u)}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=M(n.renderResult),s=t.Resolution.Width>>>0,o=t.Resolution.Height>>>0;n.gl.viewport(0,0,s,o),n.gl.enable(2929),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515);const i=rd(n.gl,c=>{Xf(c,t.VertexBuffer)});jf(i,t.Offset.X,t.Offset.Y,t.Offset.Z);const u=t.ZRange;Qf(i,u[0],u[1]),ed(i,t.Resolution.Width,t.Resolution.Height),td(i,t.TextureDetails.Width,t.TextureDetails.Height),nd(i,t.TextureDetails.Texture),zf(i,r.TextureLayer,1),Kf(i,r.PosBuffer,1),qf(i,r.TextureBuffer,1),Jf(i,r.DepthBuffer,1);const l=r.TotalSprites>>>0;n.gl.drawArraysInstanced(4,0,6,l)}"Imp.DisplayModels.RendererBase.OnDistory"(){uo(this)}}function od(e,t){return new sd(e,t)}function uo(e){_e(t=>{$n(_n,t.PosBuffer),$n(_n,t.TextureBuffer),$n(_n,t.TextureLayer),$n(_n,t.DepthBuffer)},gn(e.renderResult)),e.renderResult=void 0}class id extends An{constructor(t){super(),this.name=t}}function ud(e){return new id(e)}function Sn(e,t){const n=On();return t(n),new bs(e.name,od,n)}function bn(e){return ud(S(e,""))}class ld extends Cs{constructor(t,n){super(t,n),this.view=n}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){Jt(this.view,t)}}function cd(e,t){return new ld(e,t)}class ad extends An{constructor(t){super(),this.key=t}}function fd(e){return new ad(e)}function dd(e,t){const n=On();return t(n),new bs(e.key,cd,n)}function hd(e){return fd(S(e,""))}class _d extends P{constructor(t,n,r,s,o){super(),this.Up=t,this.Down=n,this.Left=r,this.Right=s,this.A=o}}class pd extends P{constructor(t,n){super(),this.Thumbstick=t,this.Buttons=n}}class Te extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Gound","Wall","Cauldron"]}}class md extends P{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Time=r,this.Delay=s}}function ns(e){let t;return En(0,(t=e.Time-e.Delay,~~Math.floor(t)+1))}class gd extends P{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Fuse=r}}class wd extends P{constructor(t,n,r){super(),this.Explosions=t,this.Bombs=n,this.UpdateCounter=r}}function Pr(e){e.UpdateCounter=In(Ho(e.UpdateCounter,1n))}class yd extends P{constructor(t,n,r){super(),this.Grid=t,this.WorldObjects=n,this.UpdateCounter=r}}class Kn extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Normal","Bomb"]}}class Sd extends P{constructor(t,n,r,s,o,i){super(),this.Position=t,this.Angle=n,this.Tag=r,this.Frame=s,this.UpdateCounter=o,this.Mode=i}}function Un(e){e.UpdateCounter=In(Ho(e.UpdateCounter,1n))}function rs(e){return[`Player-${e.Angle}-${e.Tag}`,~~e.Frame+1,~~(e.Position.X*32-16),~~(e.Position.Y*32-16)]}class bd extends P{constructor(t){super(),this.Player1=t}}class ss extends P{constructor(t,n,r,s){super(),this.Controller=t,this.World=n,this.Players=r,this.IsActive=s}}class it extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Noop","Input","Focus","Blur","Tick","GetBomb","DropBomb","Action"]}}function Cd(){let e,t;const n=Ws(13,r=>Ws(13,s=>new Te(0,[])));return k(0,n)[0]=new Te(2,[]),k(1,n)[1]=new Te(1,[]),k(3,n)[1]=new Te(1,[]),k(1,n)[3]=new Te(1,[]),k(2,n)[3]=new Te(1,[]),k(3,n)[3]=new Te(1,[]),k(4,n)[3]=new Te(1,[]),k(5,n)[4]=new Te(1,[]),k(5,n)[5]=new Te(1,[]),k(5,n)[3]=new Te(1,[]),k(1,n)[5]=new Te(1,[]),k(2,n)[5]=new Te(1,[]),k(3,n)[5]=new Te(1,[]),[(e=new yd(n,new wd([],[],0n),0n),t=new bd(new Sd(new K(1.5,.5),"South","Idle",0,0n,new Kn(0,[]))),new ss(new pd(Xr(),new _d(!1,!1,!1,!1,!1)),e,t,!0)),Vl([Xe(r=>{r(new it(4,[]))})])]}function Vi(e,t){const n=Gr(t.Y,e.World.Grid);if(n!=null)return Gr(t.X,n)}function Ed(e,t){const n=Vi(e,t);return n!=null?n.tag===0:!1}function Md(e,t){let n,r,s,o,i,u,l,c,d,f,_;switch(e.tag){case 4:{const h=t.Players.Player1,m=rs(h),p=D=>Ed(t,D);let g;const y=t.Controller.Buttons,x=t.Controller.Thumbstick;let E=Xr(),I=0,O=0;if(y.Up&&(I=I-1),y.Down&&(I=I+1),y.Left&&(O=O-1),y.Right&&(O=O+1),(I!==0||O!==0)&&(E=new xn(ir(jr(),new K(O,I)).Angle,1)),x.Distance>0&&(E=(n=x,new xn(n.Angle,(D=>Ur(D,1))(n.Distance)))),g=E,g.Distance>0){const D=oo/200;h.Position=Nf(p,D,h.Position,g,.4),h.Angle=(r=ia(g).Angle,r===0?"North":r===90?"East":r===180?"South":"West"),g.Distance>0?(h.Tag="Run",h.Frame=(h.Frame+g.Distance*D*4)%8):(h.Tag="Idle",h.Frame=0)}else h.Tag!=="Idle"&&(h.Tag="Idle",h.Frame=0);Vt(rs(h),m)||Un(t.Players.Player1);const U=t.World.WorldObjects.Explosions;for(let D=0;D<=U.length-1;D++){const C=k(D,U),B=ns(C)|0;C.Time=C.Time+.2,B!==ns(C)&&Pr(t.World.WorldObjects)}t.World.WorldObjects.Explosions.length>0&&(t.World.WorldObjects.Explosions=(s=t.World.WorldObjects.Explosions,s.filter(D=>D.Time-D.Delay<=13)));const V=(D,C)=>p(new Fe(D,C)),L=(D,C,B)=>new md(D,C,0,B),G=t.World.WorldObjects.Bombs;for(let D=0;D<=G.length-1;D++){const C=k(D,G);C.Fuse=C.Fuse-.1,C.Fuse<=0&&(Pr(t.World.WorldObjects),t.World.WorldObjects.Explosions=Hs(t.World.WorldObjects.Explosions,Qo(J(()=>{let B=!1,Z=!1,ee=!1,ne=!1;return V(C.X,C.Y)?Se(ye(L(C.X,C.Y,0)),J(()=>Se(V(C.X+1,C.Y)?Se(ye(L(C.X+1,C.Y,2)),J(()=>(ee=!0,V(C.X+2,C.Y)?ye(L(C.X+2,C.Y,4)):we()))):we(),J(()=>Se(V(C.X-1,C.Y)?Se(ye(L(C.X-1,C.Y,2)),J(()=>(ne=!0,V(C.X-2,C.Y)?ye(L(C.X-2,C.Y,4)):we()))):we(),J(()=>Se(V(C.X,C.Y+1)?Se(ye(L(C.X,C.Y+1,2)),J(()=>(Z=!0,V(C.X,C.Y+2)?ye(L(C.X,C.Y+2,4)):we()))):we(),J(()=>Se(V(C.X,C.Y-1)?Se(ye(L(C.X,C.Y-1,2)),J(()=>(B=!0,V(C.X,C.Y-2)?ye(L(C.X,C.Y-2,4)):we()))):we(),J(()=>Se(V(C.X+1,C.Y+1)&&Z&&ee?ye(L(C.X+1,C.Y+1,4)):we(),J(()=>Se(V(C.X+1,C.Y-1)&&B&&ee?ye(L(C.X+1,C.Y-1,4)):we(),J(()=>Se(V(C.X-1,C.Y+1)&&Z&&ne?ye(L(C.X-1,C.Y+1,4)):we(),J(()=>V(C.X-1,C.Y-1)&&B&&ne?ye(L(C.X-1,C.Y-1,4)):we())))))))))))))))):we()}))))}return t.World.WorldObjects.Bombs.length>0&&(t.World.WorldObjects.Bombs=(o=t.World.WorldObjects.Bombs,o.filter(D=>D.Fuse>0))),[t,Xe(D=>{ff(oo,()=>{D((()=>new it(4,[]))())})})]}case 1:{const h=e.fields[0];switch(h.tag){case 0:return t.Controller.Thumbstick=ir(jr(),new K(h.fields[0],h.fields[1])),[t,ce()];case 1:{const m=h.fields[0];switch(h.fields[1].tag){case 4:return t.Controller.Buttons.Left=m,[t,ce()];case 3:return t.Controller.Buttons.Down=m,[t,ce()];case 5:return t.Controller.Buttons.Right=m,[t,ce()];case 0:case 1:return m?[t,Xe(g=>{g(new it(7,[]))})]:[t,ce()];default:return t.Controller.Buttons.Up=m,[t,ce()]}}default:{const m=h.fields[0];switch(h.fields[1]|0){case 32:return m?[t,Xe(g=>{g(new it(7,[]))})]:[t,ce()];case 65:case 263:return t.Controller.Buttons.Left=m,[t,ce()];case 68:case 262:return t.Controller.Buttons.Right=m,[t,ce()];case 83:case 264:return t.Controller.Buttons.Down=m,[t,ce()];case 87:case 265:return t.Controller.Buttons.Up=m,[t,ce()];default:return[t,ce()]}}}}case 2:{const h=new ss(t.Controller,t.World,t.Players,!0);return Un(h.Players.Player1),[h,ce()]}case 3:{const h=new ss(t.Controller,t.World,t.Players,!1),m=h.Controller.Buttons;return m.Up=!1,m.Left=!1,m.Down=!1,m.Right=!1,m.A=!1,h.Controller.Thumbstick=Xr(),[h,ce()]}case 7:return Ae(t.Players.Player1.Mode,new Kn(0,[]))?[t,Xe(h=>{h(new it(5,[]))})]:[t,Xe(h=>{h(new it(6,[]))})];case 5:{const h=Vi(t,(i=(u=t.Players.Player1.Position.X,~~Math.floor(u)|0),l=(c=t.Players.Player1.Position.Y,~~Math.floor(c)|0),d=t.Players.Player1.Angle,d==="North"?new Fe(i,l-1):d==="South"?new Fe(i,l+1):d==="East"?new Fe(i+1,l):d==="West"?new Fe(i-1,l):new Fe(0,0)));let m;switch(h!=null&&h.tag===2?m=0:m=1,m){case 0:{t.Players.Player1.Mode=new Kn(1,[]),Un(t.Players.Player1);break}}return[t,ce()]}case 6:{const h=t.Players.Player1,m=(f=h.Position.X,~~Math.floor(f)|0),p=(_=h.Position.Y,~~Math.floor(_)|0);return t.World.WorldObjects.Bombs=Hs(t.World.WorldObjects.Bombs,[new gd(m,p,10)]),Pr(t.World.WorldObjects),t.Players.Player1.Mode=new Kn(0,[]),Un(t.Players.Player1),[t,ce()]}default:return[t,ce()]}}function Gn(e,t,n,r){return Ae(t,r)}function xd(e){let t,n,r,s,o,i;return ve((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,Ie(S(void 0,""),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0)),u=>{const l=Sn(bn(),c=>{let d,f,_,h,m,p,g,y,x,E,I;const O=c;(d=Ze(ke,"Wall North West",1,[0,0]),C=>{He(d,C),se(fe,d)})(O);const U=O;(f=Zt(0,1,e.Grid.length-1),C=>{_e(B=>{const Z=Ze(ke,"Wall North",1,[B*32,0]);He(Z,C),se(fe,Z)},f)})(U);const V=U;(_=Ze(ke,"Wall North East",1,[(e.Grid.length-1)*32,0]),C=>{He(_,C),se(fe,_)})(V);const L=V;(h=Zt(0,1,e.Grid.length-1),C=>{_e(B=>{let Z,ee,ne,Me,xe,Re;const Oe=B|0,Ke=ve((Z=void 0,ee=void 0,ne=void 0,Me=void 0,xe=void 0,Re=void 0,Ie(S(void 0,""),S(void 0,0),S(void 0,0),S(0,0),S(void 0,0),S(void 0,0),Z??void 0,ee??void 0,ne??void 0,Me??void 0,xe??void 0,Re??void 0)),dt=>{let qe,Et;const Mt=dt,v=k(Oe,e.Grid),F=Oe*32|0;(qe=Ze(ke,"Wall West",1,[0*32,F]),me=>{He(qe,me),se(fe,qe)})(Mt);const ie=Mt;(Et=Zt(0,1,v.length-1),me=>{_e(Ve=>{const ge=Ze(ke,"Earth",1,[Ve*32,F]);He(ge,me),se(fe,ge)},Et)})(ie);const De=Ze(ke,"Wall East",1,[(e.Grid.length-1)*32,F]);He(De,ie),se(fe,De)});C.push(new X(0,[Ke]))},h)})(L);const G=L;(m=Zt(0,1,e.Grid.length-1),C=>{_e(B=>{let Z,ee,ne,Me,xe,Re,Oe;const Ke=B|0,dt=ve((Z=Ke*32,ee=void 0,ne=void 0,Me=void 0,xe=void 0,Re=void 0,Oe=void 0,Ie(S(void 0,""),S(void 0,0),S(void 0,0),S(Z,0),S(void 0,0),S(void 0,0),ee??void 0,ne??void 0,Me??void 0,xe??void 0,Re??void 0,Oe??void 0)),qe=>{const Et=k(Ke,e.Grid),Mt=Ke*32|0;_e(v=>{let F,ie,De,me,Ve;(F=v|0,ie=k(F,Et),De=F*32|0,ie.tag===2?(me=Ze(ke,"Cauldron",1,[De,Mt]),ge=>{He(me,ge),se(fe,me)}):ie.tag===0?ge=>{}:(Ve=Ze(ke,"Wall",1,[De,Mt]),ge=>{He(Ve,ge),se(fe,Ve)}))(qe)},Zt(0,1,Et.length-1))});C.push(new X(0,[dt]))},m)})(G);const D=ve((p=void 0,g=void 0,y=void 0,x=void 0,E=void 0,I=void 0,Ie(S(void 0,""),S(void 0,0),S(void 0,0),S(0,0),S(void 0,0),S(void 0,0),p??void 0,g??void 0,y??void 0,x??void 0,E??void 0,I??void 0)),C=>{const B=Ze(ke,"Door West",1,[0,32]);He(B,C),se(fe,B)});G.push(new X(0,[D]))});u.push(new X(2,[l]))})}function Rd(e){let t,n,r,s,o,i,u;const l=rs(e),c=k(l[1]-1,Ds(ke,l[0]).Frames);let d;return d=e.Mode.tag===1?"Bomb":"Normal",ve((t=~~((e.Position.Y+.4)*32),n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,Ie(S("Player",""),S(l[2],0),S(l[3],0),S(t,0),S(void 0,0),S(void 0,0),n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),_=>{const h=Sn(bn("Player batchRenderer"),m=>{_e(p=>{let g,y,x,E;(g=k(p,c.Layers),El(d,g.MetaData,{Equals:(I,O)=>I===O,GetHashCode:lr})?(y=(x=g,E=x,Ms(0+E.Offset.X,0+E.Offset.Y,0,x.Rect.Width,x.Rect.Height,E.Texture,E.Rect.X,E.Rect.Y,E.Rect.Height,E.Rect.Width)),I=>{I.push(new X(1,[y]))}):I=>{})(m)},Zt(0,1,c.Layers.length-1))});_.push(new X(2,[h]))})}function Dd(e,t){let n,r,s,o,i,u,l,c;return ve((n=e.World.Grid.length*32,r=k(0,e.World.Grid).length*32,s=void 0,o=void 0,i=void 0,u=d=>{t(new it(2,[]))},l=d=>{t(new it(3,[]))},c=void 0,Ie(S("Small world root view",""),S(100,0),S(50,0),S(2,0),S(n,0),S(r,0),s??void 0,o??void 0,i??void 0,u??void 0,l??void 0,c??void 0)),d=>{const f=dd(hd("worldRenderer"),_=>{const h=vi(Ii(S("context",""),m=>{const p=m;return new yr(p.Time,p.Resolution,p.Offset,p.VertexBuffer,p.TextureDetails,p.TextureLayer,[0,256])}),m=>{let p,g,y,x,E,I,O,U;const V=m;(p=(g=S(void 0,G=>D=>G===D),new Gt(S("input",""),e.IsActive,(G,D)=>{try{return g(G)(D)}catch(C){throw C}},(G,D)=>((C,B)=>{let Z,ee,ne,Me,xe,Re;return cf(C,()=>new lf),ve((Z=void 0,ee=void 0,ne=void 0,Me=void 0,xe=void 0,Re=Oe=>B?(t(new it(1,[Oe])),!0):!1,Ie(S("input view",""),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),Z??void 0,ee??void 0,ne??void 0,Me??void 0,xe??void 0,Re??void 0)),Oe=>{const Ke=Sn(bn("input batchRenderer"),dt=>{const qe=$f(ke,"input text label")(B?"Active":"Click on the world to activate");dt.push(new X(0,[qe]))});Oe.push(new X(2,[Ke]))})})(G,D))),G=>{G.push(new X(4,[p]))})(V);const L=ve((y=void 0,x=void 0,E=void 0,I=void 0,O=void 0,U=void 0,Ie(S("world holder",""),S(void 0,0),S(64,0),S(void 0,0),S(void 0,0),S(void 0,0),y??void 0,x??void 0,E??void 0,I??void 0,O??void 0,U??void 0)),G=>{let D,C,B,Z,ee,ne,Me,xe,Re;const Oe=G;(D=(C=[e.World,e.World.UpdateCounter],B=S(v=>F=>Gn(v[0],v[1],F[0],F[1]),v=>F=>Vt(v,F)),new Gt(S("world",""),C,(v,F)=>{try{return B(v)(F)}catch(ie){throw ie}},(v,F)=>((ie,De)=>xd(De[0]))(v,F))),v=>{v.push(new X(4,[D]))})(Oe);const Ke=Oe;(Z=(ee=[e.Players.Player1,e.Players.Player1.UpdateCounter],ne=S(v=>F=>Gn(v[0],v[1],F[0],F[1]),v=>F=>Vt(v,F)),new Gt(S("player",""),ee,(v,F)=>{try{return ne(v)(F)}catch(ie){throw ie}},(v,F)=>((ie,De)=>Rd(De[0]))(v,F))),v=>{v.push(new X(4,[Z]))})(Ke);const dt=Ke;(Me=(xe=[e.World.WorldObjects.Explosions,e.World.WorldObjects.UpdateCounter],Re=S(v=>F=>Gn(v[0],v[1],F[0],F[1]),v=>F=>Vt(v,F)),new Gt(S("Explosion",""),xe,(v,F)=>{try{return Re(v)(F)}catch(ie){throw ie}},(v,F)=>((ie,De)=>{let me,Ve,ge,xt,Rt,Dt;return ve((me=void 0,Ve=void 0,ge=void 0,xt=void 0,Rt=void 0,Dt=void 0,Ie(S("Explosion view",""),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),me??void 0,Ve??void 0,ge??void 0,xt??void 0,Rt??void 0,Dt??void 0)),Cr=>{const Er=Sn(bn("Explosion batchRenderer"),Mr=>{_e(xr=>{let ht,Tt,ln,$t,Lt,Ht,kt,It,vt,Ft,cn,an;(ht=xr,Tt=ns(ht)|0,Tt>=1&&Tt<=12?(ln=ve(($t=ht.X*32,Lt=ht.Y*32,Ht=ht.Y*32+31,kt=void 0,It=void 0,vt=void 0,Ft=void 0,cn=void 0,an=void 0,Ie(S("Explosion3 holder",""),S($t,0),S(Lt,0),S(Ht,0),S(void 0,0),S(void 0,0),kt??void 0,It??void 0,vt??void 0,Ft??void 0,cn??void 0,an??void 0)),At=>{const ks=Ze(ke,"Explosion3",Tt,[0,0]);He(ks,At),se(fe,ks)}),At=>{At.push(new X(0,[ln]))}):At=>{})(Mr)},De[0])});Cr.push(new X(2,[Er]))})})(v,F))),v=>{v.push(new X(4,[Me]))})(dt);let qe;const Et=[e.World.WorldObjects.Bombs,e.World.WorldObjects.UpdateCounter],Mt=S(v=>F=>Gn(v[0],v[1],F[0],F[1]),v=>F=>Vt(v,F));qe=new Gt(S("Bombs",""),Et,(v,F)=>{try{return Mt(v)(F)}catch(ie){throw ie}},(v,F)=>((ie,De)=>{let me,Ve,ge,xt,Rt,Dt;return ve((me=void 0,Ve=void 0,ge=void 0,xt=void 0,Rt=void 0,Dt=void 0,Ie(S(void 0,""),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),S(void 0,0),me??void 0,Ve??void 0,ge??void 0,xt??void 0,Rt??void 0,Dt??void 0)),Cr=>{const Er=Sn(bn("Bombs Renderer"),Mr=>{_e(xr=>{let ht,Tt,ln,$t,Lt,Ht,kt,It,vt;const Ft=xr,cn=ve((ht=Ft.X*32,Tt=Ft.Y*32,ln=Ft.Y*32+31,$t=void 0,Lt=void 0,Ht=void 0,kt=void 0,It=void 0,vt=void 0,Ie(S(void 0,""),S(ht,0),S(Tt,0),S(ln,0),S(void 0,0),S(void 0,0),$t??void 0,Lt??void 0,Ht??void 0,kt??void 0,It??void 0,vt??void 0)),an=>{const At=Ze(ke,"Bomb",1,[0,0]);He(At,an),se(fe,At)});Mr.push(new X(0,[cn]))},De[0])});Cr.push(new X(2,[Er]))})})(v,F)),dt.push(new X(4,[qe]))});V.push(new X(0,[L]))});_.push(new X(3,[h]))});d.push(new X(2,[f]))})}function Td(e){return Uf(e,Cd,Md,Dd)}let lo=Ao(0);class R extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class Pi extends Ee{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class Bi extends P{constructor(t,n){super(),this.Hash=t,this.Coders=n}}class kd{constructor(){this.cache=new Map([])}}function Id(){return new kd}function vd(e,t,n){let r,s=Qe();if(r=[as(e.cache,t,new le(()=>s,o=>{s=o})),s],r[0])return r[1];{const o=n();return $u(e.cache,t,o),o}}const Fd=Id();function co(e){return e.slice(void 0,0+1).toLowerCase()+e.slice(1,e.length)}function Ad(e,t){switch(e.tag){case 2:return dl(co(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return co(t)}}const Od=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,ao=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,Vd=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Pd(e){function t(r){return r.replace(ao,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(Od.test(n))return Sl(n,"{","}","(",")");if(ao.test(n))return t(n);if(Vd.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Bd(e,t){try{return t.contents=Pd(e),!0}catch{return!1}}function $d(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}var os;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(os||(os={}));function Ld(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function fo(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Hd(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function Wd(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function Nd(e,t){if(t&os.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function $i(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||Nd(o,t),!Hd(n).test(i))return Ld(s,n)}return null}function Ud(e,t,n,r,s){const o=$i(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[u,l]=fo(!0,r);!n&&o.radix!==10&&i>=u&&i<=l&&(i=i<<32-r>>32-r);const[c,d]=fo(n,r);if(i>=c&&i<=d)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function un(e,t,n,r,s){try{return s.contents=Ud(e,t,n,r),!0}catch{return!1}}function Gd(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function Zd(e,t,n,r,s){const o=$i(e,t,s);if(o!=null){const i=(c,d)=>{const f=Math.max(c.length,d.length);return c.padStart(f,"0")<=d.padStart(f,"0")},u=o.sign==="-",l=Gd(n||o.radix!==10,o.radix,u);if(i(o.digits.toUpperCase(),l))return e=Wd(o.radix)+o.digits,e=u?o.sign+e:e,Zu(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function Yd(e,t,n,r,s){try{return s.contents=Zd(e,t,n,r),!0}catch{return!1}}function Li(e,t){Xd(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function Xd(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function jd(){return Li(-621355968e5,0)}function Kd(e){const[t,n]=Uo(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return Li(t.getTime(),r)}function qd(e,t){try{return t.contents=Kd(e),!0}catch{return!1}}class Hi{constructor(t){this.k=t}}function Be(e){return new Hi(e)}function A(e){return e.k}class W extends Hi{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function $e(e,t,n,r){return new W(e,t,n,r)}function j(e){return e.left}function Y(e){return e.right}function Kt(e){return e.h}function Wi(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=M(n);if(s instanceof W){const o=s;e=j(o),t=Wi(Y(o),r+1);continue e}else return r+1|0}else return r|0}}function zd(e){return Wi(e,0)}function Ge(e,t,n){let r,s,o;const i=e;if(i!=null){const d=M(i);o=d instanceof W?(r=d,Kt(r)):1}else o=0;let u;const l=n;if(l!=null){const d=M(l);u=d instanceof W?(s=d,Kt(s)):1}else u=0;const c=(o<u?u:o)|0;return c===0?Be(t):$e(t,e,n,c+1)}function ho(e,t,n){let r,s,o,i,u,l,c,d,f;const _=e;if(_!=null){const p=M(_);f=p instanceof W?(r=p,Kt(r)):1}else f=0;let h;const m=n;if(m!=null){const p=M(m);h=p instanceof W?(s=p,Kt(s)):1}else h=0;if(h>f+2){const p=M(n);if(p instanceof W){const g=p;if(o=j(g),(o!=null?(i=M(o),i instanceof W?(u=i,Kt(u)):1):0)>f+1){const y=M(j(g));if(y instanceof W){const x=y;return Ge(Ge(e,t,j(x)),A(x),Ge(Y(x),A(g),Y(g)))}else throw new Error("internal error: Set.rebalance")}else return Ge(Ge(e,t,j(g)),A(g),Y(g))}else throw new Error("internal error: Set.rebalance")}else if(f>h+2){const p=M(e);if(p instanceof W){const g=p;if(l=Y(g),(l!=null?(c=M(l),c instanceof W?(d=c,Kt(d)):1):0)>h+1){const y=M(Y(g));if(y instanceof W){const x=y;return Ge(Ge(j(g),A(g),j(x)),A(x),Ge(Y(x),t,n))}else throw new Error("internal error: Set.rebalance")}else return Ge(j(g),A(g),Ge(Y(g),t,n))}else throw new Error("internal error: Set.rebalance")}else return Ge(e,t,n)}function Dn(e,t,n){if(n!=null){const r=M(n),s=e.Compare(t,A(r))|0;if(r instanceof W){const o=r;return s<0?ho(Dn(e,t,j(o)),A(o),Y(o)):s===0?n:ho(j(o),A(o),Dn(e,t,Y(o)))}else{const o=e.Compare(t,A(r))|0;return o<0?$e(t,void 0,n,2):o===0?n:$e(t,n,void 0,2)}}else return Be(t)}function Ni(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=M(o),u=r.Compare(s,A(i))|0;if(i instanceof W){const l=i;if(u<0){e=r,t=s,n=j(l);continue e}else{if(u===0)return!0;e=r,t=s,n=Y(l);continue e}}else return u===0}else return!1}}function Ui(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=M(r);if(s instanceof W){const o=s;Ui(n,j(o)),n(A(o)),e=n,t=Y(o);continue e}else n(A(s))}break}}class Jd extends P{constructor(t,n){super(),this.stack=t,this.started=n}}function Gi(e){e:for(;;){const t=e;if(H(t))return rt();{const n=T(t),r=$(t);if(n!=null){const s=M(n);if(s instanceof W){const o=s;e=z([j(o),Be(A(o)),Y(o)],r);continue e}else return t}else{e=r;continue e}}}}function _o(e){return new Jd(Gi(Xe(e)),!1)}function Qd(){throw new Error("Enumeration not started")}function e0(){throw new Error("Enumeration already started")}function po(e){if(e.started){const t=e.stack;if(H(t))return e0();if(T(t)!=null){const n=M(T(t));return A(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return Qd()}function t0(e){if(e.started){const t=e.stack;if(H(t))return!1;if(T(t)!=null){if(M(T(t))instanceof W)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=Gi($(t)),!H(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!H(e.stack)}function mo(e){let t=_o(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return po(t)},"System.Collections.IEnumerator.get_Current"(){return po(t)},"System.Collections.IEnumerator.MoveNext"(){return t0(t)},"System.Collections.IEnumerator.Reset"(){t=_o(e)},Dispose(){}}}function n0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(H(s))return H(o)?0:-1;if(H(o))return 1;if(T(o)!=null)if(T(s)!=null){const i=M(T(s)),u=M(T(o));if(i instanceof W){const l=i;if(j(l)==null)if(u instanceof W){const c=u;if(j(c)==null){const d=r.Compare(A(l),A(c))|0;if(d!==0)return d|0;e=r,t=Je(Y(l),$(s)),n=Je(Y(c),$(o));continue e}else{let d,f,_,h,m;switch(H(s)?H(o)?d=2:T(o)!=null?(d=1,h=$(o),m=M(T(o))):d=2:T(s)!=null?(d=0,f=$(s),_=M(T(s))):H(o)?d=2:T(o)!=null?(d=1,h=$(o),m=M(T(o))):d=2,d){case 0:if(_ instanceof W){const p=_;e=r,t=z([j(p),$e(A(p),void 0,Y(p),0)],f),n=o;continue e}else{e=r,t=z([void 0,Be(A(_))],f),n=o;continue e}case 1:if(m instanceof W){const p=m;e=r,t=s,n=z([j(p),$e(A(p),void 0,Y(p),0)],h);continue e}else{e=r,t=s,n=z([void 0,Be(A(m))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(A(l),A(u))|0;if(c!==0)return c|0;e=r,t=Je(Y(l),$(s)),n=Je(void 0,$(o));continue e}else{let c,d,f,_,h;switch(H(s)?H(o)?c=2:T(o)!=null?(c=1,_=$(o),h=M(T(o))):c=2:T(s)!=null?(c=0,d=$(s),f=M(T(s))):H(o)?c=2:T(o)!=null?(c=1,_=$(o),h=M(T(o))):c=2,c){case 0:if(f instanceof W){const m=f;e=r,t=z([j(m),$e(A(m),void 0,Y(m),0)],d),n=o;continue e}else{e=r,t=z([void 0,Be(A(f))],d),n=o;continue e}case 1:if(h instanceof W){const m=h;e=r,t=s,n=z([j(m),$e(A(m),void 0,Y(m),0)],_);continue e}else{e=r,t=s,n=z([void 0,Be(A(h))],_);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof W){const l=u;if(j(l)==null){const c=r.Compare(A(i),A(l))|0;if(c!==0)return c|0;e=r,t=Je(void 0,$(s)),n=Je(Y(l),$(o));continue e}else{let c,d,f,_,h;switch(H(s)?H(o)?c=2:T(o)!=null?(c=1,_=$(o),h=M(T(o))):c=2:T(s)!=null?(c=0,d=$(s),f=M(T(s))):H(o)?c=2:T(o)!=null?(c=1,_=$(o),h=M(T(o))):c=2,c){case 0:if(f instanceof W){const m=f;e=r,t=z([j(m),$e(A(m),void 0,Y(m),0)],d),n=o;continue e}else{e=r,t=z([void 0,Be(A(f))],d),n=o;continue e}case 1:if(h instanceof W){const m=h;e=r,t=s,n=z([j(m),$e(A(m),void 0,Y(m),0)],_);continue e}else{e=r,t=s,n=z([void 0,Be(A(h))],_);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(A(i),A(u))|0;if(l!==0)return l|0;e=r,t=$(s),n=$(o);continue e}}else{M(T(o));let i,u,l,c,d;switch(H(s)?H(o)?i=2:T(o)!=null?(i=1,c=$(o),d=M(T(o))):i=2:T(s)!=null?(i=0,u=$(s),l=M(T(s))):H(o)?i=2:T(o)!=null?(i=1,c=$(o),d=M(T(o))):i=2,i){case 0:if(l instanceof W){const f=l;e=r,t=z([j(f),$e(A(f),void 0,Y(f),0)],u),n=o;continue e}else{e=r,t=z([void 0,Be(A(l))],u),n=o;continue e}case 1:if(d instanceof W){const f=d;e=r,t=s,n=z([j(f),$e(A(f),void 0,Y(f),0)],c);continue e}else{e=r,t=s,n=z([void 0,Be(A(d))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(T(s)!=null){M(T(s));let i,u,l,c,d;switch(H(s)?H(o)?i=2:T(o)!=null?(i=1,c=$(o),d=M(T(o))):i=2:T(s)!=null?(i=0,u=$(s),l=M(T(s))):H(o)?i=2:T(o)!=null?(i=1,c=$(o),d=M(T(o))):i=2,i){case 0:if(l instanceof W){const f=l;e=r,t=z([j(f),$e(A(f),void 0,Y(f),0)],u),n=o;continue e}else{e=r,t=z([void 0,Be(A(l))],u),n=o;continue e}case 1:if(d instanceof W){const f=d;e=r,t=s,n=z([j(f),$e(A(f),void 0,Y(f),0)],c);continue e}else{e=r,t=s,n=z([void 0,Be(A(d))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=$(s),n=$(o);continue e}}}function go(e,t,n){return t==null?n==null?0:-1:n==null?1:n0(e,Xe(t),Xe(n))|0}function r0(e,t,n){let r=n;Ui(s=>{at(t,r,s),r=r+1|0},e)}function s0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){e=r,t=Dn(r,o["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=o;continue e}else return s}}function o0(e,t){return hr((n,r)=>Dn(e,r,n),void 0,t)}function i0(e,t){return on((n,r)=>Dn(e,r,n),void 0,t)}function u0(e,t){if(We(t))return o0(e,t);if(t instanceof Ne)return i0(e,t);{const n=N(t);try{return s0(e,void 0,n)}finally{Q(n)}}}class Ts{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return a0(this)|0}Equals(t){let n;const r=this;return t instanceof Ts&&(n=t,go(qn(r),ze(r),ze(n))===0)}toString(){return"set ["+fr("; ",mt(n=>je(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return go(qn(n),ze(n),ze(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return Ni(qn(n),t,ze(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){r0(ze(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Br(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Br(this)|0}GetEnumerator(){return mo(ze(this))}[Symbol.iterator](){return nn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return mo(ze(this))}get size(){return Br(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return c0(this,t)}keys(){return mt(n=>n,this)}values(){return mt(n=>n,this)}entries(){return mt(n=>[n,n],this)}forEach(t,n){const r=this;_e(s=>{t(s,s,r)},r)}}function l0(e,t){return new Ts(e,t)}function qn(e){return e.comparer}function ze(e){return e.tree}function Br(e){return zd(ze(e))}function c0(e,t){return Ni(qn(e),t,ze(e))}function a0(e){let t=0;const n=N(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+lt(r)+631|0}}finally{Q(n)}return Math.abs(t)|0}function f0(e,t){return l0(t,u0(t,e))}function hn(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function d0(e,t){const n=t.tag===2?hn(t.fields[0],t.fields[1],!0):t.tag===1?hn(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?hn(t.fields[0],t.fields[1],!0):t.tag===4?hn(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+fr(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:hn(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function Zi(e,t,n){const r=t(e,n);if(r.tag===1){const s=r.fields[0];return new w(1,[d0(s[0],s[1])])}else return new w(0,[r.fields[0]])}function h0(e,t){try{return Zi("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new w(1,["Given an invalid JSON: "+n.message]);throw n}}function _0(e,t){const n=h0(e,t);if(n.tag===1)throw new Error(n.fields[0]);return n.fields[0]}function Yi(e,t){return typeof t=="string"?new w(0,[t]):new w(1,[[e,new R(0,["a string",t])]])}function p0(e,t){if(typeof t=="string"){const n=t;return n.length===1?new w(0,[n[0]]):new w(1,[[e,new R(0,["a single character string",t])]])}else return new w(1,[[e,new R(0,["a char",t])]])}function m0(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[Bd(t,new le(()=>r,s=>{r=s})),r],n[0]?new w(0,[n[1]]):new w(1,[[e,new R(0,["a guid",t])]])}else return new w(1,[[e,new R(0,["a guid",t])]])}function g0(e,t){return t==null?new w(0,[void 0]):new w(1,[[e,new R(0,["null",t])]])}const wo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-128<=s&&s<=127?new w(0,[(s+128&255)-128]):new w(1,[[n,new R(1,["a sbyte",s,"Value was either too large or too small for a sbyte"])]]):new w(1,[[n,new R(1,["a sbyte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[un(r,511,!1,8,new le(()=>o,i=>{o=i|0})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new R(0,["a sbyte",r])]])}else return new w(1,[[n,new R(0,["a sbyte",r])]])},yo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=255?new w(0,[s&255]):new w(1,[[n,new R(1,["a byte",s,"Value was either too large or too small for a byte"])]]):new w(1,[[n,new R(1,["a byte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[un(r,511,!0,8,new le(()=>o,i=>{o=i})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new R(0,["a byte",r])]])}else return new w(1,[[n,new R(0,["a byte",r])]])},So=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-32768<=s&&s<=32767?new w(0,[(s+32768&65535)-32768]):new w(1,[[n,new R(1,["an int16",s,"Value was either too large or too small for an int16"])]]):new w(1,[[n,new R(1,["an int16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[un(r,511,!1,16,new le(()=>o,i=>{o=i|0})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new R(0,["an int16",r])]])}else return new w(1,[[n,new R(0,["an int16",r])]])},bo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=65535?new w(0,[s&65535]):new w(1,[[n,new R(1,["an uint16",s,"Value was either too large or too small for an uint16"])]]):new w(1,[[n,new R(1,["an uint16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[un(r,511,!0,16,new le(()=>o,i=>{o=i})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new R(0,["an uint16",r])]])}else return new w(1,[[n,new R(0,["an uint16",r])]])},Co=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-2147483648<=s&&s<=2147483647?new w(0,[~~s]):new w(1,[[n,new R(1,["an int",s,"Value was either too large or too small for an int"])]]):new w(1,[[n,new R(1,["an int",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[un(r,511,!1,32,new le(()=>o,i=>{o=i|0})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new R(0,["an int",r])]])}else return new w(1,[[n,new R(0,["an int",r])]])},Eo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=4294967295?new w(0,[s>>>0]):new w(1,[[n,new R(1,["an uint32",s,"Value was either too large or too small for an uint32"])]]):new w(1,[[n,new R(1,["an uint32",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[un(r,511,!0,32,new le(()=>o,i=>{o=i})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new R(0,["an uint32",r])]])}else return new w(1,[[n,new R(0,["an uint32",r])]])},w0=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?Fs(-9223372036854775808n)<=s&&s<=Fs(9223372036854775807n)?new w(0,[In(Gu(s))]):new w(1,[[n,new R(1,["an int64",s,"Value was either too large or too small for an int64"])]]):new w(1,[[n,new R(1,["an int64",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0n;return s=[Yd(r,511,!1,64,new le(()=>o,i=>{o=i})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new R(0,["an int64",r])]])}else return new w(1,[[n,new R(0,["an int64",r])]])};function y0(e,t){return typeof t=="boolean"?new w(0,[t]):new w(1,[[e,new R(0,["a boolean",t])]])}function S0(e,t){return typeof t=="number"?new w(0,[t]):new w(1,[[e,new R(0,["a float",t])]])}function b0(e,t){return typeof t=="number"?new w(0,[t]):new w(1,[[e,new R(0,["a float32",t])]])}function C0(e,t){if(typeof t=="string"){let n,r=tl();return n=[rl(t,new le(()=>r,s=>{r=s})),r],n[0]?new w(0,[sl(n[1])]):new w(1,[[e,new R(0,["a datetime",t])]])}else return new w(1,[[e,new R(0,["a datetime",t])]])}function E0(e,t){if(typeof t=="string"){let n,r=jd();return n=[qd(t,new le(()=>r,s=>{r=s})),r],n[0]?new w(0,[n[1]]):new w(1,[[e,new R(0,["a datetimeoffset",t])]])}else return new w(1,[[e,new R(0,["a datetime",t])]])}function M0(e,t){if(typeof t=="string"){let n,r=0;return n=[gf(t,new le(()=>r,s=>{r=s})),r],n[0]?new w(0,[n[1]]):new w(1,[[e,new R(0,["a timespan",t])]])}else return new w(1,[[e,new R(0,["a timespan",t])]])}function Mo(e,t,n,r){let s;const o=n+".["+wt(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(o,k(e,i)):new w(1,[[o,new R(5,["a longer array. Need index `"+wt(e)+"` but there are only `"+(s=i.length,wt(s))+"` entries",r])]])}else return new w(1,[[o,new R(0,["an array",r])]])}function x0(e,t,n){return n==null?new w(0,[void 0]):ft(pe,e(t,n))}function xo(e,t,n){if(Array.isArray(n)){let r=-1;return ft(_s,hr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+wt(r)+"]",o);return i.tag===0?new w(0,[Je(i.fields[0],s.fields[0])]):new w(1,[i.fields[0]])}else return s},new w(0,[rt()]),n))}else return new w(1,[[t,new R(0,["a list",n])]])}function R0(e,t,n){if(Array.isArray(n)){let r=-1;return ft(uc,hr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+wt(r)+"]",o);return i.tag===0?new w(0,[Se([i.fields[0]],s.fields[0])]):new w(1,[i.fields[0]])}else return s},new w(0,[[]]),n))}else return new w(1,[[t,new R(0,["a seq",n])]])}function Ro(e,t,n){if(Array.isArray(n)){let r=-1;const s=n;return hr((o,i)=>{if(r=r+1|0,o.tag===0){const u=o.fields[0],l=e(t+".["+wt(r)+"]",i);return l.tag===0?(at(u,r,l.fields[0]),new w(0,[u])):new w(1,[l.fields[0]])}else return o},new w(0,[sn(new Array(s.length),0,s.length,null)]),s)}else return new w(1,[[t,new R(0,["an array",n])]])}function D0(e,t,n){return((s,o)=>{e:for(;;){const i=s,u=o;if(H(i))return new w(1,[[t,new R(7,[u])]]);{const l=Zi(t,be(T(i)),n);if(l.tag===1){s=$(i),o=Pl(u,Xe(l.fields[0]));continue e}else return new w(0,[l.fields[0]])}}})(e,rt())}function T0(e,t,n){return new w(0,[e])}function Do(e,t,n,r){const s=t(n,r);return s.tag===0?e(s.fields[0],n,r):new w(1,[s.fields[0]])}function k0(e,t,n,r){const s=t(n,r);return s.tag===1?new w(1,[s.fields[0]]):new w(0,[e(s.fields[0])])}function I0(e,t){let n;const r=e;return n=s=>o=>Mo(0,r,s,o),s=>o=>Do(uu(i=>{let u;const l=t;return u=c=>d=>Mo(1,l,c,d),c=>d=>Do((f,_,h)=>T0([i,f]),be(u),c,d)}),be(n),s,o)}function v0(e){return vc(e,{Compare:et})}function F0(e){return f0(e,{Compare:et})}function A0(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?Tl((r,s)=>{const o=r[0];return s.tag===0?ft(i=>Je(i,s.fields[0]),r[1](t+"."+o)(n[o])):s},e,new w(0,[rt()])):new w(1,[[t,new R(0,["an object",n])]])}function O0(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?ti((s,o)=>{if(s.tag===0){const i=e(n,o);if(i.tag===0){const u=t(n+"."+o,r[o]);return u.tag===0?new w(0,[Je([i.fields[0],u.fields[0]],s.fields[0])]):new w(1,[u.fields[0]])}else return new w(1,[i.fields[0]])}else return s},new w(0,[rt()]),Object.keys(r)):new w(1,[[n,new R(0,["an object",r])]])}function Xi(e,t,n,r){let s;const o=t.length+e|0;if(o!==r.length)return new w(1,[[n,new R(6,[(s=r.length|0,Nr(sr("Expected array of length %i but got %i"))(o)(s))])]]);{let i=new w(0,[rt()]);for(let u=e;u<=r.length-1;u++)if(i.tag===0){const l=i.fields[0],c=Nr(sr("%s[%i]"))(n)(u),d=k(u-e,t),f=k(u,r);i=ft(_=>Je(_,l),d(c)(f))}return ft(_s,i)}}function To(e,t,n,r,s,o){const i=Dl(u=>cs(u)===r,Du(n));if(i!=null){const u=i,l=hs(c=>Ye(e,t,!1,c[1]),vu(u));return ft(c=>Fu(u,pr(c)),l.length===0&&o.length<=1?new w(0,[rt()]):Xi(1,l,s,o))}else return new w(1,[[s,new R(6,["Cannot find case "+r+" in "+ue(n)])]])}function ko(e,t,n,r){let s;const o=new le(Qe());let i;const u=ue(r);i=u===""?e:ui(u,o,e);let l;if(Iu(r)){const c=hs(d=>[Ad(t,cs(d)),Ye(i,t,!1,d[1])],tr(r));l=d=>f=>ft(_=>Au(r,pr(_)),A0(c,d,f))}else if(ku(r))l=c=>d=>{if(typeof d=="string")return To(i,t,r,d,c,[]);if(Array.isArray(d)){const f=d;return Wl(_=>To(i,t,r,_,c,f),Yi(c+"[0]",k(0,f)))}else return new w(1,[[c,new R(0,["a string or array",d])]])};else if(n)l=c=>d=>new w(1,[[c,new R(2,["an extra coder for "+ue(r),d])]]);else throw new Error((s=ue(r),Nr(sr(`Cannot generate auto decoder for %s. Please pass an extra decoder.

Documentation available at: https://thoth-org.github.io/Thoth.Json/documentation/auto/extra-coders.html#ready-to-use-extra-coders`))(s)));return o.contents=l,l}function Ye(e,t,n,r){let s,o,i,u;const l=ue(r),c=kc(l,e);if(c==null)if(Cu(r)){const d=Ye(e,t,!1,cr(r));return f=>_=>Ro(be(d),f,_)}else if(Bo(r))switch(ue(xu(r))){case"System.SByte":return f=>_=>{const h=r,m=f,p=_,g=wo(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const y=g.fields[0]|0;return Ut(y,Wt(h),{Equals:(x,E)=>x===E,GetHashCode:st})?new w(0,[Nt(h,y.toString())]):new w(1,[[m,new R(1,[ue(h),p,"Unkown value provided for the enum"])]])}};case"System.Byte":return f=>_=>{const h=r,m=f,p=_,g=yo(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const y=g.fields[0];return Ut(y,Wt(h),{Equals:(x,E)=>x===E,GetHashCode:st})?new w(0,[Nt(h,y.toString())]):new w(1,[[m,new R(1,[ue(h),p,"Unkown value provided for the enum"])]])}};case"System.Int16":return f=>_=>{const h=r,m=f,p=_,g=So(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const y=g.fields[0]|0;return Ut(y,Wt(h),{Equals:(x,E)=>x===E,GetHashCode:st})?new w(0,[Nt(h,eu(y))]):new w(1,[[m,new R(1,[ue(h),p,"Unkown value provided for the enum"])]])}};case"System.UInt16":return f=>_=>{const h=r,m=f,p=_,g=bo(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const y=g.fields[0];return Ut(y,Wt(h),{Equals:(x,E)=>x===E,GetHashCode:st})?new w(0,[Nt(h,y.toString())]):new w(1,[[m,new R(1,[ue(h),p,"Unkown value provided for the enum"])]])}};case"System.Int32":return f=>_=>{const h=r,m=f,p=_,g=Co(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const y=g.fields[0]|0;return Ut(y,Wt(h),{Equals:(x,E)=>x===E,GetHashCode:st})?new w(0,[Nt(h,wt(y))]):new w(1,[[m,new R(1,[ue(h),p,"Unkown value provided for the enum"])]])}};case"System.UInt32":return f=>_=>{const h=r,m=f,p=_,g=Eo(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const y=g.fields[0];return Ut(y,Wt(h),{Equals:(x,E)=>x===E,GetHashCode:st})?new w(0,[Nt(h,y.toString())]):new w(1,[[m,new R(1,[ue(h),p,"Unkown value provided for the enum"])]])}};default:{const f=ue(r),_=pl(sr(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the following enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(f);return h=>_(h)}}else if(Eu(r))if($o(r)){const d=hs(f=>Ye(e,t,!1,f),Tu(r));return f=>_=>Array.isArray(_)?ft(h=>Ou(pr(h)),Xi(0,d,f,_)):new w(1,[[f,new R(0,["an array",_])]])}else switch(ue(Mu(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return s=Ye(e,t,!0,k(0,ot(r))),f=>_=>x0(be(s),f,_);case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return o=Ye(e,t,!1,k(0,ot(r))),f=>_=>xo(be(o),f,_);case"System.Collections.Generic.IEnumerable`1[System.Object]":return i=Ye(e,t,!1,k(0,ot(r))),f=>_=>R0(be(i),f,_);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const f=Ye(e,t,!1,k(0,ot(r))),_=Ye(e,t,!1,k(1,ot(r)));let h;const m=ps([p=>g=>O0(be(f),be(_),p,g),(u=I0(be(f),be(_)),p=>g=>xo(be(u),p,g))]);return h=p=>g=>D0(m,p,g),p=>g=>k0(v0,be(h),p,g)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const f=Ye(e,t,!1,k(0,ot(r)));return _=>h=>{const m=Ro(be(f),_,h);return m.tag===0?new w(0,[F0(m.fields[0])]):new w(1,[m.fields[0]])}}default:return ko(e,t,n,r)}else switch(l){case"System.Boolean":return d=>f=>y0(d,f);case"Microsoft.FSharp.Core.Unit":return d=>f=>g0(d,f);case"System.String":return d=>f=>Yi(d,f);case"System.Char":return d=>f=>p0(d,f);case"System.SByte":return wo;case"System.Byte":return yo;case"System.Int16":return So;case"System.UInt16":return bo;case"System.Int32":return Co;case"System.UInt32":return Eo;case"System.Double":return d=>f=>S0(d,f);case"System.Single":return d=>f=>b0(d,f);case"System.DateTime":return d=>f=>C0(d,f);case"System.DateTimeOffset":return d=>f=>E0(d,f);case"System.TimeSpan":return d=>f=>M0(d,f);case"System.Guid":return d=>f=>m0(d,f);case"System.Object":return d=>f=>new w(0,[f]);default:return ko(e,t,n,r)}else{const d=c;return f=>_=>d.contents(f)(_)}}function V0(e){return e!=null?Ic((t,n)=>new le(n[1]),e.Coders):li({Compare:vo})}function P0(e,t,n){let r,s;const o=S(t,new Pi(0,[]));return vd(Fd,(r=(s=ue(e),je(o)+s),S(Lo(i=>i.Hash,n),"")+r),()=>Ye(V0(n),o,!1,e))}class B0 extends P{constructor(t,n,r,s){super(),this.Texture=t,this.Rect=n,this.Offset=r,this.MetaData=s}}function $0(e){return kn("Imp.SpriteHelpers.Models.Layer`1",[e],B0,()=>[["Texture",ls],["Rect",ra()],["Offset",na()],["MetaData",e]])}class L0 extends P{constructor(t){super(),this.Layers=t}}function H0(e){return kn("Imp.SpriteHelpers.Models.Frame`1",[e],L0,()=>[["Layers",us($0(e))]])}class W0 extends P{constructor(t,n){super(),this.Name=t,this.Frames=n}}function N0(e){return kn("Imp.SpriteHelpers.Models.SpriteInfo`1",[e],W0,()=>[["Name",ls],["Frames",us(H0(e))]])}function U0(e){return String(e)}const G0=new Bi("",li({Compare:vo})),Z0=new Pi(1,[]),Y0=new Bi((()=>$d())(),ui("System.Int64",[U0,w0],G0.Coders));function X0(){let e,t,n,r,s,o;return ve((e=void 0,t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,Ie(S("Views.rootView",""),S(void 0,0),S(void 0,0),S(1,0),S(void 0,0),S(void 0,0),e??void 0,t??void 0,n??void 0,r??void 0,s??void 0,o??void 0)),i=>{const u=vi(Ii(S(void 0,""),l=>{const c=l;return new yr(c.Time,c.Resolution,c.Offset,c.VertexBuffer,c.TextureDetails,c.TextureLayer,[0,10])}),l=>{const c=If(vf(new xf(36,33,47),"sceneRenderer"),d=>{const f=Td("SmallWorld");d.push(new X(4,[f]))});l.push(new X(2,[c]))});i.push(new X(3,[u]))})}function j0(){lo(lo()+1)}function K0(e,t){const n=Pf(ke),r=e;r["Imp.Setup.DataManager.LoadString"]("sprites.json",s=>{const o=N(_0(be(P0(Su(N0(us(ls))),Z0,Y0)),s));try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();n.set(i.Name,i);const u=i.Frames;for(let l=0;l<=u.length-1;l++){const c=k(l,u).Layers;for(let d=0;d<=c.length-1;d++)Bu(k(d,c).Texture,Oi(r))}}}finally{Q(o)}(()=>{t["Imp.Setup.Display.AttachInputZ2D84AEB6"](u=>{u.AttachKeyboard(),u.AttachGamepad(),u.AttachMouse()});const i=X0();t["Imp.Setup.Display.AttachView"](e,i,()=>{j0()}),t["Imp.Setup.Display.Run"]()})()})}const q0=bf("data"),z0=Mf("App",800,600);K0(q0,z0);
