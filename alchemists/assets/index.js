(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Je(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Sl(e){return e!=null&&typeof e.GetEnumerator=="function"}function bl(e){return e!=null&&typeof e.CompareTo=="function"}function Cl(e){return e!=null&&typeof e.Equals=="function"}function xl(e){return e!=null&&typeof e.GetHashCode=="function"}function Ml(e){return e!=null&&typeof e.Dispose=="function"}function K(e){Ml(e)&&e.Dispose()}function Qe(){return null}function Gr(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class El{constructor(t){this.iter=t,this.current=Qe()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function N(e){return Sl(e)?e.GetEnumerator():new El(e[Symbol.iterator]())}function Gn(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class Ni{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function X(e,t){return e.toString(10).padStart(t,"0")}function No(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function Rl(e,t){return e=e<0&&t!=null&&t!==10?65535+e+1:e,e.toString(t)}function Jt(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class Xt{static id(t){return Xt.idMap.has(t)||Xt.idMap.set(t,++Xt.count),Xt.idMap.get(t)}}Xt.idMap=new WeakMap;Xt.count=0;function ns(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function Vt(e){return e*2654435761|0}function Il(e){return ns(e.toString(32))}function hr(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function vl(e){return e.getTime()}function Tl(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=Lt(e[r]);return hr(n)}function Lt(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return Vt(e);case"bigint":return Il(e);case"string":return ns(e);default:{if(xl(e))return e.GetHashCode();if(Je(e))return Tl(e);if(e instanceof Date)return vl(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>Lt(n));return hr(t)}else return Vt(Xt.id(e))}}}function Ds(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Ft(e,t){return Ds(e,t,oe)}function Dl(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!oe(e[n[s]],t[r[s]]))return!1;return!0}function oe(e,t){return e===t?!0:e==null?t==null:t==null?!1:Cl(e)?e.Equals(t):Je(e)?Je(t)&&Ft(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&no(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&Dl(e,t)}function no(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+No(e),r=t.getTime()+No(t)),n===r?0:n<r?-1:1}function rs(e,t){return e===t?0:e<t?-1:1}function kl(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function Ui(e,t){return kl(e,t,Ct)}function Vl(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=Ct(e[i],t[i]),o!==0)return o}return 0}function Ct(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:bl(e)?e.CompareTo(t):Je(e)?Je(t)?Ui(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?no(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?Vl(e,t):-1}function _r(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}function ks(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),o=r-s,i=1e-8,u=o>.5-i&&o<.5+i?s%2===0?s:s+1:Math.round(r);return t?u/n:u}function xt(e){Je(e)?e.splice(0):e.clear()}const Gi=new WeakMap;function we(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return Gi.set(t,e),t}function Fl(e){if(e==null)return null;const t=(n,r,s)=>e(n)(r)(s);return Gi.set(t,e),t}function Pl(e,t,n,r,s){if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))n.set(e.subarray(t,t+s),r);else for(let o=0;o<s;++o)n[r+o]=e[t+o]}function Al(e){let t=0,n="[";for(const r of e){if(t===0)n+=lt(r);else if(t===100){n+="; ...";break}else n+="; "+lt(r);t++}return n+"]"}function lt(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return Al(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,s])=>r+" = "+lt(s,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function Bl(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=lt(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>lt(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class ne{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return Bl(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>Lt(n));return t.splice(0,0,Vt(this.tag)),hr(t)}Equals(t){return this===t?!0:Gr(this,t)&&this.tag===t.tag?Ft(this.fields,t.fields):!1}CompareTo(t){return this===t?0:Gr(this,t)?this.tag===t.tag?Ui(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function Ol(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function $l(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+lt(n)).join(`
  `)+" }"}function Ll(e){const t=Object.values(e).map(n=>Lt(n));return hr(t)}function Hl(e,t){if(e===t)return!0;if(Gr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!oe(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function Nl(e,t){if(e===t)return 0;if(Gr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=Ct(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class k{toJSON(){return Ol(this)}toString(){return $l(this)}GetHashCode(){return Ll(this)}Equals(t){return Hl(this,t)}CompareTo(t){return Nl(this,t)}}class ae{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}class Ul{constructor(t){this.message=t}}function Gl(e){return e instanceof Ul||e instanceof Error}function Wl(e){return e instanceof Promise}function Uo(e){return Gl(e)||Wl(e)?e:new Error(String(e))}const Wn=Symbol("numeric");function Wi(e){return typeof e=="number"||typeof e=="bigint"||e?.[Wn]}function Zl(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Vs(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[Wn]().multiply(t)}function Ar(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[Wn]().toFixed(t)}function Wr(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[Wn]().toPrecision(t)}function Zr(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[Wn]().toExponential(t)}function zr(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[Wn]().toHex()}class zl{constructor(t,n,r,s){this.declaringType=t,this.tag=n,this.name=r,this.fields=s}}class Ne{constructor(t,n,r,s,o,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=o,this.cases=i,this.enumCases=u}toString(){return le(this)}GetHashCode(){return Zi(this)}Equals(t){return Fs(this,t)}}function Pt(e){return e.generics!=null?e.generics:[]}function Zi(e){const t=ns(e.fullname),n=Pt(e).map(Zi);return hr([t,...n])}function Fs(e,t){return e.fullname===""?t.fullname===""&&Ds(Xr(e),Xr(t),([n,r],[s,o])=>n===s&&Fs(r,o)):e.fullname===t.fullname&&Ds(Pt(e),Pt(t),Fs)}function ct(e,t,n,r){return new Ne(e,t,n,void 0,r)}function ss(e,t,n,r){const s=new Ne(e,t,n,void 0,void 0,()=>{const o=n.prototype.cases();return r().map((i,u)=>new zl(s,u,o[u],i))});return s}function Yr(e){return new Ne("Microsoft.FSharp.Core.FSharpOption`1",[e])}function Fn(e){return new Ne("Microsoft.FSharp.Collections.FSharpList`1",[e])}function os(e){return new Ne("[]",[e])}const Yl=new Ne("System.Object"),rn=new Ne("System.String"),zi=new Ne("System.Boolean"),Le=new Ne("System.Int32"),Mr=new Ne("System.Double");function ro(e){if(Array.isArray(e))return e[0];if(e instanceof Ne){const t=is(e);if(t!=null)return ro(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function le(e){const t=is(e);return t!=null?le(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>le(n)).join(",")+"]"}function Xl(e){return is(e)!=null}function is(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function jl(e){return e.generics!=null&&e.generics.length>0}function Yi(e){return e.enumCases!=null&&e.enumCases.length>0}function Kl(e){return e.generics==null?e:new Ne(e.fullname,e.generics.map(()=>Yl))}function ql(e){return e.generics?.[0]}function vn(e){if(Yi(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function Jl(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function Tn(e,t){const n=parseInt(t,10);return Jl(e,isNaN(n)?t:n)[1]}function Ql(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function Xr(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function ec(e){if(Xi(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function tc(e){return e instanceof Ne?e.cases!=null:e instanceof ne}function nc(e){return e instanceof Ne?e.fields!=null:e instanceof k}function Xi(e){return e.fullname.startsWith("System.Tuple")}function rc(e){return e.fields==null?[]:e.fields}function sc(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function oc(e,t){const n=Xr(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,o],i)=>(r[s]=t[i],r),{})}function ic(e,t){return e}const mn={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function gs(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function uc(e,t){switch(t){case mn.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case mn.SnakeCase:return gs(e,"_");case mn.SnakeCaseAllCaps:return gs(e,"_").toUpperCase();case mn.KebabCase:return gs(e,"-");case mn.None:default:return e}}function lc(e,t=mn.None){const n={},r=t;function s(i){throw new Error("Cannot infer key and value of "+String(i))}function o(i,u,c){i=uc(i,u),n[i]=c}for(let i of e){let u=mn.None;if(i==null&&s(i),i instanceof ne){const c=i.cases()[i.tag];i=i.fields.length===0?c:[c].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:s(i);break;case 1:o(i[0],u,!0);break;case 2:const c=i[1];o(i[0],u,c);break;default:o(i[0],u,i.slice(1))}else typeof i=="string"?o(i,u,!0):s(i)}return n}function so(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function cc(e,t){return t.has(e)?!1:(t.add(e),!0)}function ac(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}class fc extends k{constructor(t,n,r){super(),this.Pixels=t,this.Width=n,this.Height=r}}class us extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,us.prototype)}}function dc(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new us);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(n){t.onError(Uo(n))}});else try{e(t)}catch(n){t.onError(Uo(n))}}}class Nn{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return Lt(this.value)}Equals(t){return t==null?!1:oe(this.value,t instanceof Nn?t.value:t)}CompareTo(t){return t==null?1:Ct(this.value,t instanceof Nn?t.value:t)}}function C(e){if(e==null)throw new Error("Option has no value");return e instanceof Nn?e.value:e}function xe(e){return e==null||e instanceof Nn?new Nn(e):e}function Bn(e){return e==null?[]:[C(e)]}function w(e,t){return e!=null?C(e):t}function ji(e,t){return t!=null?xe(e(C(t))):void 0}class ws extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Choice1Of2","Choice2Of2"]}}function hc(e){return _c(t=>e.then(t[0]).catch(n=>(n instanceof us?t[2]:t[1])(n)))}function _c(e){return dc(t=>e([t.onSuccess,t.onError,t.onCancel]))}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function mc(e,t){return e===t}function pc(e,t){return e+t}function Ki(e){return BigInt(e)}function gc(e){return BigInt(Math.trunc(e))}function wc(e){return BigInt(e)}function ls(e){return BigInt.asIntN(64,e)}function Go(e){return Number(e)}const yc=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Sc=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],bc=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Cc=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ue(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function Wo(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function xc(e,t){let n=t;const r=e[t];let s="",o=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){o=!0;break}else if(i==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=i}if(!o)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function oo(e,t,n){let r=0,s=0,o="";const i=n?tn(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(s=Ue(t,r,"d"),r+=s,s){case 1:o+=zo(i);break;case 2:o+=X(zo(i),2);break;case 3:o+=yc[jo(i)];break;case 4:o+=Sc[jo(i)];break}break;case"f":if(s=Ue(t,r,"f"),r+=s,s<=3){const m=10**(3-s);o+=X(Math.floor(Rr(i)/m),s)}else s<=7&&(o+=(""+Rr(i)).padEnd(s,"0"));break;case"F":if(s=Ue(t,r,"F"),r+=s,s<=3){const m=10**(3-s),S=Math.floor(Rr(i)/m);S!=0&&(o+=X(S,s))}else if(s<=7){const m=Rr(i);m!=0&&(o+=X(m,3))}break;case"g":s=Ue(t,r,"g"),r+=s,s<=2&&(o+="A.D.");break;case"h":switch(s=Ue(t,r,"h"),r+=s,s){case 1:o+=Er(i)%12;break;case 2:o+=X(Er(i)%12,2);break}break;case"H":switch(s=Ue(t,r,"H"),r+=s,s){case 1:o+=Er(i);break;case 2:o+=X(Er(i),2);break}break;case"K":switch(s=Ue(t,r,"K"),r+=s,s){case 1:switch(Zo(i)){case 1:o+="Z";break;case 2:o+=On(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=Ue(t,r,"m"),r+=s,s){case 1:o+=Yo(i);break;case 2:o+=X(Yo(i),2);break}break;case"M":switch(s=Ue(t,r,"M"),r+=s,s){case 1:o+=Ir(i);break;case 2:o+=X(Ir(i),2);break;case 3:o+=bc[Ir(i)-1];break;case 4:o+=Cc[Ir(i)-1];break}break;case"s":switch(s=Ue(t,r,"s"),r+=s,s){case 1:o+=Xo(i);break;case 2:o+=X(Xo(i),2);break}break;case"t":switch(s=Ue(t,r,"t"),r+=s,s){case 1:o+=i.getHours()<12?"A":"P";break;case 2:o+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(s=Ue(t,r,"y"),r+=s,s){case 1:o+=i.getFullYear()%100;break;case 2:o+=X(i.getFullYear()%100,2);break;case 3:o+=X(i.getFullYear(),3);break;case 4:o+=X(i.getFullYear(),4);break;case 5:o+=X(i.getFullYear(),5);break}break;case"z":s=Ue(t,r,"z"),r+=s;let c="";switch(Zo(i)){case 1:c="+00:00";break;case 2:c=On(i.getTimezoneOffset()*-6e4);break;case 0:c=On(Vc(i).getTimezoneOffset()*-6e4);break}const l=c[0]==="-"?"-":"+",d=parseInt(c.substring(1,3),10),f=parseInt(c.substring(4,6),10);switch(s){case 1:o+=`${l}${d}`;break;case 2:o+=`${l}${X(d,2)}`;break;default:o+=`${l}${X(d,2)}:${X(f,2)}`;break}break;case":":o+=":",r++;break;case"/":o+="/",r++;break;case"'":case'"':const[h,_]=xc(t,r);o+=h,r+=_;break;case"%":const g=Wo(t,r);if(g>=0&&g!=="%".charCodeAt(0))r+=2,o+=oo(i,String.fromCharCode(g),n);else throw new Error("Invalid format string");break;case"\\":const p=Wo(t,r);if(p>=0)r+=2,o+=String.fromCharCode(p);else throw new Error("Invalid format string");break;default:r++,o+=u;break}}return o}function Zo(e){return e.kind||0}function On(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+X(n,2)+":"+X(r,2)}function jr(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Mc(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return X(e.getFullYear(),4)+"-"+X(e.getMonth()+1,2)+"-"+X(e.getDate(),2)+"T"+X(e.getHours(),2)+":"+X(e.getMinutes(),2)+":"+X(e.getSeconds(),2)+"."+X(e.getMilliseconds(),3)+(n?On(e.getTimezoneOffset()*-6e4):"")}}function Ec(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+On(t)}function Rc(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+On(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return jr(n,"first");case"T":case"t":return jr(n,"second");case"O":case"o":return Ec(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return oo(n,t,!0)}function Ic(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?jr(e,"first"):e.toLocaleDateString();case"T":case"t":return n?jr(e,"second"):e.toLocaleTimeString();case"O":case"o":return Mc(e,n);default:throw new Error("Unrecognized Date print format")}else return oo(e,t,n)}function qi(e,t,n){return e.offset!=null?Rc(e,t):Ic(e,t)}function tn(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function vc(){return tn(-621355968e5,0)}function Ji(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let o,i=0;if(s[2]!=null){const u=s[2].split(":"),c=parseInt(u[0],10);i=c*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&c<12&&(i+=720)}if(s[4]!=null){if(s[1]!=null)o=new Date(s[1]+" UTC");else{const u=new Date;o=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(s[4]==="Z")r="Z";else{let u=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(s[1]!=null)o=new Date(s[1]);else{const u=new Date;o=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(o.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-o.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function Tc(e,t=!1){const[n,r]=Ji(e),s=r!=null?t&&r==="Z"?1:2:0;return tn(n.getTime(),s)}function Dc(e,t){try{return t.contents=Tc(e),!0}catch{return!1}}function Kr(){return tn(Date.now(),1)}function kc(e){return e.kind===1?e:tn(e.getTime(),1)}function Vc(e){return e.kind===2?e:tn(e.getTime(),2)}function zo(e){return e.kind===1?e.getUTCDate():e.getDate()}function Er(e){return e.kind===1?e.getUTCHours():e.getHours()}function Rr(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function Yo(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function Ir(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function Xo(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function jo(e){return e.kind===1?e.getUTCDay():e.getDay()}function Qi(e,t){const n=tn(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?tn(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function Fc(e,t){return Qi(e,t)}function Pc(e,t){return typeof t=="number"?Qi(e,-t):e.getTime()-t.getTime()}const Ac=no;function Bc(e,t){return Pc(e,t)}function Oc(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function $c(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Ko(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let s,o=-1;for(;(s=e.exec(t))!=null;)s.index===o?e.lastIndex++:(o=s.index,r.push(s));return r}function Lc(e,t,n,r,s=0){function o(){let i=arguments[0];if(r){r--;const u=[],c=arguments.length,l=typeof arguments[c-1]!="string";let d=l?c-3:c-2;for(let f=0;f<d;f++)u.push(arguments[f]);u.index=arguments[d++],u.input=arguments[d++],l&&(u.groups=arguments[d]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=Oc(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,s)+t.substring(s).replace(e,o);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(s),c=Ko(e,u),l=Ko.length>r?(i=c[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,s)+l.replace(e,n)+t.substring(s+l.length)}else return t.replace(e,n)}const Kn=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,Hc=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function eu(e,t){return Zl(e,t)<0}function qr(e){return{input:e,cont:Wc(e)}}function io(e,t){return typeof t=="string"?e(t):t.cont(e)}function Nc(e){return io(t=>console.log(t),e)}function Ps(e){return io(t=>t,e)}function Uc(e){return io(t=>{throw new Error(t)},e)}function Gc(e,t,n,r,s){let o="";if(t=t||"",s=s||"",Wi(e))switch(s.toLowerCase()!=="x"&&(eu(e,0)?(e=Vs(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=Ar(e,r);break;case"g":case"G":e=r!=null?Wr(e,r):Wr(e);break;case"e":case"E":e=r!=null?Zr(e,r):Zr(e);break;case"x":e=zr(e);break;case"X":e=zr(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=qi(e):e=lt(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,c=u||!i?" ":"0";c==="0"?(e=or(e,n-o.length,c,u),e=o+e):e=or(o+e,n,c,u)}return e}function tu(e,t,n,r="",s=-1){return(...o)=>{let i=r;const u=t.slice(),c=n.slice();for(const l of o){const[,,d,f,h,_]=c[0];let g=f;if(s>=0)g=s,s=-1;else if(g==="*"){if(l<0)throw new Error("Non-negative number required");s=l;continue}i+=u[0],i+=Gc(l,d,g,h,_),u.splice(0,1),c.splice(0,1)}return c.length===0?(i+=u[0],e(i)):tu(e,u,c,i,s)}}function Wc(e){return t=>{Kn.lastIndex=0;const n=[],r=[];let s=0,o=Kn.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=Kn.lastIndex,Kn.lastIndex-=1,o=Kn.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),tu(t,n,r))}}function Zc(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(Hc,(r,s,o,i,u,c)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let l=t[s];if(Wi(l))switch(u=u==null?null:parseInt(u,10),i){case"f":case"F":u=u??2,l=Ar(l,u);break;case"g":case"G":l=u!=null?Wr(l,u):Wr(l);break;case"e":case"E":l=u!=null?Zr(l,u):Zr(l);break;case"p":case"P":u=u??2,l=Ar(Vs(l,100),u)+" %";break;case"d":case"D":l=u!=null?ys(String(l),u,"0"):String(l);break;case"x":case"X":l=u!=null?ys(zr(l),u,"0"):zr(l),i==="X"&&(l=l.toUpperCase());break;default:if(c){let d="";l=c.replace(/([0#,]+)(\.[0#]+)?/,(f,h,_)=>{eu(l,0)&&(l=Vs(l,-1),d="-"),_=_==null?"":_.substring(1),l=Ar(l,Math.max(_.length,0));let[g,p]=l.split(".");p||(p="");const m=h.replace(/,/g,"").replace(/^#+/,"").length;g=ys(g,m,"0");const S=_.replace(/#+$/,"").length;if(S>p.length?p=zc(p,S,"0"):S<p.length&&(p=p.substring(0,S)+p.substring(S).replace(/0+$/,"")),h.indexOf(",")>0){const x=g.length%3,M=Math.floor(g.length/3);let E=x>0?g.substr(0,x)+(M>0?",":""):"";for(let D=0;D<M;D++)E+=g.substr(x+D*3,3)+(D<M-1?",":"");g=E}return p.length>0?g+"."+p:g}),l=d+l}}else l instanceof Date?l=qi(l,c||i):l=lt(l);return o=parseInt((o||" ").substring(1),10),isNaN(o)||(l=or(String(l),Math.abs(o)," ",o<0)),l})}function cs(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function or(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function ys(e,t,n){return or(e,t,n)}function zc(e,t,n){return or(e,t,n,!0)}function Yc(e,...t){if(t.length===0)return e.trim();const n="["+$c(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}const nu="The index was outside the range of elements in the collection.",ru="Collection was empty.";function uo(e,t){return typeof e=="function"?new e(t):new Array(t)}function ir(e,t){return e>t?e:t}function As(e,t){return e<t?e:t}function Xc(){throw new Error("An index satisfying the predicate was not found in the collection.")}function Bs(e,t,n){const r=e.length|0,s=t.length|0,o=uo(n,r+s);for(let i=0;i<=r-1;i++)nn(o,i,V(i,e));for(let i=0;i<=s-1;i++)nn(o,i+r,V(i,t));return o}function Zn(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function lo(e,t,n){const r=t.length|0,s=uo(n,r);for(let o=0;o<=r-1;o++)nn(s,o,e(V(o,t)));return s}function jc(e,t,n,r,s){const o=w(n,0)|0,i=w(ji(c=>o+c,r),e.length)|0;return(c=>{e:for(;;){const l=c;if(l>=i)return-1;if(s.Equals(t,V(l,e)))return l|0;c=l+1;continue e}})(o)|0}function Kc(e,t,n){return jc(t,e,void 0,void 0,n)>=0}function qc(e,t){const n=uo(t,1);return nn(n,0,e),n}function Br(e,t,n,r,s){Pl(e,t,n,r,s)}function Jc(e){return e.slice().reverse()}function Qc(e,t){t.push(e)}function ut(e,t){const n=N(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)Qc(n["System.Collections.Generic.IEnumerator`1.get_Current"](),t)}finally{K(n)}}function Jr(e,t){const n=t.find(e);return n==null?Xc():C(n)}function su(e,t){return t.find(e)}function as(e,t,n){const r=e;return n.reduce(r,t)}function V(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function nn(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function Os(e,t){if(!(e<0||e>=t.length))return xe(t[e])}function ea(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class Me extends k{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+cs("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,u=o,c=i.tail,l=u.tail;if(c!=null)if(l!=null){const d=C(c),f=C(l);if(oe(i.head,u.head)){s=d,o=f;continue e}else return!1}else return!1;else return l==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,u=s,c=o,l=c.tail;if(l!=null){const d=C(l);if(i>18)return u|0;r=i+1,s=(u<<1)+Lt(c.head)+631*i,o=d;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,u=o,c=i.tail,l=u.tail;if(c!=null)if(l!=null){const d=C(c),f=C(l),h=Ct(i.head,u.head)|0;if(h===0){s=d,o=f;continue e}else return h|0}else return 1;else return l!=null?-1:0}})(this,t)|0}GetEnumerator(){return na(this)}[Symbol.iterator](){return Gn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return N(this)}}class ta{constructor(t){this.xs=t,this.it=this.xs,this.current=Qe()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=C(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=Qe()}Dispose(){}}function na(e){return new ta(e)}function fe(){return new Me(Qe(),void 0)}function mr(e,t){return new Me(e,t)}function zn(e){return e.tail==null}function ou(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=C(i);continue e}else return s|0}})(0,e)|0}function pr(e){if(e.tail!=null)return e.head;throw new Error(ru+"\\nParameter name: list")}function ze(e){const t=e.tail;if(t!=null)return C(t);throw new Error(ru+"\\nParameter name: list")}function ra(e,t){return((r,s)=>{e:for(;;){const o=r,i=s,u=i.tail;if(u!=null){if(o===t)return i.head;r=o+1,s=C(u);continue e}else throw new Error(nu+"\\nParameter name: index")}})(0,e)}function Be(){return fe()}function St(e,t){return mr(e,t)}function He(e){return mr(e,fe())}function O(e){return zn(e)}function gn(e){return ou(e)}function v(e){return pr(e)}function B(e){return ze(e)}function $t(e){const t=ou(e)|0,n=Zn(new Array(t),0,t,null);return((s,o)=>{e:for(;;){const i=s,u=o;if(!zn(u)){nn(n,i,pr(u)),s=i+1,o=ze(u);continue e}break}})(0,e),n}function Mt(e,t,n){let r=t,s=n;for(;!zn(s);)r=e(r,v(s)),s=ze(s);return r}function co(e){return Mt((t,n)=>mr(n,t),fe(),e)}function sa(e,t,n){return((s,o,i)=>{e:for(;;){const u=s,c=o,l=i;if(zn(l))return c;s=u+1,o=e(u,c,pr(l)),i=ze(l);continue e}})(0,t,n)}function oa(e,t){Mt((n,r)=>{e(r)},void 0,t)}function q(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=mr(V(r,e),n);return n}function fs(e){return q(e,fe())}function ia(e){let t,n;if(Je(e))return fs(e);if(e instanceof Me)return e;{const r=fe();let s=r;const o=N(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new Me(c,void 0),t.tail=n,n)}}finally{K(o)}const i=s,u=fe();return i.tail=u,ze(r)}}function ao(e){const t=fe();let n=t;const r=i=>{n=Mt((u,c)=>{const l=new Me(c,void 0);return u.tail=l,l},n,i)};if(Je(e))e.forEach(r);else if(e instanceof Me)oa(r,e);else{const i=N(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();)r(i["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{K(i)}}const s=n,o=fe();return s.tail=o,ze(t)}function fo(e,t){return Mt((n,r)=>mr(r,n),t,co(e))}function iu(e,t){const n=fe(),r=sa((o,i,u)=>{const c=new Me(e(o,u),void 0);return i.tail=c,c},n,t),s=fe();return r.tail=s,ze(n)}function Pn(e,t){const n=fe(),r=Mt((o,i)=>{const u=new Me(e(i),void 0);return o.tail=u,u},n,t),s=fe();return r.tail=s,ze(n)}function ua(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(zn(i))return;if(e(pr(i)))return o;r=o+1,s=ze(i);continue e}})(0,t)}function la(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(zn(i))return;if(o===e)return xe(pr(i));r=o+1,s=ze(i);continue e}})(0,t)}function ho(e,t){return ra(t,e)}function uu(e,t){const n=fe(),r=Mt((o,i)=>{if(e(i)){const u=new Me(i,void 0);return o.tail=u,u}else return o},n,t),s=fe();return r.tail=s,ze(n)}function qo(e,t){const n=fe(),r=Mt((o,i)=>{const u=e(i);if(u==null)return o;{const c=new Me(C(u),void 0);return o.tail=c,c}},n,t),s=fe();return r.tail=s,ze(n)}function ca(e,t){let n,r;const s=fe();let o=s;for(let c=0;c<=e-1;c++)o=(n=o,r=new Me(t(c),void 0),n.tail=r,r);const i=o,u=fe();return i.tail=u,ze(s)}function aa(e,t){return ca(e,n=>t)}function lu(e,t){return Mt((n,r)=>n&&e(r),!0,t)}function fa(e,t){let n=-1,r=!1;const s=uu(o=>(n=n+1|0,n===e?(r=!0,!1):!0),t);if(!r)throw new Error(nu+"\\nParameter name: index");return s}function da(e){return new y(0,[e])}function cu(e){return new y(1,[e])}class y extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function Ht(e,t){return t.tag===0?da(e(t.fields[0])):cu(t.fields[0])}function ha(e,t){return t.tag===0?e(t.fields[0]):cu(t.fields[0])}class _a{constructor(){}}function ma(){return new _a}function pa(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function ga(e,t){return t.then(n=>n)}const Jo=ma();function wa(e){throw new Error(e)}const ya="Enumeration already finished.",Sa="Enumeration has not started. Call MoveNext.",ba="Reset is not supported on this enumerator.";function Ca(){throw new Error(ba)}function _o(){throw new Error(Sa)}function $s(){throw new Error(ya)}class xa{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=N(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+lt(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{K(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return Gn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function Ma(e){return new xa(e)}class Ea{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){Ca()}Dispose(){this.dispose()}}function mo(e,t,n){return new Ea(e,t,n)}function Ra(e){let t,n,r=!1,s=!1,o;const i=()=>{if(s=!0,n!=null){const u=C(n);try{K(u)}finally{n=void 0}}if(t!=null){const u=C(t);try{K(u)}finally{t=void 0}}};return mo(()=>(r?s&&$s():_o(),o!=null?C(o):$s()),()=>{let u;if(r||(r=!0),s)return!1;{let c;for(;c==null;){const l=t,d=n;if(l!=null)if(d!=null){const f=C(d);if(f["System.Collections.IEnumerator.MoveNext"]())o=xe(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),c=!0;else try{K(f)}finally{n=void 0}}else{const f=C(l);f["System.Collections.IEnumerator.MoveNext"]()?n=(u=f["System.Collections.Generic.IEnumerator`1.get_Current"](),N(u)):(i(),c=!1)}else t=N(e)}return C(c)}},()=>{s||i()})}function Ia(e,t,n){let r=!1,s,o=xe(e());const i=()=>{if(o!=null){const c=C(o);try{n(c)}finally{o=void 0}}},u=()=>{try{i()}finally{s=void 0}};return mo(()=>(r||_o(),s!=null?C(s):$s()),()=>{if(r||(r=!0),o!=null){const c=C(o);let l;try{l=t(c)}catch(d){throw u(),d}return l!=null?(s=l,!0):(u(),!1)}else return!1},i)}function va(e,t){let n,r=t;return mo(()=>{if(n!=null){const s=C(n)[0];return C(n)[1],s}else return _o()},()=>(n=e(r),n!=null?(C(n)[0],r=C(n)[1],!0):!1),()=>{})}function Ta(e,t){t==null&&wa(e)}function ds(e){return Ma(e)}function wn(e){return Ta("source",e),N(e)}function U(e){return ds(()=>N(e()))}function po(e){return ds(()=>Ra(e))}function au(e,t){return ds(()=>va(e,t))}function Ke(){return U(()=>new Array(0))}function ye(e){return U(()=>qc(e))}function fu(e){return e instanceof Me?$t(e):Array.from(e)}function yn(e){return Je(e)?fs(e):e instanceof Me?e:ia(e)}function Da(e,t,n){return ds(()=>Ia(e,t,n))}function Ve(e,t){return po([e,t])}function ka(e,t,n){const r=wn(t);try{const s=wn(n);try{let o=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]();for(;o===0&&i&&u;)o=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,o===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]());return(o!==0?o:i?1:u?-1:0)|0}finally{K(s)}}finally{K(r)}}function Dn(e,t,n){const r=wn(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{K(r)}}function du(e,t){return po(au(n=>e()?[t,n+1]:void 0,0))}function Va(e,t){const n=wn(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]()))return o;s=o+1;continue e}else return;break}})(0)}finally{K(n)}}function hu(e,t,n){const r=wn(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{K(r)}}function Fa(e,t){if(Je(t))return Os(e,t);if(t instanceof Me)return la(e,t);{const n=wn(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(o===0)return xe(n["System.Collections.Generic.IEnumerator`1.get_Current"]());s=o-1;continue e}else return;break}})(e)}finally{K(n)}}}function ue(e,t){hu((n,r)=>{e(r)},void 0,t)}function At(e,t){return Da(()=>wn(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?xe(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{K(n)})}function Pa(e){return U(()=>Jc(fu(e)))}function go(e,t){return U(()=>po(At(e,t)))}function Aa(e){return Jt(e.status)+" "+e.statusText+" for URL "+e.url}function Ba(e,t){return fetch(e,lc(t,1)).then(r=>{if(r.ok)return r;throw new Error(Aa(r))})}const Oa=Qe();class _u{constructor(t,n){this.k=t,this.v=n}}function ur(e,t){return new _u(e,t)}function ie(e){return e.k}function Fe(e){return e.v}class se extends _u{constructor(t,n,r,s,o){super(t,n),this.left=r,this.right=s,this.h=o|0}}function rr(e,t,n,r,s){return new se(e,t,n,r,s)}function Se(e){return e.left}function be(e){return e.right}function jt(e){return e.h}function mu(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=C(r);if(s instanceof se){const o=s;e=mu(n+1,Se(o)),t=be(o);continue e}else return n+1|0}else return n|0}}function $a(e){return mu(0,e)}function st(e,t,n,r){let s,o,i;const u=e;if(u!=null){const f=C(u);i=f instanceof se?(s=f,jt(s)):1}else i=0;let c;const l=r;if(l!=null){const f=C(l);c=f instanceof se?(o=f,jt(o)):1}else c=0;const d=(i<c?c:i)|0;return d===0?ur(t,n):rr(t,n,e,r,d+1)}function Qo(e,t,n,r){let s,o,i,u,c,l,d,f,h;const _=e;if(_!=null){const m=C(_);h=m instanceof se?(s=m,jt(s)):1}else h=0;let g;const p=r;if(p!=null){const m=C(p);g=m instanceof se?(o=m,jt(o)):1}else g=0;if(g>h+2){const m=C(r);if(m instanceof se){const S=m;if(i=Se(S),(i!=null?(u=C(i),u instanceof se?(c=u,jt(c)):1):0)>h+1){const x=C(Se(S));if(x instanceof se){const M=x;return st(st(e,t,n,Se(M)),ie(M),Fe(M),st(be(M),ie(S),Fe(S),be(S)))}else throw new Error("internal error: Map.rebalance")}else return st(st(e,t,n,Se(S)),ie(S),Fe(S),be(S))}else throw new Error("internal error: Map.rebalance")}else if(h>g+2){const m=C(e);if(m instanceof se){const S=m;if(l=be(S),(l!=null?(d=C(l),d instanceof se?(f=d,jt(f)):1):0)>g+1){const x=C(be(S));if(x instanceof se){const M=x;return st(st(Se(S),ie(S),Fe(S),Se(M)),ie(M),Fe(M),st(be(M),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return st(Se(S),ie(S),Fe(S),st(be(S),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return st(e,t,n,r)}function Un(e,t,n,r){if(r!=null){const s=C(r),o=e.Compare(t,ie(s))|0;if(s instanceof se){const i=s;return o<0?Qo(Un(e,t,n,Se(i)),ie(i),Fe(i),be(i)):o===0?rr(t,n,Se(i),be(i),jt(i)):Qo(Se(i),ie(i),Fe(i),Un(e,t,n,be(i)))}else return o<0?rr(t,n,void 0,r,2):o===0?ur(t,n):rr(t,n,r,void 0,2)}else return ur(t,n)}function pu(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=C(o),u=r.Compare(s,ie(i))|0;if(u===0)return xe(Fe(i));if(i instanceof se){const c=i;e=r,t=s,n=u<0?Se(c):be(c);continue e}else return}else return}}function La(e,t,n){const r=pu(e,t,n);if(r==null)throw new Error;return C(r)}function Ha(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=C(o),u=r.Compare(s,ie(i))|0;if(i instanceof se){const c=i;if(u<0){e=r,t=s,n=Se(c);continue e}else{if(u===0)return!0;e=r,t=s,n=be(c);continue e}}else return u===0}else return!1}}function gu(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=C(r);if(s instanceof se){const o=s;gu(n,Se(o)),n(ie(o),Fe(o)),e=n,t=be(o);continue e}else n(ie(s),Fe(s))}break}}function Na(e,t){gu(e,t)}function Ls(e,t){if(t!=null){const n=C(t);if(n instanceof se){const r=n,s=Ls(e,Se(r)),o=e(ie(r),Fe(r)),i=Ls(e,be(r));return rr(ie(r),o,s,i,jt(r))}else return ur(ie(n),e(ie(n),Fe(n)))}else return void 0}function Ua(e,t){return Ls(e,t)}function Ga(e,t,n){let r=n;Na((s,o)=>{nn(t,r,[s,o]),r=r+1|0},e)}function Wa(e,t){return Mt((n,r)=>Un(e,r[0],r[1],n),void 0,t)}function Za(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=Un(r,i[0],i[1],s),n=o;continue e}else return s}}function za(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=V(r,t);n=Un(e,s[0],s[1],n)}return n}function wu(e,t){if(Je(t))return za(e,t);if(t instanceof Me)return Wa(e,t);{const n=N(t);try{return Za(e,void 0,n)}finally{K(n)}}}class Ya extends k{constructor(t,n){super(),this.stack=t,this.started=n}}function yu(e){e:for(;;){const t=e;if(O(t))return Be();{const n=B(t),r=v(t);if(r!=null){const s=C(r);if(s instanceof se){const o=s;e=q([Se(o),ur(ie(o),Fe(o)),be(o)],n);continue e}else return t}else{e=n;continue e}}}}function ei(e){return new Ya(yu(He(e)),!1)}function Xa(){throw new Error("enumeration not started")}function ja(){throw new Error("enumeration already finished")}function ti(e){if(e.started){const t=e.stack;if(O(t))return ja();if(v(t)!=null){const n=C(v(t));if(n instanceof se)throw new Error("Please report error: Map iterator, unexpected stack for current");return[ie(n),Fe(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return Xa()}function Ka(e){if(e.started){const t=e.stack;if(O(t))return!1;if(v(t)!=null){if(C(v(t))instanceof se)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=yu(B(t)),!O(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!O(e.stack)}function ni(e){let t=ei(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return ti(t)},"System.Collections.IEnumerator.get_Current"(){return ti(t)},"System.Collections.IEnumerator.MoveNext"(){return Ka(t)},"System.Collections.IEnumerator.Reset"(){t=ei(e)},Dispose(){}}}class Qr{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return tf(this)|0}Equals(t){const n=this;if(t instanceof Qr){const r=t,s=N(n);try{const o=N(r);try{const i=()=>{const u=s["System.Collections.IEnumerator.MoveNext"]();if(u===o["System.Collections.IEnumerator.MoveNext"]())if(u){const c=s["System.Collections.Generic.IEnumerator`1.get_Current"](),l=o["System.Collections.Generic.IEnumerator`1.get_Current"]();return oe(c[0],l[0])&&oe(c[1],l[1])?i():!1}else return!0;else return!1};return i()}finally{K(o)}}finally{K(s)}}else return!1}toString(){return"map ["+cs("; ",At(n=>Zc("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return ni(this.tree)}[Symbol.iterator](){return Gn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return ni(this.tree)}CompareTo(t){const n=this;if(t instanceof Qr)return ka((s,o)=>{const i=n.comparer.Compare(s[0],o[0])|0;return(i!==0?i:Ct(s[1],o[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return ri(n,t[0])&&oe(Hs(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){Ga(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Ss(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Ss(this)|0}get size(){return Ss(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return At(n=>[n[0],n[1]],this)}get(t){return Hs(this,t)}has(t){return ri(this,t)}keys(){return At(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return At(n=>n[1],this)}forEach(t,n){const r=this;ue(s=>{t(s[1],s[0],r)},r)}}function gr(e,t){return new Qr(e,t)}function qa(e){return gr(e,void 0)}function Ja(e,t,n){return gr(e.comparer,Un(e.comparer,t,n,e.tree))}function Hs(e,t){return La(e.comparer,t,e.tree)}function Qa(e,t){return gr(e.comparer,Ua(t,e.tree))}function Ss(e){return $a(e.tree)}function ri(e,t){return Ha(e.comparer,t,e.tree)}function ef(e,t){return pu(e.comparer,t,e.tree)}function tf(e){const t=(s,o)=>(s<<1)+o+631;let n=0;const r=N(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,Lt(s[0]))|0,n=t(n,Lt(s[1]))|0}}finally{K(r)}return n|0}function Su(e,t,n){return Ja(n,e,t)}function Ns(e,t){return Hs(t,e)}function bu(e,t){return ef(t,e)}function nf(e,t){return Qa(t,e)}function Cu(e,t){return gr(t,wu(t,e))}function rf(e,t){return gr(t,wu(t,e))}function xu(e){return qa(e)}class sf{constructor(t,n){this.contents=t,this.count=n|0}GetEnumerator(){const t=this;return N(U(()=>{let n=t.count-1;return du(()=>n>=0,U(()=>Ve(ye(V(n,t.contents)),U(()=>(n=n-1|0,Ke())))))}))}[Symbol.iterator](){return Gn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return N(this)}}function of(e,t){return new sf(e,t)}function uf(e){return of(Zn(new Array(e),0,e,null),0)}function wo(){return uf(4)}function lf(e,t){const n=e.contents.length|0;if(t>n){const r=e.contents;e.contents=Zn(new Array(ir(t,n*2)),0,ir(t,n*2),null),Br(r,0,e.contents,0,e.count)}}function Mu(e){return e.count}function yo(e){return e.count=e.count-1|0,V(e.count,e.contents)}function cf(e,t){return e.count>0?(t.contents=yo(e),!0):!1}function So(e,t){lf(e,e.count+1),e.contents[e.count]=t,e.count=e.count+1|0}class af{constructor(t,n){this.contents=t,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return N(wf(this))}[Symbol.iterator](){return Gn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return N(this)}}function ff(e,t){return new af(e,t)}function df(e){if(e<0)throw new Error("capacity is less than 0");return ff(Zn(new Array(e),0,e,null),0)}function hf(){return df(4)}function Kt(e,t){e.count===pn(e)&&gf(e,e.count+1),e.contents[e.tail]=t,e.tail=(e.tail+1)%pn(e)|0,e.count=e.count+1|0}function _f(e){if(e.count===0)throw new Error("Queue is empty");const t=V(e.head,e.contents);return e.head=(e.head+1)%pn(e)|0,e.count=e.count-1|0,t}function mf(e,t){return e.count===0?!1:(t.contents=_f(e),!0)}function pn(e){return e.contents.length}function pf(e,t){return(e.head+t)%pn(e)}function gf(e,t){const n=Zn(new Array(t),0,t,null);e.head<e.tail?Br(e.contents,e.head,n,0,e.count):(Br(e.contents,e.head,n,0,pn(e)-e.head),Br(e.contents,0,n,pn(e)-e.head,e.tail)),e.head=0,e.contents=n,e.tail=(e.count===pn(e)?0:e.count)|0}function wf(e){return U(()=>{let t=0;return du(()=>t<e.count,U(()=>Ve(ye(V(pf(e,t),e.contents)),U(()=>(t=t+1|0,Ke())))))})}const yf=1e4;class Sf{constructor(t,n){this.create=t,this.clean=n,this.items=wo(),this.itemOut=0,this.total=0}}function bf(e,t){return new Sf(e,t)}function Cf(e,t){if(e.total>yf)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,Mu(e.items)>0?yo(e.items):(e.total=e.total+1|0,e.create(t))}function vr(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),So(e.items,t)}class xf{constructor(t,n){this.create=t,this.clean=n,this.items=wo(),this.itemOut=0,this.total=0}}function hs(e,t){return new xf(e,t)}function Bt(e){if(e.total>1e3)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,Mu(e.items)>0?yo(e.items):(e.total=e.total+1|0,e.create())}function ce(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),So(e.items,t)}function Mf(e,t){const n=t.getShaderParameter(e,t.COMPILE_STATUS);console.log(xe("Shader compiled successfully"),n);const r=t.getShaderInfoLog(e);console.log(xe("Shader compiler log: "),r)}function Ef(e,t){const n=t.getProgramInfoLog(e);console.log(xe("getProgramInfoLog: "),n)}function si(e,t){t.compileShader(e),Mf(e,t)}function Eu(e,t,n){const r=n.createShader(35633);n.shaderSource(r,e),si(r,n);const s=n.createShader(35632);n.shaderSource(s,t),si(s,n);const o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,s),n.linkProgram(o),Ef(o,n),n.detachShader(o,r),n.detachShader(o,s),n.deleteShader(r),n.deleteShader(s),o}function Rf(e,t,n,r,s,o){const i=o.createTexture();return o.activeTexture(33984),o.bindTexture(3553,i),o.texParameteri(3553,10242,33071),o.texParameteri(3553,10243,33071),o.texParameteri(3553,10241,9728),o.texParameteri(3553,10240,9728),o.texImage2D(3553,0,n,e,t,0,r,s,Oa),i}function If(e,t){const n=(i,u)=>{e:for(;;){const c=i,l=u;if(!O(c)){const d=v(c)[1];t.texSubImage3D(35866,0,0,0,l,d.Width,d.Height,1,6408,5121,d.Pixels),i=B(c),u=l+1;continue e}break}},r=t.createTexture();t.activeTexture(33984),t.bindTexture(35866,r);let s;if(s=(gn(e)|0)>>>0,O(e))throw new Error("");{const i=v(e)[1];t.texStorage3D(35866,1,32856,i.Width,i.Height,s);const u=i;return t.texSubImage3D(35866,0,0,0,0,u.Width,u.Height,1,6408,5121,u.Pixels),n(B(e),1),t.texParameteri(35866,10242,10497),t.texParameteri(35866,10243,10497),t.texParameteri(35866,10241,9728),t.texParameteri(35866,10240,9728),[r,[i.Width,i.Height],new Map(iu((c,l)=>[l[0],c>>>0],e))]}}const Qn=bf(e=>e.createBuffer(),e=>{});function er(e,t){const n=Cf(Qn,t),r=Float32Array.from(e);return t.bindBuffer(34962,n),t.bufferData(34962,r,35044),t.bindBuffer(34962,Qe()),n}function vf(e,t,n){const r=n.createFramebuffer();return n.bindFramebuffer(e,r),n.drawBuffers(t),r}const bs=[6408,6408,5121],Cs=[33190,6402,5125];function oi(e,t,n,r,s,o,i){const u=[e,t],c=Rf(u[0],u[1],n,r,s,i);return i.framebufferTexture2D(36160,o,3553,c,0),c}const Tf=new Float32Array([0,1,0,0,1,1,1,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1]);class Ru extends k{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Z=r|0}}class Ae extends k{constructor(t,n){super(),this.X=t|0,this.Y=n|0}}function Or(){return ct("Imp.CommonModels.Point",[],Ae,()=>[["X",Le],["Y",Le]])}class $r extends k{constructor(t,n){super(),this.Width=t|0,this.Height=n|0}}class Df extends k{constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}function kf(){return ct("Imp.CommonModels.RectF",[],Df,()=>[["X",Mr],["Y",Mr],["Width",Mr],["Height",Mr]])}function Iu(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}class vu extends k{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Width=r|0,this.Height=s|0}}function Vf(){return ct("Imp.CommonModels.Rect",[],vu,()=>[["X",Le],["Y",Le],["Width",Le],["Height",Le]])}function ii(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}function Ff(e){return e*180/3.141592653589793}function ui(e){return ks(e,8)}class lr extends k{constructor(t,n){super(),this.Angle=t,this.Distance=n}}class Y extends k{constructor(t,n){super(),this.X=t,this.Y=n}}function bo(){return new lr(0,0)}function es(e,t){const n=t.X-e.X,r=t.Y-e.Y,s=(Ff(Math.atan2(r,n))+450)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return new lr(ks(s,8),ks(o,8))}function Pf(e){const t=3.141592653589793*(e.Angle/180),n=e.Distance*Math.sin(t),r=0-e.Distance*Math.cos(t);return new Y(Math.abs(n)<1e-13?0:n,Math.abs(r)<1e-13?0:r)}function Af(e){return new lr(e.Angle>315&&e.Angle<=360||e.Angle>=0&&e.Angle<45?0:e.Angle>=45&&e.Angle<=135?90:e.Angle>135&&e.Angle<225?180:270,e.Distance)}function Bf(e,t){return new Y(t.X+e.X,t.Y+e.Y)}function Of(e,t){return new Y(e.X*t,e.Y*t)}function Co(){return new Y(0,0)}function $f(){return hs(zf,e=>{xt(J(e)),xt(ge(e))})}const Tu=new Ni($f);function Lf(){return wo()}const Du=new Ni(Lf);class Hf extends k{constructor(t,n,r){super(),this.Texture=t,this.Width=n,this.Height=r}}class xo extends k{constructor(t,n,r,s,o,i,u){super(),this.Time=t,this.Resolution=n,this.Offset=r,this.VertexBuffer=s,this.TextureDetails=o,this.TextureLayer=i,this.ZRange=u}}class Nf{constructor(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.texture="",this.textureX=0,this.textureY=0,this.textureWidth=0,this.textureHeight=0,this.stateData=void 0}}function Uf(){return new Nf}class Gf extends k{constructor(t,n,r,s,o,i,u,c,l,d,f,h,_,g){super(),this.Key=t,this.Elements=n,this.X=r|0,this.Y=s|0,this.Z=o|0,this.MouseMove=i,this.MouseEnter=u,this.MouseLeave=c,this.MouseUp=l,this.Width=d|0,this.Height=f|0,this.Blur=h,this.Input=_,this.Resize=g}}class Mo extends k{constructor(t,n,r,s){super(),this.Key=t,this.Reuse=n,this.Create=r,this.ViewItems=s}}class Wf extends k{constructor(t,n,r){super(),this.Key=t,this.Func=n,this.ViewItems=r}}class Zt extends k{constructor(t,n,r,s){super(),this.Key=t,this.Prop=n,this.Compare=r,this.Build=s}}class A extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class Zf{constructor(){this.current=[],this.last=[],this.key="",this.hasSprites=!1,this.hasRenderers=!1,this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.mouseMove=void 0,this.mouseOver=!1,this.mouseEnter=void 0,this.mouseLeave=void 0,this.mouseUp=void 0,this.blur=void 0,this.isActive=!1,this.hasMouseEvents=!1,this.hasInputEvents=!1,this.hasContextEvents=!1,this.input=void 0,this.resize=void 0}}function zf(){return new Zf}class Eo{constructor(t,n){this.f=n,this.isStale=!0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){}"Imp.DisplayModels.RendererBase.OnDistory"(){}}class Yf extends k{constructor(t,n,r,s){super(),this.Key=t,this.Renderer=n,this.RenderView=r,this.ParentRender=s}}class Xf extends k{constructor(t,n,r){super(),this.Key=t,this.RenderView=n,this.Callback=r}}class wt extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["A","B","DPadUp","DPadDown","DPadLeft","DPadRight"]}}class qt extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseMove","MouseButton","SyntheticMouseButton","Key","ControllerThumbstick","ControllerButton","Reize"]}}class $n extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ControllerThumbstick","ControllerButton","Key"]}}class jf extends k{constructor(t,n,r,s,o,i,u,c,l,d,f){super(),this.Key=t,this.Hooks=n,this.CurrentHook=r|0,this.IsStale=s,this.RenderView=o,this.CurrentProp=i,this.Build=u,this.Removed=c,this.ParentComponent=l,this.ParentRender=d,this.Id=f}}class qn extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class Kf extends k{constructor(t){super(),this.Component=t}}class qf{constructor(t,n,r){this.currentComponent=t,this.hookIndex=n|0,this.currentComponent.Hooks[this.hookIndex]=r}}function Jf(e,t,n){return new qf(e,t,n)}class Qf extends k{constructor(t,n,r){super(),this.Time=t,this.Call=n,this.Component=r}}class xs extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Move","Up","SyntheticUp"]}}const ed=Tu.Value;function tr(e){const t=Bt(Tu.Value);return Md(t,e),t}function ku(){return hs(Uf,e=>{})}function td(e){return e.x}function nd(e,t){e.x=t|0}function rd(e){return e.y}function sd(e,t){e.y=t|0}function od(e){return e.z}function id(e,t){e.z=t|0}function ud(e){return e.width}function ld(e,t){e.width=t|0}function cd(e){return e.height}function ad(e,t){e.height=t|0}function fd(e){return e.texture}function dd(e,t){e.texture=t}function hd(e){return e.textureX}function _d(e,t){e.textureX=t|0}function md(e){return e.textureY}function pd(e,t){e.textureY=t|0}function gd(e){return e.textureWidth}function wd(e,t){e.textureWidth=t|0}function yd(e){return e.textureHeight}function Sd(e,t){e.textureHeight=t|0}function bd(e,t){e.stateData=t}function Cd(e){ce(ku(),e)}function xd(e){return e.key}function Md(e,t){e.key=t}function Us(e){return e.hasSprites}function cr(e,t){e.hasSprites=t}function Gs(e){return e.hasRenderers}function ar(e,t){e.hasRenderers=t}function Qt(e){return e.x}function Vu(e,t){e.x=t|0}function en(e){return e.y}function Fu(e,t){e.y=t|0}function sr(e){return e.z}function Pu(e,t){e.z=t|0}function Ed(e){return e.width}function Au(e,t){e.width=t|0}function Rd(e){return e.height}function Bu(e,t){e.height=t|0}function Ws(e){return e.mouseMove}function Ou(e,t){e.mouseMove=t}function li(e){return e.mouseOver}function ci(e,t){e.mouseOver=t}function Zs(e){return e.mouseEnter}function $u(e,t){e.mouseEnter=t}function zs(e){return e.mouseLeave}function Lu(e,t){e.mouseLeave=t}function Ys(e){return e.mouseUp}function Hu(e,t){e.mouseUp=t}function Nu(e){return e.blur}function Uu(e,t){e.blur=t}function J(e){return e.current}function ge(e){return e.last}function ts(e){return e.hasMouseEvents}function wr(e,t){e.hasMouseEvents=t}function Xs(e){return e.hasInputEvents}function Ro(e,t){e.hasInputEvents=t}function Gu(e){return e.input}function Wu(e,t){e.input=t}function Zu(e){return e.resize}function Id(e,t){e.resize=t}function vd(e){return e.hasContextEvents}function Td(e,t){e.hasContextEvents=t}function zu(e){const t=e.last;e.last=e.current,e.current=t}function Ln(e,t){const n=t?ge(e):J(e),r=n.length|0;for(let s=0;s<=r-1;s++){const o=n[s];if(o!=null){const i=o;switch(i.tag){case 0:{Ln(i.fields[0],!1);break}case 1:{Cd(i.fields[0]);break}case 3:{Ln(i.fields[0].RenderView,!1);break}case 4:{const u=i.fields[0];u.Removed=!0,Ln(u.RenderView,!1);break}default:Vd(i.fields[0].Renderer)}}}t||ce(ed,e)}function Dd(e){return e.isStale}function Yu(e,t){e.isStale=t}function kd(e,t){e.isStale&&e["Imp.DisplayModels.RendererBase.OnInit1E729EFC"](t),e["Imp.DisplayModels.RendererBase.OnRender1E729EFC"](t),e.isStale=!1}function Vd(e,t){Ln(e.f,!1),e["Imp.DisplayModels.RendererBase.OnDistory"]()}const Fd=Du.Value;function Pd(e){So(Du.Value,e)}function Tr(e){return e.currentComponent.Hooks[e.hookIndex]}function Ms(e,t){const n=t(e.currentComponent.Hooks[e.hookIndex]);e.currentComponent.Hooks[e.hookIndex]=n,e.currentComponent.IsStale=!0,Pd(e.currentComponent)}const Pe=hs(()=>[],e=>{xt(e)});class yr{constructor(){}}function Sr(e){return Bt(Pe)}class Ad extends yr{constructor(t,n,r,s,o,i,u,c,l,d,f,h,_){super(),this.key=t,this.x=n|0,this.y=r|0,this.z=s|0,this.width=o|0,this.height=i|0,this.mouseMove=u,this.mouseEnter=c,this.mouseLeave=l,this.mouseUp=d,this.blur=f,this.input=h,this.resize=_}}function ee(e,t,n,r,s,o,i,u,c,l,d,f,h){return new Ad(e,t,n,r,s,o,i,u,c,l,d,f,h)}function te(e,t){const n=Sr();return t(n),new Gf(e.key,n,e.x,e.y,e.z,e.mouseMove,e.mouseEnter,e.mouseLeave,e.mouseUp,e.width,e.height,e.blur,e.input,e.resize)}class Bd extends yr{constructor(t,n){super(),this.name=t,this.func=n}}function Od(e,t){return new Bd(e,t)}function $d(e,t){const n=Sr();return t(n),new Wf(e.name,e.func,n)}function Io(e,t,n,r,s,o,i,u,c,l,d){const f=Bt(ku());return nd(f,e),sd(f,t),id(f,n),ld(f,r),ad(f,s),dd(f,o),_d(f,i),pd(f,u),wd(f,l),Sd(f,c),bd(f,d!=null?xe(C(d)):void 0),f}let Es=0;function vo(e,t){let n,r,s,o,i,u,c;Vu(e,t.X),Fu(e,t.Y),Pu(e,t.Z),Au(e,t.Width),Bu(e,t.Height),Ou(e,t.MouseMove),$u(e,t.MouseEnter),Lu(e,t.MouseLeave),Hu(e,t.MouseUp),Uu(e,t.Blur),Wu(e,t.Input),wr(e,ts(e)||(n=Ws(e),n!=null)||(r=Zs(e),r!=null)||(s=zs(e),s!=null)||(o=Ys(e),o!=null)?!0:(i=Nu(e),i!=null)),Ro(e,Xs(e)?!0:(u=Gu(e),u!=null)),Id(e,t.Resize),Td(e,vd(e)?!0:(c=Zu(e),c!=null))}function Rs(e){Vu(e,0),Fu(e,0),Pu(e,0),Au(e,0),Bu(e,0),Ou(e,void 0),$u(e,void 0),Lu(e,void 0),Hu(e,void 0),Uu(e,void 0),wr(e,!1),Wu(e,void 0),Ro(e,!1)}function Dr(e,t){cr(e,Us(e)?!0:Us(t)),ar(e,Gs(e)?!0:Gs(t)),wr(e,ts(e)?!0:ts(t)),Ro(e,Xs(e)?!0:Xs(t))}function Xu(e,t,n,r,s,o){switch(r.tag){case 0:{const i=r.fields[0];let u,c,l,d=0;for(;l==null&&d<ge(n).length;){const f=(h=>{let _,g;if(h!=null){const p=h;p.tag===0&&xd(p.fields[0])===i.Key?(_=0,g=p.fields[0]):_=1}else _=1;switch(_){case 0:return g;default:return}})(ge(n)[d]);if(f!=null){const h=f;ge(n)[d]=void 0,l=h}d=d+1|0}c=l,u=c??tr(i.Key),vo(u,i),Lr(e,t,u,i.Elements,s,o),Dr(n,u),J(n).push(new qn(0,[u]));break}case 4:{const i=r.fields[0];let u,c,l,d=0;for(;l==null&&d<ge(n).length;){const f=(h=>{let _,g;if(h!=null){const p=h;p.tag===4&&p.fields[0].Key===i.Key?(_=0,g=p.fields[0]):_=1}else _=1;switch(_){case 0:return g;default:return}})(ge(n)[d]);if(f!=null){const h=f;ge(n)[d]=void 0,l=h}d=d+1|0}if(c=l,c!=null){const f=c;i.Compare(f.CurrentProp,i.Prop)||(f.IsStale=!0),f.IsStale&&(f.CurrentProp=i.Prop),u=f}else{Es=Es+1|0;const f=tr(i.Key);Rs(f),u=new jf(i.Key,[],0,!0,f,i.Prop,i.Build,!1,s,o,ls(Ki(Es)))}ju(t,u),Dr(n,u.RenderView),ar(n,!0),cr(n,!0),J(n).push(new qn(4,[u]));break}case 2:{const i=r.fields[0];let u,c,l,d=0;for(;l==null&&d<ge(n).length;){const f=(h=>{let _,g;if(h!=null){const p=h;p.tag===2&&p.fields[0].Key===i.Key?(_=0,g=p.fields[0]):_=1}else _=1;switch(_){case 0:return g;default:return}})(ge(n)[d]);if(f!=null){const h=f;ge(n)[d]=void 0,l=h}d=d+1|0}if(c=l,c!=null){const f=c;e&&(Yu(f.Renderer,!0),i.Reuse(f.Renderer)||(f.Renderer=i.Create(t,f.RenderView))),u=f}else{const f=tr(i.Key);Rs(f),u=new Yf(i.Key,i.Create(t,f),f,o)}Lr(e,t,u.RenderView,i.ViewItems,s,u),ar(u.RenderView,!0),Dr(n,u.RenderView),J(n).push(new qn(2,[u]));break}case 3:{const i=r.fields[0];let u,c,l,d=0;for(;l==null&&d<ge(n).length;){const f=(h=>{let _,g;if(h!=null){const p=h;p.tag===3&&p.fields[0].Key===i.Key?(_=0,g=p.fields[0]):_=1}else _=1;switch(_){case 0:return g;default:return}})(ge(n)[d]);if(f!=null){const h=f;ge(n)[d]=void 0,l=h}d=d+1|0}if(c=l,c!=null)u=c;else{const f=tr(i.Key);Rs(f),u=new Xf(i.Key,f,i.Func)}Lr(e,t,u.RenderView,i.ViewItems,s,o),Dr(n,u.RenderView),J(n).push(new qn(3,[u]));break}default:J(n).push(new qn(1,[r.fields[0]])),cr(n,!0)}}function ju(e,t){if(t.IsStale){t.IsStale=!1,t.CurrentHook=0;const n=t.Build(new Kf(t),t.CurrentProp);vo(t.RenderView,n),Lr(!0,e,t.RenderView,n.Elements,t.ParentComponent,t.ParentRender),(s=>{e:for(;;){const o=s;if(o!=null){const i=o;if(Dd(i.Renderer)===!1){Yu(i.Renderer,!0),s=i.ParentRender;continue e}}break}})(t.ParentRender)}}function Lr(e,t,n,r,s,o){zu(n),xt(J(n)),cr(n,!1),ar(n,!1);for(let i=0;i<=r.length-1;i++)Xu(e,t,n,r[i],s,o);ce(Pe,r),Ln(n,!0),xt(ge(n))}let Is;function Ld(e,t){const n=(r,s,o,i)=>{for(let u=0;u<=r.length-1;u++){const c=r[u];if(c!=null){const l=c;switch(l.tag){case 0:{const d=l.fields[0];Us(d)&&n(J(d),s+Qt(d),o+en(d),i+sr(d));break}case 3:{n(J(l.fields[0].RenderView),s,o,i);break}case 4:{const d=l.fields[0];n(J(d.RenderView),Qt(d.RenderView)+s,en(d.RenderView)+o,sr(d.RenderView)+i);break}case 2:break;default:t([s,o,i],l.fields[0])}}}};n(J(e),Qt(e),en(e),sr(e))}function Hn(e,t){let n;if(Qt(e)!==0||en(e)!==0||sr(e)!==0){const r=t;n=new xo(r.Time,r.Resolution,new Ru(t.Offset.X+Qt(e),t.Offset.Y+en(e),t.Offset.Z+sr(e)),r.VertexBuffer,r.TextureDetails,r.TextureLayer,r.ZRange)}else n=t;for(let r=0;r<=J(e).length-1;r++){const s=J(e)[r];if(s!=null){const o=s;switch(o.tag){case 0:{const i=o.fields[0];Gs(i)&&Hn(i,n);break}case 3:{const i=o.fields[0];Hn(i.RenderView,i.Callback(n));break}case 4:{Hn(o.fields[0].RenderView,n);break}case 1:break;default:kd(o.fields[0].Renderer,n)}}}}function Hd(e,t,n){zu(e),xt(J(e)),cr(e,!1),ar(e,!1),vo(e,n),Xu(!1,t,e,new A(0,[n]),void 0,void 0),Ln(e,!0),xt(ge(e))}let Hr=[],kr=[];const Ot=hf();class Nd extends ne{constructor(){super(),this.tag=0,this.fields=[]}cases(){return["Up"]}}function _s(e){let t;const n=e.Component.CurrentHook|0;return e.Component.CurrentHook=n+1|0,[n,(t=Fa(n,e.Component.Hooks),t!=null?xe(C(t)):void 0)]}function ai(e,t){let n;const r=_s(e),s=r[1];return Jf(e.Component,r[0],s!=null?C(s):(n=t(),e.Component.Hooks.push(n),n))}function Ud(e,t){_s(e)[1]!=null||(t(),Kt(Ot,new qt(2,[!0,e.Component.Id])),e.Component.Hooks.push(!0)),wr(e.Component.RenderView,!0)}function Gd(e){_s(e)[1]!=null||(Kt(Ot,new qt(6,[])),e.Component.Hooks.push(!0)),wr(e.Component.RenderView,!0)}function Wd(e,t,n){const r=_s(e),s=r[1];s!=null?oe(C(s),t)||(n(t),e.Component.Hooks[r[0]]=t):(n(t),e.Component.Hooks.push(t))}function Zd(e,t){Hr.push(new Qf(Fc(Kr(),e),t,void 0))}function zd(){let e;const t=Hr;Hr=kr,kr=t;const n=Kr();let r=N(kr);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=()=>{Ac(n,s.Time)>=0?s.Call():Hr.push(s)},i=s.Component;if(i!=null){if(e=i,!e.Removed){const u=i;o()}}else o()}}finally{K(r)}xt(kr)}function Yd(e,t,n){zd();const r=(u,c,l)=>{let d=!1;const f=(h,_,g,p)=>{for(let m=0;m<=_.length-1;m++){const S=_[m],x=(M,E)=>{let D,P,$,j,re;if(ts(E)){f(M,J(E),g+Qt(E),p+en(E));const Q=()=>new vu(g+Qt(E),p+en(E),Ed(E),Rd(E));switch(l.tag){case 1:{!d&&(D=Ys(E),D!=null)&&ii(Q(),u,c)&&(Is!=null&&C(Is)(new Ae(u,c)),(P=Ys(E),C(P))(new Ae(u,c)),d=!0,Is=Nu(E));break}case 2:{if(mc(l.fields[0],M)){const W=Q();Kt(Ot,new qt(1,[!0,W.X,W.Y])),d=!0}break}default:!d&&($=Ws(E),($!=null?!0:(j=Zs(E),j!=null))?!0:(re=zs(E),re!=null))&&(ii(Q(),u,c)?(li(E)||ue(W=>{W(new Ae(u,c)),ci(E,!0)},Bn(Zs(E))),ue(W=>{W(new Ae(u,c))},Bn(Ws(E)))):li(E)&&(ue(W=>{W(new Ae(u,c))},Bn(zs(E))),ci(E,!1)))}}};if(S!=null){const M=S;switch(M.tag){case 0:{x(h,M.fields[0]);break}case 4:{const E=M.fields[0];x(E.Id,E.RenderView);break}case 3:{f(h,J(M.fields[0].RenderView),g,p);break}case 2:{const E=M.fields[0];f(h,J(E.RenderView),g+Qt(E.RenderView),p+en(E.RenderView));break}}}}};f(ls(Ki(-1)),J(e),0,0)},s=u=>{let c=!1;const l=d=>{if(!c)for(let f=0;f<=d.length-1;f++){const h=d[f];if(h!=null){const _=h,g=p=>{l(J(p));const m=Gu(p);m!=null&&m(u)&&(c=!0)};switch(_.tag){case 4:{g(_.fields[0].RenderView);break}case 0:{g(_.fields[0]);break}case 3:{g(_.fields[0].RenderView);break}case 2:{g(_.fields[0].RenderView);break}}}}};l(J(e))},o=()=>{let u,c=Qe();if(u=[mf(Ot,new ae(()=>c,l=>{c=l})),c],u[0]){const l=u[1];switch(l.tag){case 1:{l.fields[0]&&r(l.fields[1],l.fields[2],new xs(1,[]));break}case 2:{l.fields[0]&&r(0,0,new xs(2,[l.fields[1]]));break}case 3:{s(new $n(2,[l.fields[0],l.fields[1]]));break}case 4:{s(new $n(0,[l.fields[0],l.fields[1]]));break}case 5:{s(new $n(1,[l.fields[0],l.fields[1]]));break}case 6:{const d=f=>{for(let h=0;h<=f.length-1;h++){const _=f[h];if(_!=null){const g=_,p=m=>{d(J(m));const S=Zu(m);S?.(n)};switch(g.tag){case 4:{p(g.fields[0].RenderView);break}case 0:{p(g.fields[0]);break}case 3:{p(g.fields[0].RenderView);break}case 2:{p(g.fields[0].RenderView);break}}}}};d(J(e));break}default:r(l.fields[0],l.fields[1],new xs(0,[]))}o()}};o();const i=()=>{let u,c=Qe();if(u=[cf(Fd,new ae(()=>c,l=>{c=l})),c],u[0]){const l=u[1];l.IsStale&&ju(t,l),i()}};i()}function fi(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return Xd(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function Xd(e){return Number(BigInt(e)/10000n)}function jd(e){return e/1e3}function Kd(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return fi(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let s=0,o=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,c=+r[4],l=+r[5];if(r[3]!=null&&(s=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:o=+r[8]*100;break;case 2:o=+r[8]*10;break;case 3:o=+r[8];break;case 4:o=+r[8]/10;break;case 5:o=+r[8]/100;break;case 6:o=+r[8]/1e3;break;case 7:o=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*fi(s,c,l,i,o)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function qd(e,t){try{return t.contents=Kd(e),!0}catch{return!1}}class Jd{constructor(){this.textureNames=new Set([])}}function Ku(e){return e.textureNames}class Qd{constructor(){}}class e0 extends Jd{constructor(t){super(),this.baseUrl=t}"Imp.Setup.DataManager.LoadTexture"(t,n){const r=this,s=document.createElement("img");s.onload=o=>{n(new fc(s,s.width>>>0,s.height>>>0))},s.src=`${r.baseUrl}/${t}`}"Imp.Setup.DataManager.LoadString"(t,n){const r=this;hc(ga(Jo,pa(Jo,()=>Ba(`${r.baseUrl}/${t}`,Be()).then(s=>s.text().then(o=>(n(o),Promise.resolve()))))))}}function t0(e){return new e0(e)}function n0(e,t,n,r,s,o){const i=[],u=yn(Ku(t)),c=()=>{if(i.length<gn(u)){const l=ho(i.length,u);t["Imp.Setup.DataManager.LoadTexture"](`${l}.png`,d=>{i.push([l,d]),c()})}else{const l=If(yn(i),e),d=l[1],f=new Hf(l[0],d[0],d[1]);let h,_;h=x=>{let M;switch(_!=null?(_[1],_[0]===x?M=0:M=1):M=1,M){case 0:{const E=_[1];return _[0],E}default:{let E,D=0;if(E=[so(l[2],x,new ae(()=>D,P=>{D=P})),D],E[0]){const P=E[1];return _=[x,P],P}else return}}};const g=er(Tf,e),p=Kr(),m=tr("Root");Hd(m,e,n);let S=s;o(x=>{oe(S,x)||(Kt(Ot,new qt(6,[])),S=x),ue(M=>{M()},Bn(r)),Hn(m,new xo(jd(Bc(Kr(),p)),x,new Ru(0,0,0),g,f,h,[0,1]))},x=>{Yd(m,e,S)})}};c()}class r0 extends Qd{constructor(t,n,r){super();let s,o,i;this.resolution=new $r(0,0),this.tick=()=>{},this.canvas=(s=document.createElement("canvas"),o=document.getElementById(t),o.appendChild(s),i=u=>{const c=o.clientWidth,l=o.clientHeight;this.resolution=new $r(~~c,~~l),s.width=c,s.height=l},i(),window.addEventListener("resize",u=>{i()}),s)}"Imp.Setup.Display.AttachView"(t,n,r){const s=this,o=new $r(~~s.canvas.width,~~s.canvas.height);n0(s.canvas.getContext("webgl2",xe({premultipliedAlpha:!1})),t,n,r,o,(i,u)=>{s.tick=()=>{u(),i(s.resolution)}})}"Imp.Setup.Display.AttachInputZ2D84AEB6"(t){const n=this;t({AttachKeyboard(){window.addEventListener("keydown",r=>{const s=di(n,r.code);s!=null&&Kt(Ot,new qt(3,[!0,s]))}),window.addEventListener("keyup",r=>{const s=di(n,r.code);s!=null&&Kt(Ot,new qt(3,[!1,s]))})},AttachMouse(){window.addEventListener("mousemove",r=>{Kt(Ot,new qt(0,[r.clientX,r.clientY]))}),window.addEventListener("mouseup",r=>{Kt(Ot,new qt(1,[!0,r.clientX,r.clientY]))})},AttachGamepad(){}})}"Imp.Setup.Display.Run"(){const t=this,n=()=>{window.requestAnimationFrame(r=>{t.tick(),n()})};n()}"Imp.Setup.Display.get_Fullscreen"(){return!1}"Imp.Setup.Display.set_Fullscreen"(t){}}function s0(e,t,n){return new r0(e,t,n)}function di(e,t){switch(t){case"KeyA":return 65;case"KeyB":return 66;case"KeyC":return 67;case"KeyD":return 68;case"KeyE":return 69;case"KeyF":return 70;case"KeyG":return 71;case"KeyH":return 72;case"KeyI":return 73;case"KeyJ":return 74;case"KeyK":return 75;case"KeyL":return 76;case"KeyM":return 77;case"KeyN":return 78;case"KeyO":return 79;case"KeyP":return 80;case"KeyQ":return 81;case"KeyR":return 82;case"KeyS":return 83;case"KeyT":return 84;case"KeyU":return 85;case"KeyV":return 86;case"KeyW":return 87;case"KeyX":return 88;case"KeyY":return 89;case"KeyZ":return 90;case"Digit0":return 48;case"Digit1":return 49;case"Digit2":return 50;case"Digit3":return 51;case"Digit4":return 52;case"Digit5":return 53;case"Digit6":return 54;case"Digit7":return 55;case"Digit8":return 56;case"Digit9":return 57;case"Space":return 32;case"ShiftLeft":return 340;case"ShiftRight":return 344;case"Backspace":return 259;case"Delete":return 261;case"Semicolon":return 59;case"ArrowLeft":return 263;case"ArrowRight":return 262;case"ArrowDown":return 264;case"ArrowUp":return 265;case"Backquote":return 96;case"Minus":return 45;case"Equal":return 61;case"BracketLeft":return 91;case"BracketRight":return 93;case"Backslash":return 92;case"Quote":return 39;case"Comma":return 44;case"Period":return 46;case"Slash":return 47;case"CapsLock":return 280;case"Tab":return 258;case"Enter":return 257;case"Escape":return 256;case"ControlLeft":return 341;case"ControlRight":return 345;case"AltLeft":return 342;case"AltRight":return 346;case"F11":return 300;default:{Nc(`Key: ${t}`);return}}}class qu extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Indestructible","Destructible","DestructibleSpawn"]}}function o0(){return ss("Client.Common.Models.Destructible",[],qu,()=>[[],[],[["Item",os(Yr(rn))]]])}class i0 extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Scenery","Pickup"]}}function u0(){return ss("Client.Common.Models.MapPointMode",[],i0,()=>[[],[]])}class l0 extends k{constructor(t,n,r,s,o){super(),this.Name=t,this.Destructible=n,this.Passable=r,this.Mode=s,this.ZIndex=o}}function c0(){return ct("Client.Common.Models.MapPointType",[],l0,()=>[["Name",rn],["Destructible",o0()],["Passable",zi],["Mode",u0()],["ZIndex",Yr(Le)]])}class a0 extends k{constructor(t){super(),this.Player=t|0}}function f0(){return ct("Client.Common.Models.Cauldron",[],a0,()=>[["Player",Le]])}class Ju extends k{constructor(t,n,r){super(),this.Player=t|0,this.Id=n|0,this.Open=r}}function d0(){return ct("Client.Common.Models.Gate",[],Ju,()=>[["Player",Le],["Id",Le],["Open",zi]])}class To extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PlayerMove","PlayerAction"]}}function h0(){return ss("Client.Common.Models.TriggerMode",[],To,()=>[[],[]])}class _0 extends k{constructor(t,n,r,s){super(),this.Target=t,this.Action=n,this.Player=r,this.Mode=s}}function m0(){return ct("Client.Common.Models.Trigger",[],_0,()=>[["Target",Yr(Le)],["Action",rn],["Player",Yr(Le)],["Mode",h0()]])}class Do extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Cauldron","Gate","Trigger","Pickup"]}}function p0(){return ss("Client.Common.Models.Interactive",[],Do,()=>[[["Item1",Or()],["Item2",f0()]],[["Item1",Or()],["Item2",d0()]],[["Item1",kf()],["Item2",m0()]],[["Item1",Or()],["Item2",rn]]])}class g0 extends k{constructor(t,n,r,s,o){super(),this.Width=t|0,this.Height=n|0,this.Points=r,this.PointTypes=s,this.Interactives=o}}function w0(){return ct("Client.Common.Models.Map",[],g0,()=>[["Width",Le],["Height",Le],["Points",Fn(Fn(Fn(rn)))],["PointTypes",Fn(c0())],["Interactives",Fn(p0())]])}function y0(){return Math.random()}function vs(e,t){if(t<e)throw new Error("minValue must be less than maxValue");return Math.floor(Math.random()*(t-e))+e}function S0(e){if(e==null)throw new Error("Buffer cannot be null");for(let t=0;t<e.length;t+=6){let n=Math.floor(Math.random()*281474976710656);const r=Math.floor(n/16777216);for(let s=0;s<6&&t+s<e.length;s++)s===3&&(n=r),e[t+s]=n&255,n>>>=8}}class b0{constructor(){}Next0(){return vs(0,2147483647)}Next1(t){return vs(0,t)}Next2(t,n){return vs(t,n)}NextDouble(){return y0()}NextBytes(t){S0(t)}}function C0(){return new b0}function x0(){return C0()}class I extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class Qu extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class el extends k{constructor(t,n){super(),this.Hash=t,this.Coders=n}}class M0{constructor(){this.cache=new Map([])}}function E0(){return new M0}function R0(e,t,n){let r,s=Qe();if(r=[so(e.cache,t,new ae(()=>s,o=>{s=o})),s],r[0])return r[1];{const o=n();return ac(e.cache,t,o),o}}const I0=E0();function hi(e){return e.slice(void 0,0+1).toLowerCase()+e.slice(1,e.length)}function v0(e,t){switch(e.tag){case 2:return Lc(hi(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return hi(t)}}const T0=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,_i=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,D0=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function k0(e){function t(r){return r.replace(_i,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(T0.test(n))return Yc(n,"{","}","(",")");if(_i.test(n))return t(n);if(D0.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function V0(e,t){try{return t.contents=k0(e),!0}catch{return!1}}function F0(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}var js;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(js||(js={}));function P0(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function mi(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function A0(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function B0(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function O0(e,t){if(t&js.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function tl(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||O0(o,t),!A0(n).test(i))return P0(s,n)}return null}function $0(e,t,n,r,s){const o=tl(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[u,c]=mi(!0,r);!n&&o.radix!==10&&i>=u&&i<=c&&(i=i<<32-r>>32-r);const[l,d]=mi(n,r);if(i>=l&&i<=d)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function Yn(e,t,n,r,s){try{return s.contents=$0(e,t,n,r),!0}catch{return!1}}function L0(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function H0(e,t,n,r,s){const o=tl(e,t,s);if(o!=null){const i=(l,d)=>{const f=Math.max(l.length,d.length);return l.padStart(f,"0")<=d.padStart(f,"0")},u=o.sign==="-",c=L0(n||o.radix!==10,o.radix,u);if(i(o.digits.toUpperCase(),c))return e=B0(o.radix)+o.digits,e=u?o.sign+e:e,wc(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function N0(e,t,n,r,s){try{return s.contents=H0(e,t,n,r),!0}catch{return!1}}function nl(e,t){U0(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function U0(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function G0(){return nl(-621355968e5,0)}function W0(e){const[t,n]=Ji(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return nl(t.getTime(),r)}function Z0(e,t){try{return t.contents=W0(e),!0}catch{return!1}}class rl{constructor(t){this.k=t}}function Ge(e){return new rl(e)}function F(e){return e.k}class H extends rl{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function We(e,t,n,r){return new H(e,t,n,r)}function Z(e){return e.left}function G(e){return e.right}function An(e){return e.h}function sl(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=C(n);if(s instanceof H){const o=s;e=Z(o),t=sl(G(o),r+1);continue e}else return r+1|0}else return r|0}}function z0(e){return sl(e,0)}function ot(e,t,n){let r,s,o;const i=e;if(i!=null){const d=C(i);o=d instanceof H?(r=d,An(r)):1}else o=0;let u;const c=n;if(c!=null){const d=C(c);u=d instanceof H?(s=d,An(s)):1}else u=0;const l=(o<u?u:o)|0;return l===0?Ge(t):We(t,e,n,l+1)}function pi(e,t,n){let r,s,o,i,u,c,l,d,f;const h=e;if(h!=null){const p=C(h);f=p instanceof H?(r=p,An(r)):1}else f=0;let _;const g=n;if(g!=null){const p=C(g);_=p instanceof H?(s=p,An(s)):1}else _=0;if(_>f+2){const p=C(n);if(p instanceof H){const m=p;if(o=Z(m),(o!=null?(i=C(o),i instanceof H?(u=i,An(u)):1):0)>f+1){const S=C(Z(m));if(S instanceof H){const x=S;return ot(ot(e,t,Z(x)),F(x),ot(G(x),F(m),G(m)))}else throw new Error("internal error: Set.rebalance")}else return ot(ot(e,t,Z(m)),F(m),G(m))}else throw new Error("internal error: Set.rebalance")}else if(f>_+2){const p=C(e);if(p instanceof H){const m=p;if(c=G(m),(c!=null?(l=C(c),l instanceof H?(d=l,An(d)):1):0)>_+1){const S=C(G(m));if(S instanceof H){const x=S;return ot(ot(Z(m),F(m),Z(x)),F(x),ot(G(x),t,n))}else throw new Error("internal error: Set.rebalance")}else return ot(Z(m),F(m),ot(G(m),t,n))}else throw new Error("internal error: Set.rebalance")}else return ot(e,t,n)}function fr(e,t,n){if(n!=null){const r=C(n),s=e.Compare(t,F(r))|0;if(r instanceof H){const o=r;return s<0?pi(fr(e,t,Z(o)),F(o),G(o)):s===0?n:pi(Z(o),F(o),fr(e,t,G(o)))}else{const o=e.Compare(t,F(r))|0;return o<0?We(t,void 0,n,2):o===0?n:We(t,n,void 0,2)}}else return Ge(t)}function ol(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=C(o),u=r.Compare(s,F(i))|0;if(i instanceof H){const c=i;if(u<0){e=r,t=s,n=Z(c);continue e}else{if(u===0)return!0;e=r,t=s,n=G(c);continue e}}else return u===0}else return!1}}function il(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=C(r);if(s instanceof H){const o=s;il(n,Z(o)),n(F(o)),e=n,t=G(o);continue e}else n(F(s))}break}}class Y0 extends k{constructor(t,n){super(),this.stack=t,this.started=n}}function ul(e){e:for(;;){const t=e;if(O(t))return Be();{const n=v(t),r=B(t);if(n!=null){const s=C(n);if(s instanceof H){const o=s;e=q([Z(o),Ge(F(o)),G(o)],r);continue e}else return t}else{e=r;continue e}}}}function gi(e){return new Y0(ul(He(e)),!1)}function X0(){throw new Error("Enumeration not started")}function j0(){throw new Error("Enumeration already started")}function wi(e){if(e.started){const t=e.stack;if(O(t))return j0();if(v(t)!=null){const n=C(v(t));return F(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return X0()}function K0(e){if(e.started){const t=e.stack;if(O(t))return!1;if(v(t)!=null){if(C(v(t))instanceof H)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=ul(B(t)),!O(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!O(e.stack)}function yi(e){let t=gi(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return wi(t)},"System.Collections.IEnumerator.get_Current"(){return wi(t)},"System.Collections.IEnumerator.MoveNext"(){return K0(t)},"System.Collections.IEnumerator.Reset"(){t=gi(e)},Dispose(){}}}function q0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(O(s))return O(o)?0:-1;if(O(o))return 1;if(v(o)!=null)if(v(s)!=null){const i=C(v(s)),u=C(v(o));if(i instanceof H){const c=i;if(Z(c)==null)if(u instanceof H){const l=u;if(Z(l)==null){const d=r.Compare(F(c),F(l))|0;if(d!==0)return d|0;e=r,t=St(G(c),B(s)),n=St(G(l),B(o));continue e}else{let d,f,h,_,g;switch(O(s)?O(o)?d=2:v(o)!=null?(d=1,_=B(o),g=C(v(o))):d=2:v(s)!=null?(d=0,f=B(s),h=C(v(s))):O(o)?d=2:v(o)!=null?(d=1,_=B(o),g=C(v(o))):d=2,d){case 0:if(h instanceof H){const p=h;e=r,t=q([Z(p),We(F(p),void 0,G(p),0)],f),n=o;continue e}else{e=r,t=q([void 0,Ge(F(h))],f),n=o;continue e}case 1:if(g instanceof H){const p=g;e=r,t=s,n=q([Z(p),We(F(p),void 0,G(p),0)],_);continue e}else{e=r,t=s,n=q([void 0,Ge(F(g))],_);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(F(c),F(u))|0;if(l!==0)return l|0;e=r,t=St(G(c),B(s)),n=St(void 0,B(o));continue e}else{let l,d,f,h,_;switch(O(s)?O(o)?l=2:v(o)!=null?(l=1,h=B(o),_=C(v(o))):l=2:v(s)!=null?(l=0,d=B(s),f=C(v(s))):O(o)?l=2:v(o)!=null?(l=1,h=B(o),_=C(v(o))):l=2,l){case 0:if(f instanceof H){const g=f;e=r,t=q([Z(g),We(F(g),void 0,G(g),0)],d),n=o;continue e}else{e=r,t=q([void 0,Ge(F(f))],d),n=o;continue e}case 1:if(_ instanceof H){const g=_;e=r,t=s,n=q([Z(g),We(F(g),void 0,G(g),0)],h);continue e}else{e=r,t=s,n=q([void 0,Ge(F(_))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof H){const c=u;if(Z(c)==null){const l=r.Compare(F(i),F(c))|0;if(l!==0)return l|0;e=r,t=St(void 0,B(s)),n=St(G(c),B(o));continue e}else{let l,d,f,h,_;switch(O(s)?O(o)?l=2:v(o)!=null?(l=1,h=B(o),_=C(v(o))):l=2:v(s)!=null?(l=0,d=B(s),f=C(v(s))):O(o)?l=2:v(o)!=null?(l=1,h=B(o),_=C(v(o))):l=2,l){case 0:if(f instanceof H){const g=f;e=r,t=q([Z(g),We(F(g),void 0,G(g),0)],d),n=o;continue e}else{e=r,t=q([void 0,Ge(F(f))],d),n=o;continue e}case 1:if(_ instanceof H){const g=_;e=r,t=s,n=q([Z(g),We(F(g),void 0,G(g),0)],h);continue e}else{e=r,t=s,n=q([void 0,Ge(F(_))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(F(i),F(u))|0;if(c!==0)return c|0;e=r,t=B(s),n=B(o);continue e}}else{C(v(o));let i,u,c,l,d;switch(O(s)?O(o)?i=2:v(o)!=null?(i=1,l=B(o),d=C(v(o))):i=2:v(s)!=null?(i=0,u=B(s),c=C(v(s))):O(o)?i=2:v(o)!=null?(i=1,l=B(o),d=C(v(o))):i=2,i){case 0:if(c instanceof H){const f=c;e=r,t=q([Z(f),We(F(f),void 0,G(f),0)],u),n=o;continue e}else{e=r,t=q([void 0,Ge(F(c))],u),n=o;continue e}case 1:if(d instanceof H){const f=d;e=r,t=s,n=q([Z(f),We(F(f),void 0,G(f),0)],l);continue e}else{e=r,t=s,n=q([void 0,Ge(F(d))],l);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(v(s)!=null){C(v(s));let i,u,c,l,d;switch(O(s)?O(o)?i=2:v(o)!=null?(i=1,l=B(o),d=C(v(o))):i=2:v(s)!=null?(i=0,u=B(s),c=C(v(s))):O(o)?i=2:v(o)!=null?(i=1,l=B(o),d=C(v(o))):i=2,i){case 0:if(c instanceof H){const f=c;e=r,t=q([Z(f),We(F(f),void 0,G(f),0)],u),n=o;continue e}else{e=r,t=q([void 0,Ge(F(c))],u),n=o;continue e}case 1:if(d instanceof H){const f=d;e=r,t=s,n=q([Z(f),We(F(f),void 0,G(f),0)],l);continue e}else{e=r,t=s,n=q([void 0,Ge(F(d))],l);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=B(s),n=B(o);continue e}}}function Si(e,t,n){return t==null?n==null?0:-1:n==null?1:q0(e,He(t),He(n))|0}function J0(e,t,n){let r=n;il(s=>{nn(t,r,s),r=r+1|0},e)}function Q0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){e=r,t=fr(r,o["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=o;continue e}else return s}}function eh(e,t){return as((n,r)=>fr(e,r,n),void 0,t)}function th(e,t){return Mt((n,r)=>fr(e,r,n),void 0,t)}function nh(e,t){if(Je(t))return eh(e,t);if(t instanceof Me)return th(e,t);{const n=N(t);try{return Q0(e,void 0,n)}finally{K(n)}}}class ko{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return oh(this)|0}Equals(t){let n;const r=this;return t instanceof ko&&(n=t,Si(Nr(r),yt(r),yt(n))===0)}toString(){return"set ["+cs("; ",At(n=>lt(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return Si(Nr(n),yt(n),yt(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return ol(Nr(n),t,yt(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){J0(yt(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Ts(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Ts(this)|0}GetEnumerator(){return yi(yt(this))}[Symbol.iterator](){return Gn(N(this))}"System.Collections.IEnumerable.GetEnumerator"(){return yi(yt(this))}get size(){return Ts(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return sh(this,t)}keys(){return At(n=>n,this)}values(){return At(n=>n,this)}entries(){return At(n=>[n,n],this)}forEach(t,n){const r=this;ue(s=>{t(s,s,r)},r)}}function rh(e,t){return new ko(e,t)}function Nr(e){return e.comparer}function yt(e){return e.tree}function Ts(e){return z0(yt(e))}function sh(e,t){return ol(Nr(e),t,yt(e))}function oh(e){let t=0;const n=N(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+Lt(r)+631|0}}finally{K(n)}return Math.abs(t)|0}function ih(e,t){return rh(t,nh(t,e))}function Jn(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function uh(e,t){const n=t.tag===2?Jn(t.fields[0],t.fields[1],!0):t.tag===1?Jn(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?Jn(t.fields[0],t.fields[1],!0):t.tag===4?Jn(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+cs(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:Jn(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function ll(e,t,n){const r=t(e,n);if(r.tag===1){const s=r.fields[0];return new y(1,[uh(s[0],s[1])])}else return new y(0,[r.fields[0]])}function lh(e,t){try{return ll("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new y(1,["Given an invalid JSON: "+n.message]);throw n}}function cl(e,t){const n=lh(e,t);if(n.tag===1)throw new Error(n.fields[0]);return n.fields[0]}function al(e,t){return typeof t=="string"?new y(0,[t]):new y(1,[[e,new I(0,["a string",t])]])}function ch(e,t){if(typeof t=="string"){const n=t;return n.length===1?new y(0,[n[0]]):new y(1,[[e,new I(0,["a single character string",t])]])}else return new y(1,[[e,new I(0,["a char",t])]])}function ah(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[V0(t,new ae(()=>r,s=>{r=s})),r],n[0]?new y(0,[n[1]]):new y(1,[[e,new I(0,["a guid",t])]])}else return new y(1,[[e,new I(0,["a guid",t])]])}function fh(e,t){return t==null?new y(0,[void 0]):new y(1,[[e,new I(0,["null",t])]])}const bi=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-128<=s&&s<=127?new y(0,[(s+128&255)-128]):new y(1,[[n,new I(1,["a sbyte",s,"Value was either too large or too small for a sbyte"])]]):new y(1,[[n,new I(1,["a sbyte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Yn(r,511,!1,8,new ae(()=>o,i=>{o=i|0})),o],s[0]?new y(0,[s[1]]):new y(1,[[n,new I(0,["a sbyte",r])]])}else return new y(1,[[n,new I(0,["a sbyte",r])]])},Ci=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=255?new y(0,[s&255]):new y(1,[[n,new I(1,["a byte",s,"Value was either too large or too small for a byte"])]]):new y(1,[[n,new I(1,["a byte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Yn(r,511,!0,8,new ae(()=>o,i=>{o=i})),o],s[0]?new y(0,[s[1]]):new y(1,[[n,new I(0,["a byte",r])]])}else return new y(1,[[n,new I(0,["a byte",r])]])},xi=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-32768<=s&&s<=32767?new y(0,[(s+32768&65535)-32768]):new y(1,[[n,new I(1,["an int16",s,"Value was either too large or too small for an int16"])]]):new y(1,[[n,new I(1,["an int16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Yn(r,511,!1,16,new ae(()=>o,i=>{o=i|0})),o],s[0]?new y(0,[s[1]]):new y(1,[[n,new I(0,["an int16",r])]])}else return new y(1,[[n,new I(0,["an int16",r])]])},Mi=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=65535?new y(0,[s&65535]):new y(1,[[n,new I(1,["an uint16",s,"Value was either too large or too small for an uint16"])]]):new y(1,[[n,new I(1,["an uint16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Yn(r,511,!0,16,new ae(()=>o,i=>{o=i})),o],s[0]?new y(0,[s[1]]):new y(1,[[n,new I(0,["an uint16",r])]])}else return new y(1,[[n,new I(0,["an uint16",r])]])},Ei=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-2147483648<=s&&s<=2147483647?new y(0,[~~s]):new y(1,[[n,new I(1,["an int",s,"Value was either too large or too small for an int"])]]):new y(1,[[n,new I(1,["an int",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Yn(r,511,!1,32,new ae(()=>o,i=>{o=i|0})),o],s[0]?new y(0,[s[1]]):new y(1,[[n,new I(0,["an int",r])]])}else return new y(1,[[n,new I(0,["an int",r])]])},Ri=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=4294967295?new y(0,[s>>>0]):new y(1,[[n,new I(1,["an uint32",s,"Value was either too large or too small for an uint32"])]]):new y(1,[[n,new I(1,["an uint32",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[Yn(r,511,!0,32,new ae(()=>o,i=>{o=i})),o],s[0]?new y(0,[s[1]]):new y(1,[[n,new I(0,["an uint32",r])]])}else return new y(1,[[n,new I(0,["an uint32",r])]])},dh=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?Go(-9223372036854775808n)<=s&&s<=Go(9223372036854775807n)?new y(0,[ls(gc(s))]):new y(1,[[n,new I(1,["an int64",s,"Value was either too large or too small for an int64"])]]):new y(1,[[n,new I(1,["an int64",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0n;return s=[N0(r,511,!1,64,new ae(()=>o,i=>{o=i})),o],s[0]?new y(0,[s[1]]):new y(1,[[n,new I(0,["an int64",r])]])}else return new y(1,[[n,new I(0,["an int64",r])]])};function hh(e,t){return typeof t=="boolean"?new y(0,[t]):new y(1,[[e,new I(0,["a boolean",t])]])}function _h(e,t){return typeof t=="number"?new y(0,[t]):new y(1,[[e,new I(0,["a float",t])]])}function mh(e,t){return typeof t=="number"?new y(0,[t]):new y(1,[[e,new I(0,["a float32",t])]])}function ph(e,t){if(typeof t=="string"){let n,r=vc();return n=[Dc(t,new ae(()=>r,s=>{r=s})),r],n[0]?new y(0,[kc(n[1])]):new y(1,[[e,new I(0,["a datetime",t])]])}else return new y(1,[[e,new I(0,["a datetime",t])]])}function gh(e,t){if(typeof t=="string"){let n,r=G0();return n=[Z0(t,new ae(()=>r,s=>{r=s})),r],n[0]?new y(0,[n[1]]):new y(1,[[e,new I(0,["a datetimeoffset",t])]])}else return new y(1,[[e,new I(0,["a datetime",t])]])}function wh(e,t){if(typeof t=="string"){let n,r=0;return n=[qd(t,new ae(()=>r,s=>{r=s})),r],n[0]?new y(0,[n[1]]):new y(1,[[e,new I(0,["a timespan",t])]])}else return new y(1,[[e,new I(0,["a timespan",t])]])}function Ii(e,t,n,r){let s;const o=n+".["+Jt(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(o,V(e,i)):new y(1,[[o,new I(5,["a longer array. Need index `"+Jt(e)+"` but there are only `"+(s=i.length,Jt(s))+"` entries",r])]])}else return new y(1,[[o,new I(0,["an array",r])]])}function yh(e,t,n){return n==null?new y(0,[void 0]):Ht(xe,e(t,n))}function vi(e,t,n){if(Array.isArray(n)){let r=-1;return Ht(co,as((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+Jt(r)+"]",o);return i.tag===0?new y(0,[St(i.fields[0],s.fields[0])]):new y(1,[i.fields[0]])}else return s},new y(0,[Be()]),n))}else return new y(1,[[t,new I(0,["a list",n])]])}function Sh(e,t,n){if(Array.isArray(n)){let r=-1;return Ht(Pa,as((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+Jt(r)+"]",o);return i.tag===0?new y(0,[Ve([i.fields[0]],s.fields[0])]):new y(1,[i.fields[0]])}else return s},new y(0,[[]]),n))}else return new y(1,[[t,new I(0,["a seq",n])]])}function Ti(e,t,n){if(Array.isArray(n)){let r=-1;const s=n;return as((o,i)=>{if(r=r+1|0,o.tag===0){const u=o.fields[0],c=e(t+".["+Jt(r)+"]",i);return c.tag===0?(nn(u,r,c.fields[0]),new y(0,[u])):new y(1,[c.fields[0]])}else return o},new y(0,[Zn(new Array(s.length),0,s.length,null)]),s)}else return new y(1,[[t,new I(0,["an array",n])]])}function bh(e,t,n){return((s,o)=>{e:for(;;){const i=s,u=o;if(O(i))return new y(1,[[t,new I(7,[u])]]);{const c=ll(t,we(v(i)),n);if(c.tag===1){s=B(i),o=fo(u,He(c.fields[0]));continue e}else return new y(0,[c.fields[0]])}}})(e,Be())}function Ch(e,t,n){return new y(0,[e])}function Di(e,t,n,r){const s=t(n,r);return s.tag===0?e(s.fields[0],n,r):new y(1,[s.fields[0]])}function xh(e,t,n,r){const s=t(n,r);return s.tag===1?new y(1,[s.fields[0]]):new y(0,[e(s.fields[0])])}function Mh(e,t){let n;const r=e;return n=s=>o=>Ii(0,r,s,o),s=>o=>Di(Fl(i=>{let u;const c=t;return u=l=>d=>Ii(1,c,l,d),l=>d=>Di((f,h,_)=>Ch([i,f]),we(u),l,d)}),we(n),s,o)}function Eh(e){return rf(e,{Compare:Ct})}function Rh(e){return ih(e,{Compare:Ct})}function Ih(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?ea((r,s)=>{const o=r[0];return s.tag===0?Ht(i=>St(i,s.fields[0]),r[1](t+"."+o)(n[o])):s},e,new y(0,[Be()])):new y(1,[[t,new I(0,["an object",n])]])}function vh(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?hu((s,o)=>{if(s.tag===0){const i=e(n,o);if(i.tag===0){const u=t(n+"."+o,r[o]);return u.tag===0?new y(0,[St([i.fields[0],u.fields[0]],s.fields[0])]):new y(1,[u.fields[0]])}else return new y(1,[i.fields[0]])}else return s},new y(0,[Be()]),Object.keys(r)):new y(1,[[n,new I(0,["an object",r])]])}function fl(e,t,n,r){let s;const o=t.length+e|0;if(o!==r.length)return new y(1,[[n,new I(6,[(s=r.length|0,Ps(qr("Expected array of length %i but got %i"))(o)(s))])]]);{let i=new y(0,[Be()]);for(let u=e;u<=r.length-1;u++)if(i.tag===0){const c=i.fields[0],l=Ps(qr("%s[%i]"))(n)(u),d=V(u-e,t),f=V(u,r);i=Ht(h=>St(h,c),d(l)(f))}return Ht(co,i)}}function ki(e,t,n,r,s,o){const i=su(u=>ro(u)===r,Ql(n));if(i!=null){const u=i,c=lo(l=>it(e,t,!1,l[1]),rc(u));return Ht(l=>sc(u,$t(l)),c.length===0&&o.length<=1?new y(0,[Be()]):fl(1,c,s,o))}else return new y(1,[[s,new I(6,["Cannot find case "+r+" in "+le(n)])]])}function Vi(e,t,n,r){let s;const o=new ae(Qe());let i;const u=le(r);i=u===""?e:Su(u,o,e);let c;if(nc(r)){const l=lo(d=>[v0(t,ro(d)),it(i,t,!1,d[1])],Xr(r));c=d=>f=>Ht(h=>oc(r,$t(h)),Ih(l,d,f))}else if(tc(r))c=l=>d=>{if(typeof d=="string")return ki(i,t,r,d,l,[]);if(Array.isArray(d)){const f=d;return ha(h=>ki(i,t,r,h,l,f),al(l+"[0]",V(0,f)))}else return new y(1,[[l,new I(0,["a string or array",d])]])};else if(n)c=l=>d=>new y(1,[[l,new I(2,["an extra coder for "+le(r),d])]]);else throw new Error((s=le(r),Ps(qr(`Cannot generate auto decoder for %s. Please pass an extra decoder.

Documentation available at: https://thoth-org.github.io/Thoth.Json/documentation/auto/extra-coders.html#ready-to-use-extra-coders`))(s)));return o.contents=c,c}function it(e,t,n,r){let s,o,i,u;const c=le(r),l=bu(c,e);if(l==null)if(Xl(r)){const d=it(e,t,!1,is(r));return f=>h=>Ti(we(d),f,h)}else if(Yi(r))switch(le(ql(r))){case"System.SByte":return f=>h=>{const _=r,g=f,p=h,m=bi(g)(p);if(m.tag===1)return new y(1,[m.fields[0]]);{const S=m.fields[0]|0;return Dn(S,vn(_),{Equals:(x,M)=>x===M,GetHashCode:Vt})?new y(0,[Tn(_,S.toString())]):new y(1,[[g,new I(1,[le(_),p,"Unkown value provided for the enum"])]])}};case"System.Byte":return f=>h=>{const _=r,g=f,p=h,m=Ci(g)(p);if(m.tag===1)return new y(1,[m.fields[0]]);{const S=m.fields[0];return Dn(S,vn(_),{Equals:(x,M)=>x===M,GetHashCode:Vt})?new y(0,[Tn(_,S.toString())]):new y(1,[[g,new I(1,[le(_),p,"Unkown value provided for the enum"])]])}};case"System.Int16":return f=>h=>{const _=r,g=f,p=h,m=xi(g)(p);if(m.tag===1)return new y(1,[m.fields[0]]);{const S=m.fields[0]|0;return Dn(S,vn(_),{Equals:(x,M)=>x===M,GetHashCode:Vt})?new y(0,[Tn(_,Rl(S))]):new y(1,[[g,new I(1,[le(_),p,"Unkown value provided for the enum"])]])}};case"System.UInt16":return f=>h=>{const _=r,g=f,p=h,m=Mi(g)(p);if(m.tag===1)return new y(1,[m.fields[0]]);{const S=m.fields[0];return Dn(S,vn(_),{Equals:(x,M)=>x===M,GetHashCode:Vt})?new y(0,[Tn(_,S.toString())]):new y(1,[[g,new I(1,[le(_),p,"Unkown value provided for the enum"])]])}};case"System.Int32":return f=>h=>{const _=r,g=f,p=h,m=Ei(g)(p);if(m.tag===1)return new y(1,[m.fields[0]]);{const S=m.fields[0]|0;return Dn(S,vn(_),{Equals:(x,M)=>x===M,GetHashCode:Vt})?new y(0,[Tn(_,Jt(S))]):new y(1,[[g,new I(1,[le(_),p,"Unkown value provided for the enum"])]])}};case"System.UInt32":return f=>h=>{const _=r,g=f,p=h,m=Ri(g)(p);if(m.tag===1)return new y(1,[m.fields[0]]);{const S=m.fields[0];return Dn(S,vn(_),{Equals:(x,M)=>x===M,GetHashCode:Vt})?new y(0,[Tn(_,S.toString())]):new y(1,[[g,new I(1,[le(_),p,"Unkown value provided for the enum"])]])}};default:{const f=le(r),h=Uc(qr(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the following enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(f);return _=>h(_)}}else if(jl(r))if(Xi(r)){const d=lo(f=>it(e,t,!1,f),ec(r));return f=>h=>Array.isArray(h)?Ht(_=>ic($t(_)),fl(0,d,f,h)):new y(1,[[f,new I(0,["an array",h])]])}else switch(le(Kl(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return s=it(e,t,!0,V(0,Pt(r))),f=>h=>yh(we(s),f,h);case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return o=it(e,t,!1,V(0,Pt(r))),f=>h=>vi(we(o),f,h);case"System.Collections.Generic.IEnumerable`1[System.Object]":return i=it(e,t,!1,V(0,Pt(r))),f=>h=>Sh(we(i),f,h);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const f=it(e,t,!1,V(0,Pt(r))),h=it(e,t,!1,V(1,Pt(r)));let _;const g=fs([p=>m=>vh(we(f),we(h),p,m),(u=Mh(we(f),we(h)),p=>m=>vi(we(u),p,m))]);return _=p=>m=>bh(g,p,m),p=>m=>xh(Eh,we(_),p,m)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const f=it(e,t,!1,V(0,Pt(r)));return h=>_=>{const g=Ti(we(f),h,_);return g.tag===0?new y(0,[Rh(g.fields[0])]):new y(1,[g.fields[0]])}}default:return Vi(e,t,n,r)}else switch(c){case"System.Boolean":return d=>f=>hh(d,f);case"Microsoft.FSharp.Core.Unit":return d=>f=>fh(d,f);case"System.String":return d=>f=>al(d,f);case"System.Char":return d=>f=>ch(d,f);case"System.SByte":return bi;case"System.Byte":return Ci;case"System.Int16":return xi;case"System.UInt16":return Mi;case"System.Int32":return Ei;case"System.UInt32":return Ri;case"System.Double":return d=>f=>_h(d,f);case"System.Single":return d=>f=>mh(d,f);case"System.DateTime":return d=>f=>ph(d,f);case"System.DateTimeOffset":return d=>f=>gh(d,f);case"System.TimeSpan":return d=>f=>wh(d,f);case"System.Guid":return d=>f=>ah(d,f);case"System.Object":return d=>f=>new y(0,[f]);default:return Vi(e,t,n,r)}else{const d=l;return f=>h=>d.contents(f)(h)}}function Th(e){return e!=null?nf((t,n)=>new ae(n[1]),e.Coders):xu({Compare:rs})}function dl(e,t,n){let r,s;const o=w(t,new Qu(0,[]));return R0(I0,(r=(s=le(e),lt(o)+s),w(ji(i=>i.Hash,n),"")+r),()=>it(Th(n),o,!1,e))}function Dh(e){return String(e)}const kh=new el("",xu({Compare:rs})),hl=new Qu(1,[]),_l=new el((()=>F0())(),Su("System.Int64",[Dh,dh],kh.Coders));function Vh(e,t,n,r){const s=Ct(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const o=s>0;return i=>{const u=Ct(i,t)|0;return o&&u<=0||!o&&u>=0?[i,r(i,e)]:void 0}}function Fh(e,t,n,r,s){const o=Vh(t,n,r,s);return U(()=>au(o,e))}function dr(e,t,n){return Fh(e,t,n,0,(r,s)=>r+s)}class Ph{constructor(){this.defaultFont="Font Small",this.sprites=new Map([])}}function Ah(){return new Ph}function Bh(e){return e.sprites}function Vo(e,t){let n,r=Qe();if(n=[so(e.sprites,t,new ae(()=>r,s=>{r=s})),r],n[0])return n[1];throw new Error(`Can't find name ${t}`)}function Oh(e){return e.defaultFont}function bt(e,t,n,r){let s,o;const i=V(n-1,Vo(e,t).Frames),u=Bt(Pe),c=i.Layers.length-1|0;for(let l=0;l<=c;l++){const d=V(l,i.Layers);u.push(new A(1,[(s=d,o=s,Io(r[0]+o.Offset.X,r[1]+o.Offset.Y,0,s.Rect.Width,s.Rect.Height,o.Texture,o.Rect.X,o.Rect.Y,o.Rect.Height,o.Rect.Width))]))}return u}function Fi(e,t,n,r,s){return o=>{let i,u,c,l,d,f,h;const _=w(n,Oh(e)),g=w(r,0)|0,p=w(s,0)|0;let m=0;return te((i=void 0,u=void 0,c=void 0,l=void 0,d=void 0,f=void 0,h=void 0,ee(w(t,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),i??void 0,u??void 0,c??void 0,l??void 0,d??void 0,f??void 0,h??void 0)),S=>{ue(x=>{let M,E,D,P,$,j,re,Q,W;(M=x,M===" "?(m=m+4|0,z=>{}):(E=M==="-"?"Minus":M===":"?void 0:M.toUpperCase(),E!=null?(D=V(1-1,Vo(e,`${_}-${E}`).Frames),P=($=(j=D,re=g+m|0,Q=Bt(Pe),W=j.Layers.length-1|0,(()=>{let z,L;for(let de=0;de<=W;de++){const me=V(de,j.Layers);Q.push(new A(1,[(z=me,L=z,Io(re+L.Offset.X,p+L.Offset.Y,0,z.Rect.Width,z.Rect.Height,L.Texture,L.Rect.X,L.Rect.Y,L.Rect.Height,L.Rect.Width))]))}})(),Q),z=>{ut($,z),ce(Pe,$)}),z=>{P(z),(m=m+V(0,D.Layers).Rect.Width+1|0,L=>{})(z)}):z=>{}))(S)},o.split(""))})}}const ml=10,$e=Ah();class $h extends k{constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}class Lh extends k{constructor(t,n,r){super(),this.X=t,this.Y=n,this.Radius=r}}function Hh(e,t){let n,r;const s=e.X+e.Width/2,o=e.Y+e.Height/2,i=Math.abs(t.X-s),u=Math.abs(t.Y-o);return i>e.Width/2+t.Radius||u>e.Height/2+t.Radius?!1:i<=e.Width/2||u<=e.Height/2?!0:(n=i-e.Width/2,Math.pow(n,2)+(r=u-e.Height/2,Math.pow(r,2))<=Math.pow(t.Radius,2))}function je(e,t){if(Math.abs(e+360-(t+360))<15)return xe(void 0)}function Nh(e,t,n,r,s){const o=Pf(r),i=c=>{if(!oe(c,Co())){const l=Bf(Of(c,t),n),d=new Lh(l.X,l.Y,s),f=As(~~Math.floor(n.X-s),~~Math.floor(l.X-s))|0,h=ir(~~Math.ceil(n.X+s),~~Math.ceil(l.X+s))|0,_=As(~~Math.floor(n.Y-s),~~Math.floor(l.Y-s))|0,g=ir(~~Math.ceil(n.Y+s),~~Math.ceil(l.Y+s))|0;let p=!0;for(let m=f;m<=h;m++)for(let S=_;S<=g;S++)p&&!e(new Ae(m,S))&&Hh(new $h(m,S,1,1),d)&&(p=!1);return p?l:void 0}},u=i(o);if(u!=null)return u;{let c;const l=(p,m)=>e(new Ae(p,m)),d=p=>~~Math.floor(p),f=d(n.X)|0,h=d(n.Y)|0,_=ui(n.X-f),g=ui(n.Y-h);if(c==null){const p=i(new Y(o.X,0));if(p!=null){const m=p;es(n,m).Distance>.2*t&&(c=m)}else{const m=i(new Y(0,o.Y));if(m!=null){const S=m;es(n,S).Distance>.2*t&&(c=S)}}}if(c==null){const p=r.Angle;if(je(90,p)!=null){if(g>=.5&&l(f+1,h)){const m=i(new Y(0,-1));m!=null&&(c=m)}else if(g<=.5&&l(f+1,h)){const m=i(new Y(0,1));m!=null&&(c=m)}}else if(je(270,p)!=null){if(g>=.5&&l(f-1,h)){const m=i(new Y(0,-1));m!=null&&(c=m)}else if(g<=.5&&l(f-1,h)){const m=i(new Y(0,1));m!=null&&(c=m)}}else if(je(180,p)!=null){if(_>=.5&&l(f,h+1)){const m=i(new Y(-1,0));m!=null&&(c=m)}else if(_<=.5&&l(f,h+1)){const m=i(new Y(1,0));m!=null&&(c=m)}}else if(je(0,p)!=null){if(_>=.5&&l(f,h-1)){const m=i(new Y(-1,0));m!=null&&(c=m)}else if(_<=.5&&l(f,h-1)){const m=i(new Y(1,0));m!=null&&(c=m)}}}if(c==null){const p=r.Angle;let m;switch(je(90,p)!=null&&g<.4&&l(f,h-1)&&l(f+1,h-1)?m=0:m=1,m){case 0:{const S=i(new Y(0,-1));S!=null&&(c=S);break}case 1:{let S;switch(je(90,p)!=null&&g>.6&&l(f,h+1)&&l(f+1,h+1)?S=0:S=1,S){case 0:{const x=i(new Y(0,1));x!=null&&(c=x);break}case 1:{let x;switch(je(270,p)!=null&&g<.4&&l(f,h-1)&&l(f-1,h-1)?x=0:x=1,x){case 0:{const M=i(new Y(0,-1));M!=null&&(c=M);break}case 1:{let M;switch(je(270,p)!=null&&g>.6&&l(f,h+1)&&l(f-1,h+1)?M=0:M=1,M){case 0:{const E=i(new Y(0,1));E!=null&&(c=E);break}case 1:{let E;switch(je(180,p)!=null&&_<.4&&l(f-1,h)&&l(f-1,h+1)?E=0:E=1,E){case 0:{const D=i(new Y(-1,0));D!=null&&(c=D);break}case 1:{let D;switch(je(180,p)!=null&&_>.6&&l(f+1,h)&&l(f+1,h+1)?D=0:D=1,D){case 0:{const P=i(new Y(1,0));P!=null&&(c=P);break}case 1:{let P;switch(je(0,p)!=null&&_<.4&&l(f-1,h)&&l(f-1,h-1)?P=0:P=1,P){case 0:{const $=i(new Y(-1,0));$!=null&&(c=$);break}case 1:{let $;switch(je(0,p)!=null&&_>.6&&l(f+1,h)&&l(f+1,h-1)?$=0:$=1,$){case 0:{const j=i(new Y(1,0));j!=null&&(c=j);break}}break}}break}}break}}break}}break}}break}}break}}}return c??n}}function Ce(){return Be()}function Uh(e,t,n,r){return(s=>{const o=w(void 0,()=>()=>oe(a,b));return new Zt(w(e,""),void 0,(i,u)=>{try{return o(void 0)(void 0)}catch(c){throw c}},(i,u)=>s(i)(void 0))})(s=>()=>(o=>{const i=ai(o,()=>new ws(0,[t()])),u=ai(o,()=>d=>{}),c=d=>{Tr(u)(d)};Wd(o,void 0,()=>{let d;const f=Tr(i);if(f.tag===0)Ms(i,_=>new ws(1,[f.fields[0][0]])),d=f.fields[0][1];else throw new Error("");Ms(u,_=>g=>{const p=Tr(i);if(p.tag===1){const m=n(g,p.fields[0]);Ms(i,x=>new ws(1,[m[0]]));const S=N(m[1]);try{for(;S["System.Collections.IEnumerator.MoveNext"]();)S["System.Collections.Generic.IEnumerator`1.get_Current"]()(c)}finally{K(S)}}else throw new Error("")});const h=N(d);try{for(;h["System.Collections.IEnumerator.MoveNext"]();)h["System.Collections.Generic.IEnumerator`1.get_Current"]()(c)}finally{K(h)}});const l=Tr(i);if(l.tag===1)return r(l.fields[0],c);throw new Error("")})(s))}let Pi=_r(0),Ks=_r(Qe());class Gh{constructor(t){let n,r,s,o,i,u,c,l,d,f,h,_,g,p,m,S,x,M,E,D,P,$,j,re,Q,W,z,L;this.gl=t;const de=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec3 offset;\r
in vec4 position;\r
in vec4 texturePosition;\r
in float textureLayer;\r
in float depth;\r
uniform vec2 depthRange;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec3 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec3(\r
            mix(vec2(0.0, 0.0), vec2(1.0, 1.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution),\r
            textureLayer);\r
\r
    float x = mix(-1.0, 1.0, (offset.x + position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (offset.y + position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
\r
    float minDepth = depthRange.x;\r
    float maxDepth = depthRange.y;\r
    float d = ((offset.z + depth) - minDepth) / (maxDepth - minDepth);\r
\r
    frag_depth = 1.0f - d;\r
}`,me=`#version 300 es\r
precision highp float;\r
\r
in vec3 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2DArray diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=Eu(de,me,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.offsetLocation=(c=this.gl,l=this.program,c.getUniformLocation(l,"offset")),this.positionLocation=(d=(f=this.gl,h=this.program,f.getAttribLocation(h,"position")),d>>>0),this.texturePositionLocation=(_=(g=this.gl,p=this.program,g.getAttribLocation(p,"texturePosition")),_>>>0),this.textureLayerLocation=(m=(S=this.gl,x=this.program,S.getAttribLocation(x,"textureLayer")),m>>>0),this.depthLocation=(M=(E=this.gl,D=this.program,E.getAttribLocation(D,"depth")),M>>>0),this.depthRangeLocation=(P=this.gl,$=this.program,P.getUniformLocation($,"depthRange")),this.outputResolutionLocation=(j=this.gl,re=this.program,j.getUniformLocation(re,"outputResolution")),this.textureResolutionLocation=(Q=this.gl,W=this.program,Q.getUniformLocation(W,"textureResolution")),this.diffuseTextureLocation=(z=this.gl,L=this.program,z.getUniformLocation(L,"diffuseTexture"))}}function Wh(e){return new Gh(e)}function Zh(e){return e.program}function Ai(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation),e.gl.enableVertexAttribArray(e.positionLocation),e.gl.enableVertexAttribArray(e.texturePositionLocation),e.gl.enableVertexAttribArray(e.textureLayerLocation),e.gl.enableVertexAttribArray(e.depthLocation))}function zh(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function Yh(e,t,n,r){e.gl.uniform3f(e.offsetLocation,t,n,r)}function Xh(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.positionLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.positionLocation,i)}function jh(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.texturePositionLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.texturePositionLocation,i)}function Kh(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.textureLayerLocation,1,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.textureLayerLocation,i)}function qh(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.depthLocation,1,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.depthLocation,i)}function Jh(e,t,n){e.gl.uniform2f(e.depthRangeLocation,t,n)}function Qh(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function e1(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function t1(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(35866,t)}let Vr=_r(void 0);function n1(e,t){let n;if(Vr()==null){const r=Wh(e);Ai(r),t(r),Vr(r)}else{const r=Vr();oe((n=e,n.getParameter(n.CURRENT_PROGRAM)),Zh(r))||(Ai(r),t(r))}return C(Vr())}class r1{constructor(t){let n,r,s,o,i,u,c,l,d,f,h,_,g,p,m,S,x,M;this.gl=t;const E=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec4 position;\r
uniform vec4 texturePosition;\r
uniform float depth;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec2 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec2(\r
            mix(vec2(0.0, 1.0), vec2(1.0, 0.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution));\r
\r
    float x = mix(-1.0, 1.0, (position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
    frag_depth = depth;\r
}`,D=`#version 300 es\r
precision highp float;\r
\r
in vec2 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2D diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=Eu(E,D,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.positionLocation=(c=this.gl,l=this.program,c.getUniformLocation(l,"position")),this.texturePositionLocation=(d=this.gl,f=this.program,d.getUniformLocation(f,"texturePosition")),this.depthLocation=(h=this.gl,_=this.program,h.getUniformLocation(_,"depth")),this.outputResolutionLocation=(g=this.gl,p=this.program,g.getUniformLocation(p,"outputResolution")),this.textureResolutionLocation=(m=this.gl,S=this.program,m.getUniformLocation(S,"textureResolution")),this.diffuseTextureLocation=(x=this.gl,M=this.program,x.getUniformLocation(M,"diffuseTexture"))}}function s1(e){return new r1(e)}function o1(e){return e.program}function qs(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation))}function i1(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function u1(e,t,n,r,s){e.gl.uniform4f(e.positionLocation,t,n,r,s)}function l1(e,t,n,r,s){e.gl.uniform4f(e.texturePositionLocation,t,n,r,s)}function c1(e,t){e.gl.uniform1f(e.depthLocation,t)}function a1(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function f1(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function d1(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(3553,t)}let Fr=_r(void 0);function h1(e,t){let n;if(Fr()==null){const r=s1(e);qs(r),t(r),Fr(r)}else{const r=Fr();oe((n=e,n.getParameter(n.CURRENT_PROGRAM)),o1(r))||(qs(r),t(r))}return C(Fr())}const Wt=hs(()=>[],e=>{xt(e)});class _1 extends Eo{constructor(t,n){super(t,n),this.gl=t,this.view=n,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r,s;const o=this;Bi(o);const i=Bt(Wt),u=Bt(Wt),c=Bt(Wt),l=Bt(Wt);Ld(o.view,(d,f)=>{const h=f,_=i;_.push(td(h)+d[0]),_.push(rd(h)+d[1]),_.push(ud(h)),_.push(cd(h));const g=f,p=c;p.push(hd(g)),p.push(md(g)),p.push(gd(g)),p.push(yd(g));const m=t.TextureLayer(fd(f));if(m!=null){const S=m;l.push(S)}u.push(od(f)+d[2])}),o.renderResult=(n=er(i,o.gl),r=er(c,o.gl),s=er(l,o.gl),{DepthBuffer:er(u,o.gl),PosBuffer:n,TextureBuffer:r,TextureLayer:s,TotalSprites:~~(i.length/4)}),ce(Wt,i),ce(Wt,c),ce(Wt,l),ce(Wt,u)}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=C(n.renderResult),s=t.Resolution.Width>>>0,o=t.Resolution.Height>>>0;n.gl.viewport(0,0,s,o),n.gl.enable(2929),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515);const i=n1(n.gl,l=>{zh(l,t.VertexBuffer)});Yh(i,t.Offset.X,t.Offset.Y,t.Offset.Z);const u=t.ZRange;Jh(i,u[0],u[1]),Qh(i,t.Resolution.Width,t.Resolution.Height),e1(i,t.TextureDetails.Width,t.TextureDetails.Height),t1(i,t.TextureDetails.Texture),Kh(i,r.TextureLayer,1),Xh(i,r.PosBuffer,1),jh(i,r.TextureBuffer,1),qh(i,r.DepthBuffer,1);const c=r.TotalSprites>>>0;n.gl.drawArraysInstanced(4,0,6,c)}"Imp.DisplayModels.RendererBase.OnDistory"(){Bi(this)}}function m1(e,t){return new _1(e,t)}function Bi(e){ue(t=>{vr(Qn,t.PosBuffer),vr(Qn,t.TextureBuffer),vr(Qn,t.TextureLayer),vr(Qn,t.DepthBuffer)},Bn(e.renderResult)),e.renderResult=void 0}class p1 extends yr{constructor(t){super(),this.name=t}}function g1(e){return new p1(e)}function zt(e,t){const n=Sr();return t(n),new Mo(e.name,r=>!0,m1,n)}function Yt(e){return g1(w(e,""))}class w1 extends k{constructor(t,n,r){super(),this.R=t|0,this.G=n|0,this.B=r|0}}let y1=class extends Eo{constructor(t,n,r,s){super(r,s),this.backgroundColor=t,this.scale=n|0,this.gl=r,this.view=s,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r;const s=this;if(s.renderResult==null||!oe(t.Resolution,C(s.renderResult).Resolution)){Oi(s);let o;const i=s.gl;o=i.getParameter(i.FRAMEBUFFER_BINDING);const u=[t.Resolution.Width>>>0,t.Resolution.Height>>>0];s.renderResult=(n=vf(36160,new Int32Array([36064]),s.gl),r=oi(u[0],u[1],bs[0],bs[1],bs[2],36064,s.gl),{DepthTexture:oi(u[0],u[1],Cs[0],Cs[1],Cs[2],36096,s.gl),DiffuseTexture:r,FrameBuffer:n,Resolution:t.Resolution}),s.gl.bindFramebuffer(36160,o)}}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=C(n.renderResult);let s;const o=n.gl;s=o.getParameter(o.FRAMEBUFFER_BINDING),n.gl.bindFramebuffer(36160,r.FrameBuffer),n.gl.disable(3024),n.gl.enable(2929),n.gl.enable(2884),n.gl.cullFace(1029),n.gl.frontFace(2304);const i=t.Resolution.Width>>>0,u=t.Resolution.Height>>>0;n.gl.viewport(0,0,i,u);const c=n.backgroundColor.R/255,l=n.backgroundColor.G/255,d=n.backgroundColor.B/255;n.gl.clearColor(c,l,d,1),n.gl.clearDepth(1);const f=16640;n.gl.clear(f),Hn(n.view,t),n.gl.bindFramebuffer(36160,s);const h=h1(n.gl,x=>{});qs(h);const _=t.Resolution.Width>>>0,g=t.Resolution.Height>>>0;n.gl.viewport(0,0,_,g),n.gl.disable(2929),n.gl.disable(2960),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515),i1(h,t.VertexBuffer);const p=t.Resolution.Width*n.scale,m=t.Resolution.Height*n.scale;a1(h,p,m),f1(h,p,m),d1(h,r.DiffuseTexture),u1(h,0,0,p,m),l1(h,0,0,t.Resolution.Width,t.Resolution.Height),c1(h,1);const S=1;n.gl.drawArraysInstanced(4,0,6,S)}"Imp.DisplayModels.RendererBase.OnDistory"(){Oi(this)}};function S1(e,t,n,r){return new y1(e,t,n,r)}function b1(e){return e.backgroundColor}function C1(e){return e.scale}function Oi(e){ue(t=>{e.gl.deleteTexture(t.DiffuseTexture),e.gl.deleteTexture(t.DepthTexture),e.gl.deleteFramebuffer(t.FrameBuffer)},Bn(e.renderResult)),e.renderResult=void 0}class x1 extends yr{constructor(t,n,r){super(),this.backgroundColor=t,this.scale=n|0,this.key=r}}function M1(e,t,n){return new x1(e,t,n)}function E1(e,t){const n=Sr();return t(n),new Mo(e.key,r=>{const s=r;return oe(b1(s),e.backgroundColor)&&C1(s)===e.scale},(r,s)=>S1(e.backgroundColor,e.scale,r,s),n)}function R1(e,t,n){return M1(e,w(t,1),w(n,""))}class I1 extends Eo{constructor(t,n){super(t,n),this.view=n}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){Hn(this.view,t)}}function v1(e,t){return new I1(e,t)}class T1 extends yr{constructor(t){super(),this.key=t}}function D1(e){return new T1(e)}function k1(e,t){const n=Sr();return t(n),new Mo(e.key,r=>!0,v1,n)}function V1(e){return D1(w(e,""))}class F1 extends k{constructor(t,n,r,s,o){super(),this.Up=t,this.Down=n,this.Left=r,this.Right=s,this.A=o}}class P1 extends k{constructor(t,n){super(),this.Thumbstick=t,this.Buttons=n}}class Js extends k{constructor(t,n,r,s){super(),this.Name=t,this.Passable=n,this.Destructible=r,this.ZIndex=s}}class $i extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Interactive","Scenery"]}}class A1 extends k{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Time=r}}function Qs(e){let t;return ir(0,(t=e.Time,~~Math.floor(t)+1))}class Li extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Explosion","Builder"]}}class B1 extends k{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Type=r,this.Fuse=s}}class O1 extends k{constructor(t,n){super(),this.Explosions=t,this.Bombs=n}}class $1 extends k{constructor(t,n){super(),this.Value=t,this.UpdateCounter=n}}function Ze(e){e.UpdateCounter=ls(pc(e.UpdateCounter,1n))}function kn(e){return[e.Value,e.UpdateCounter]}function Ur(e){return new $1(e,0n)}const L1=x0();class H1 extends k{constructor(t,n,r,s){super(),this.Grid=t,this.Interactive=n,this.WorldObjects=r,this.Tiles=s}}class eo extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Bomb","Ingredient","Builder"]}}class N1 extends k{constructor(t,n,r,s,o,i,u,c){super(),this.Id=t|0,this.Position=n,this.Angle=r,this.Tag=s,this.Frame=o,this.Stunned=i,this.Inventory=u,this.Controller=c}}function to(e){return[`Player-${e.Angle}-${e.Tag}`,~~e.Frame+1,~~(e.Position.X*32-16),~~(e.Position.Y*32-16)]}class U1 extends k{constructor(t,n,r){super(),this.Key=t|0,this.PlayerId=n|0,this.ControllerButton=r}}class nr extends k{constructor(t,n,r,s,o){super(),this.World=t,this.Players=n,this.IsActive=r,this.ScreenSize=s,this.KeyMappings=o}}class qe extends ne{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Noop","Input","Focus","Blur","Tick","ArenaLoaded","Resize","Trigger","PlayerAction","PlayerInput"]}}function G1(e,t){let n;const r=(s,o,i)=>new N1(s,new Y(o,i),"South","Idle",0,void 0,Be(),new P1(bo(),new F1(!1,!1,!1,!1,!1)));return[(n=new $r(0,0),new nr(void 0,Ur([r(1,2.5,4.5),r(2,24.5,10.5)]),!0,n,Cu(Pn(s=>[s.Key,s],yn(U(()=>{const s=(o,i,u)=>new U1(i,o,u);return Ve(ye(s(1,87,new wt(2,[]))),U(()=>Ve(ye(s(1,65,new wt(4,[]))),U(()=>Ve(ye(s(1,83,new wt(3,[]))),U(()=>Ve(ye(s(1,68,new wt(5,[]))),U(()=>Ve(ye(s(1,32,new wt(0,[]))),U(()=>Ve(ye(s(2,265,new wt(2,[]))),U(()=>Ve(ye(s(2,263,new wt(4,[]))),U(()=>Ve(ye(s(2,264,new wt(3,[]))),U(()=>Ve(ye(s(2,262,new wt(5,[]))),U(()=>ye(s(2,345,new wt(0,[])))))))))))))))))))))}))),{Compare:rs}))),ao([He(s=>{s(new qe(4,[]))}),He(s=>{e["Imp.Setup.DataManager.LoadString"]("arena.json",o=>{s(new qe(5,[cl(we(dl(w0(),hl,_l)),o)]))})})])]}function pl(e,t){const n=e.World;if(n!=null){const r=n,s=Os(t.Y,r.Grid.Value);if(s!=null){const o=Os(t.X,s);if(o!=null){const i=o;return yn(U(()=>Ve(Pn(u=>new $i(1,[u]),fs(i)),U(()=>go(u=>{let c,l,d;const f=u;let h;switch(f.tag){case 0:{c=f.fields[0],c.X===t.X&&c.Y===t.Y?(h=0,f.fields[0]):h=1;break}case 1:{l=f.fields[0],l.X===t.X&&l.Y===t.Y?(h=0,f.fields[0]):h=1;break}case 3:{d=f.fields[0],d.X===t.X&&d.Y===t.Y?(h=0,f.fields[0]):h=1;break}default:h=1}switch(h){case 0:return ye(new $i(0,[u]));default:return Ke()}},r.Interactive.Value)))))}else return Be()}else return Be()}else return Be()}function W1(e,t,n){return lu(r=>{if(r.tag===0){let s;switch(r.fields[0].tag){case 1:{r.fields[0].fields[1].Player===e.Id?(s=0,r.fields[0].fields[1]):s=2;break}case 3:{s=1;break}default:s=2}switch(s){case 0:return!0;case 1:return!0;default:return!1}}else return!!r.fields[0].Passable},pl(t,n))}function Z1(e,t){let n,r,s,o,i=!1;const u=e.World;if(u!=null){const c=u,l=t.Controller,d=()=>{i=!0,Ze(e.Players)},f=t.Stunned;if(f!=null){const h=f-.1;h<=0?(t.Stunned=void 0,d()):t.Stunned=h}else{const h=(n=t.Position.X,~~Math.floor(n)|0),_=(r=t.Position.Y,~~Math.floor(r)|0);if(su(g=>g.Time>=0&&g.Time<=7&&g.X===h?g.Y===_:!1,c.WorldObjects.Value.Explosions)!=null)t.Tag="Idle",t.Frame=0,t.Stunned=10,d();else{const g=to(t);let p;const m=l.Buttons,S=l.Thumbstick;let x=bo(),M=0,E=0;if(m.Up&&(M=M-1),m.Down&&(M=M+1),m.Left&&(E=E-1),m.Right&&(E=E+1),(M!==0||E!==0)&&(x=new lr(es(Co(),new Y(E,M)).Angle,1)),S.Distance>0&&(x=(s=S,new lr(s.Angle,(D=>As(D,1))(s.Distance)))),p=x,p.Distance>0){const D=ml/200;t.Position=Nh(P=>W1(t,e,P),D,t.Position,p,.4),t.Angle=(o=Af(p).Angle,o===0?"North":o===90?"East":o===180?"South":"West"),p.Distance>0?(t.Tag="Run",t.Frame=(t.Frame+p.Distance*D*4)%8):(t.Tag="Idle",t.Frame=0)}else t.Tag!=="Idle"&&(t.Tag="Idle",t.Frame=0);Ft(to(t),g)||d()}}}return i}function z1(e){let t;const n=e.World;if(n!=null){const r=n,s=r.WorldObjects.Value.Explosions;for(let o=0;o<=s.length-1;o++){const i=V(o,s),u=Qs(i)|0;i.Time=i.Time+.2,u!==Qs(i)&&Ze(r.WorldObjects)}r.WorldObjects.Value.Explosions.length>0&&(r.WorldObjects.Value.Explosions=(t=r.WorldObjects.Value.Explosions,t.filter(o=>o.Time<=12)))}}const Pr=[];function Y1(e){let t;const n=e.World;if(n!=null){const r=n;xt(Pr);const s=(i,u,c,l,d)=>{if(i>0){const f=()=>{Pr.push(new A1(u,c,-l))},h=pl(e,new Ae(u,c));if(lu(_=>_.tag===0?_.fields[0].tag===3:!!_.fields[0].Passable,h))f(),d(i-1);else{const _=ua(g=>g.tag===1?!oe(g.fields[0].Destructible,new qu(0,[])):!1,h);if(_!=null){const g=_|0;f();const p=ho(g,h),m=()=>{V(c,r.Grid.Value)[u]=$t(fa(g,qo(x=>{if(x.tag===1)return x.fields[0]},h)))},S=(p.tag===1?p.fields[0]:(()=>{throw new Error("Expected Scenery")})()).Destructible;if(S.tag===2){const x=S.fields[0],M=V(L1.Next2(0,x.length),x);if(M!=null){const E=Ns(M,r.Tiles);if(E.Mode.tag===1)r.Interactive.Value.push(new Do(3,[new Ae(u,c),E.Name])),Ze(r.Interactive),m();else{const D=new Js(E.Name,E.Passable,E.Destructible,E.ZIndex);V(c,r.Grid.Value)[u]=$t(iu((P,$)=>P===g?D:$,qo(P=>{if(P.tag===1)return P.fields[0]},h)))}}else m()}else m();Ze(r.Grid)}}}},o=r.WorldObjects.Value.Bombs;for(let i=0;i<=o.length-1;i++){const u=V(i,o);if(u.Fuse=u.Fuse-.1,u.Fuse<=0)if(Ze(r.WorldObjects),u.Type.tag===1){const c=Ns("Destructible",r.Tiles),l=new Js(c.Name,c.Passable,c.Destructible,void 0);V(u.Y,r.Grid.Value)[u.X]=Bs(V(u.X,V(u.Y,r.Grid.Value)),[l]),Ze(r.Grid)}else s(2,u.X,u.Y,0,c=>{s(c,u.X+1,u.Y,2,l=>{}),s(c,u.X-1,u.Y,2,l=>{}),s(c,u.X,u.Y+1,2,l=>{}),s(c,u.X,u.Y-1,2,l=>{})})}Pr.length>0&&(r.WorldObjects.Value.Explosions=Bs(r.WorldObjects.Value.Explosions,fu(Pr)),Ze(r.WorldObjects)),r.WorldObjects.Value.Bombs.length>0&&(r.WorldObjects.Value.Bombs=(t=r.WorldObjects.Value.Bombs,t.filter(i=>i.Fuse>0)))}}function X1(e){let t,n;const r=(t=e.Position.X,~~Math.floor(t)|0),s=(n=e.Position.Y,~~Math.floor(n)|0);switch(e.Angle){case"North":return new Ae(r,s-1);case"South":return new Ae(r,s+1);case"East":return new Ae(r+1,s);case"West":return new Ae(r-1,s);default:return new Ae(0,0)}}function j1(e){const t=e.World;if(t!=null){const n=t;return yn(U(()=>go(r=>{let s,o,i;const u=r;let c,l,d;switch(u.tag===2&&oe(u.fields[1].Mode,new To(0,[]))?(c=0,l=u.fields[0],d=u.fields[1]):c=1,c){case 0:return s=d.Player,s!=null&&(o=s|0,i=Jr(f=>f.Id===o,e.Players.Value),Iu(l,i.Position.X,i.Position.Y))?ye(He(f=>{f(new qe(7,[d.Action,d.Target,d.Player]))})):Ke();default:return Ke()}},n.Interactive.Value)))}else return Be()}function Hi(e,t,n){const r=e.World;if(r!=null){const s=r,o=Va(i=>{let u,c;switch(i.tag===1&&i.fields[1].Id===t?(u=0,c=i.fields[1]):u=1,u){case 0:return!0;default:return!1}},s.Interactive.Value);if(o!=null){const i=o|0;let u;const c=s.Interactive.Value[i];if(c.tag===1)u=[c.fields[0],c.fields[1]];else throw new Error("Expected Gate Interactive");const l=u[1];if(l.Open!==n){const d=new Ju(l.Player,l.Id,n);s.Interactive.Value[i]=new Do(1,[u[0],d]),Ze(s.Interactive)}}}}function K1(e,t){let n,r,s;const o=t.Inventory;if(!O(o)){const i=v(o);switch(i.tag){case 2:case 0:{const u=(n=t.Position.X,~~Math.floor(n)|0),c=(r=t.Position.Y,~~Math.floor(r)|0);if(s=e.WorldObjects.Value.Bombs,!s.some(l=>l.X===u?l.Y===c:!1)){const l=i.tag===2?new Li(1,[]):new Li(0,[]);e.WorldObjects.Value.Bombs=Bs(e.WorldObjects.Value.Bombs,[new B1(u,c,l,10)]),Ze(e.WorldObjects),t.Inventory=B(o)}break}}}}function q1(e,t){const n=Jr(u=>u.Id===t,e.Players.Value),r=()=>{Ze(e.Players)},s=n.Inventory;let o,i;switch(O(s)?o=1:v(s).tag===1?(o=0,i=B(s)):o=1,o){case 0:{n.Inventory=i,r();break}case 1:{if(gn(n.Inventory)<4){const u=3-gn(uu(c=>c.tag===0,n.Inventory))|0;u>0&&(n.Inventory=fo(aa(u,new eo(0,[])),n.Inventory),r())}break}}}function J1(e,t){const n=e.Controller;switch(t.tag){case 0:return n.Thumbstick=es(Co(),new Y(t.fields[0],t.fields[1])),Ce();case 1:{const r=t.fields[0];switch(t.fields[1].tag){case 4:return n.Buttons.Left=r,Ce();case 3:return n.Buttons.Down=r,Ce();case 5:return n.Buttons.Right=r,Ce();case 0:case 1:return r?He(o=>{o(new qe(8,[e.Id]))}):Ce();default:return n.Buttons.Up=r,Ce()}}default:return Ce()}}function Q1(e,t){const n=e.World;if(n!=null){const r=n;let s,o;const i=X1(t);if(o=yn(U(()=>go(u=>{let c,l,d,f;const h=r.Interactive.Value[u];let _,g,p,m;switch(h.tag){case 2:{oe(h.fields[1].Mode,new To(1,[]))?(_=0,g=h.fields[0],p=h.fields[1]):_=2;break}case 3:{f=h.fields[0],f.X===i.X&&f.Y===i.Y?(_=1,m=h.fields[1],h.fields[0]):_=2;break}default:_=2}switch(_){case 0:return c=p.Player,c!=null&&c===t.Id&&Iu(g,t.Position.X,t.Position.Y)?ye(He(S=>{S(new qe(7,[p.Action,p.Target,p.Player]))})):Ke();case 1:{const S=t.Inventory;return gn(S)<4?Ve((l=m==="Ingredient"?new eo(1,[]):m==="Builder"?new eo(2,[]):void 0,l!=null?(d=l,t.Inventory=fo(He(d),S),Ze(e.Players),Ke()):Ke()),U(()=>(s=u,Ke()))):Ke()}default:return Ke()}},dr(0,1,r.Interactive.Value.length-1)))),s!=null){const u=s|0;return r.Interactive.Value.splice(u,1),Ze(r.Interactive),[e,Ce()]}else return gn(o)>0?[e,ao(o)]:(K1(r,t),[e,Ce()])}else return[e,Ce()]}function e_(e,t){let n;switch(e.tag){case 0:return[t,Ce()];case 4:{let r=!1;const s=t.Players.Value;for(let o=0;o<=s.length-1;o++){const i=V(o,s);r=Z1(t,i)?!0:r}return z1(t),Y1(t),[t,ao(yn(U(()=>Ve(r?j1(t):Ke(),U(()=>ye(He(o=>{Zd(ml,()=>{o((()=>new qe(4,[]))())})})))))))]}case 7:{const r=e.fields[1],s=e.fields[2],o=e.fields[0];let i;switch(o){case"GateOpen":{r!=null?i=0:i=3;break}case"GateClose":{r!=null?i=1:i=3;break}case"Cauldron":{s!=null?i=2:i=3;break}default:i=3}switch(i){case 0:{Hi(t,r,!0);break}case 1:{Hi(t,r,!1);break}case 2:{q1(t,s);break}case 3:throw new Error(`Unknown action ${o}`)}return[t,Ce()]}case 1:{const r=e.fields[0];let s;switch(r.tag){case 0:{s=[V(0,t.Players.Value).Id,new $n(0,[r.fields[0],r.fields[1]])];break}case 1:{s=[V(0,t.Players.Value).Id,new $n(1,[r.fields[0],r.fields[1]])];break}default:{const o=r.fields[0],i=r.fields[1]|0;if(i===300)o&&Ks()["Imp.Setup.Display.set_Fullscreen"](!Ks()["Imp.Setup.Display.get_Fullscreen"]()),s=void 0;else{const u=bu(i,t.KeyMappings);if(u!=null){const c=u;s=[c.PlayerId,new $n(1,[o,c.ControllerButton])]}else s=void 0}}}return s!=null?[t,(n=new qe(9,[s[0],s[1]]),He(o=>{o(n)}))]:[t,Ce()]}case 9:return[t,J1(Jr(r=>r.Id===e.fields[0],t.Players.Value),e.fields[1])];case 2:{const r=new nr(t.World,t.Players,!0,t.ScreenSize,t.KeyMappings);return Ze(r.Players),[r,Ce()]}case 3:{const r=new nr(t.World,t.Players,!1,t.ScreenSize,t.KeyMappings),s=r.Players.Value;for(let o=0;o<=s.length-1;o++){const i=V(o,s).Controller,u=i.Buttons;u.Up=!1,u.Left=!1,u.Down=!1,u.Right=!1,u.A=!1,i.Thumbstick=bo()}return[r,Ce()]}case 8:return Q1(t,Jr(r=>r.Id===e.fields[0],t.Players.Value));case 5:{const r=e.fields[0],s=Cu(Pn(o=>[o.Name,o],r.PointTypes),{Compare:rs});return[new nr(new H1(Ur($t(Pn(o=>$t(Pn(i=>$t(Pn(u=>{const c=Ns(u,s);return new Js(c.Name,c.Passable,c.Destructible,c.ZIndex)},i)),o)),r.Points))),Ur(Array.from(r.Interactives)),Ur(new O1([],[])),s),t.Players,t.IsActive,t.ScreenSize,t.KeyMappings),He(o=>{o(new qe(0,[]))})]}default:return[new nr(t.World,t.Players,t.IsActive,e.fields[0],t.KeyMappings),Ce()]}}function Vn(e,t,n,r){return oe(t,r)}function t_(e){let t,n,r,s,o,i,u;return te((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),c=>{const l=zt(Yt(),d=>{ue(f=>{const h=f|0,_=V(h,e),g=h*32|0;ue(p=>{const m=p|0,S=m*32|0;ue(x=>{let M,E,D,P,$,j,re,Q,W;const z=x,L=te((M=(E=z.ZIndex,(E==null?h:h+E)*32),D=void 0,P=void 0,$=void 0,j=void 0,re=void 0,Q=void 0,W=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(M,0),w(void 0,0),w(void 0,0),D??void 0,P??void 0,$??void 0,j??void 0,re??void 0,Q??void 0,W??void 0)),de=>{const me=bt($e,z.Name,1,[S,g]);ut(me,de),ce(Pe,me)});d.push(new A(0,[L]))},V(m,_))},dr(0,1,_.length-1))},dr(0,1,e.length-1))});c.push(new A(2,[l]))})}function n_(e){let t,n,r,s,o,i,u;return te((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),c=>{const l=zt(Yt(),d=>{ue(f=>{let h,_,g,p,m,S,x,M,E,D,P,$,j,re,Q,W,z,L,de,me,Et,at,Nt,ft,he,Ut,Rt,It,sn,on,un;(h=f,h.tag===1?(_=h.fields[0],g=te((p=_.Y*32,m=void 0,S=void 0,x=void 0,M=void 0,E=void 0,D=void 0,P=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(p,0),w(void 0,0),w(void 0,0),m??void 0,S??void 0,x??void 0,M??void 0,E??void 0,D??void 0,P??void 0)),pe=>{const Ye=bt($e,h.fields[1].Open?"Gate Open":"Gate",1,[_.X*32,_.Y*32]);ut(Ye,pe),ce(Pe,Ye)}),pe=>{pe.push(new A(0,[g]))}):h.tag===3?($=h.fields[0],j=te((re=$.Y*32,Q=void 0,W=void 0,z=void 0,L=void 0,de=void 0,me=void 0,Et=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(re,0),w(void 0,0),w(void 0,0),Q??void 0,W??void 0,z??void 0,L??void 0,de??void 0,me??void 0,Et??void 0)),pe=>{const Ye=bt($e,h.fields[1],1,[$.X*32,$.Y*32]);ut(Ye,pe),ce(Pe,Ye)}),pe=>{pe.push(new A(0,[j]))}):h.tag===2?pe=>{}:(at=h.fields[0],Nt=te((ft=at.Y*32,he=void 0,Ut=void 0,Rt=void 0,It=void 0,sn=void 0,on=void 0,un=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(ft,0),w(void 0,0),w(void 0,0),he??void 0,Ut??void 0,Rt??void 0,It??void 0,sn??void 0,on??void 0,un??void 0)),pe=>{const Ye=bt($e,"Cauldron",1,[at.X*32,at.Y*32]);ut(Ye,pe),ce(Pe,Ye)}),pe=>{pe.push(new A(0,[Nt]))}))(d)},e)});c.push(new A(2,[l]))})}function r_(e){let t,n,r,s,o,i,u,c;const l=to(e),d=V(l[1]-1,Vo($e,l[0]).Frames);let f;const h=e.Inventory;if(O(h))f="Normal";else{const _=v(h);f=_.tag===1?"Ingredient":_.tag===2?"Builder":"Bomb"}return te((t=~~((e.Position.Y+0)*32),n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,c=void 0,ee(w("Player",""),w(l[2],0),w(l[3],0),w(t,0),w(void 0,0),w(void 0,0),n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0,c??void 0)),_=>{ue(g=>{let p,m,S,x;(p=V(g,d.Layers),p.MetaData.length===0||Kc(f,p.MetaData,{Equals:(M,E)=>M===E,GetHashCode:ns})?(m=(S=p,x=S,Io(0+x.Offset.X,0+x.Offset.Y,0,S.Rect.Width,S.Rect.Height,x.Texture,x.Rect.X,x.Rect.Y,x.Rect.Height,x.Rect.Width)),M=>{M.push(new A(1,[m]))}):M=>{})(_)},dr(0,1,d.Layers.length-1))})}function s_(e,t){let n,r,s,o,i,u,c;return te((n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,c=void 0,ee(w("Small world root view None",""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0,c??void 0)),l=>{let d,f,h,_,g,p,m,S,x,M,E,D,P,$,j,re,Q,W,z;(d=e.World,d==null?(f=zt(Yt(),L=>{let de,me,Et,at,Nt,ft,he;const Ut=te((de=void 0,me=void 0,Et=void 0,at=void 0,Nt=void 0,ft=void 0,he=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),de??void 0,me??void 0,Et??void 0,at??void 0,Nt??void 0,ft??void 0,he??void 0)),Rt=>{const It=Fi($e)("Loading");Rt.push(new A(0,[It]))});L.push(new A(0,[Ut]))}),L=>{L.push(new A(2,[f]))}):(h=d,_=(e.ScreenSize.Height>=1080?2:1)|0,g=~~(e.ScreenSize.Width/_)|0,p=~~(e.ScreenSize.Height/_)|0,m=h.Grid.Value.length|0,S=~~((g-V(0,h.Grid.Value).length*32)/2)|0,x=~~((p-m*32)/2)+32|0,M=te((E=h.Grid.Value.length*32,D=V(0,h.Grid.Value).length*32,P=void 0,$=void 0,j=void 0,re=L=>{t(new qe(2,[]))},Q=L=>{t(new qe(3,[]))},W=void 0,z=L=>{t(new qe(6,[L]))},ee(w("Small world root view",""),w(S,0),w(x,0),w(2,0),w(E,0),w(D,0),P??void 0,$??void 0,j??void 0,re??void 0,Q??void 0,W??void 0,z??void 0)),L=>{const de=E1(R1(new w1(36,33,47),_,"sceneRenderer"),me=>{const Et=k1(V1("worldRenderer"),at=>{const Nt=$d(Od(w("context",""),ft=>{const he=ft;return new xo(he.Time,he.Resolution,he.Offset,he.VertexBuffer,he.TextureDetails,he.TextureLayer,[0,m*32])}),ft=>{let he,Ut,Rt,It,sn,on,un,pe,Ye;const Fo=ft;(he=(Ut=w(void 0,vt=>Gt=>vt===Gt),new Zt(w("input",""),e.IsActive,(vt,Gt)=>{try{return Ut(vt)(Gt)}catch(ln){throw ln}},(vt,Gt)=>((ln,Xn)=>{let Sn,bn,Cn,xn,Mn,En,Rn;return Ud(ln,()=>new Nd),Gd(ln),te((Sn=void 0,bn=void 0,Cn=void 0,xn=void 0,Mn=void 0,En=In=>Xn?(t(new qe(1,[In])),!0):!1,Rn=void 0,ee(w("input view",""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Sn??void 0,bn??void 0,Cn??void 0,xn??void 0,Mn??void 0,En??void 0,Rn??void 0)),In=>{const br=zt(Yt("input batchRenderer"),Cr=>{const xr=Fi($e,"input text label")(Xn?"Active":"Click on the world to activate");Cr.push(new A(0,[xr]))});In.push(new A(2,[br]))})})(vt,Gt))),vt=>{vt.push(new A(4,[he]))})(Fo);const gl=te((Rt=void 0,It=void 0,sn=void 0,on=void 0,un=void 0,pe=void 0,Ye=void 0,ee(w("world holder",""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Rt??void 0,It??void 0,sn??void 0,on??void 0,un??void 0,pe??void 0,Ye??void 0)),vt=>{let Gt,ln,Xn,Sn,bn,Cn,xn,Mn,En,Rn,In,br,Cr,xr,Po;const Ao=vt;(Gt=(ln=kn(h.Grid),Xn=w(R=>T=>Vn(R[0],R[1],T[0],T[1]),R=>T=>Ft(R,T)),new Zt(w("world",""),ln,(R,T)=>{try{return Xn(R)(T)}catch(_e){throw _e}},(R,T)=>((_e,et)=>t_(et[0]))(R,T))),R=>{R.push(new A(4,[Gt]))})(Ao);const Bo=Ao;(Sn=(bn=kn(h.Interactive),Cn=w(R=>T=>Vn(R[0],R[1],T[0],T[1]),R=>T=>Ft(R,T)),new Zt(w("Interactive",""),bn,(R,T)=>{try{return Cn(R)(T)}catch(_e){throw _e}},(R,T)=>((_e,et)=>n_(et[0]))(R,T))),R=>{R.push(new A(4,[Sn]))})(Bo);const Oo=Bo;(xn=(Mn=kn(e.Players),En=w(R=>T=>Vn(R[0],R[1],T[0],T[1]),R=>T=>Ft(R,T)),new Zt(w("player",""),Mn,(R,T)=>{try{return En(R)(T)}catch(_e){throw _e}},(R,T)=>((_e,et)=>{let Ee,Re,Ie,ve,Te,De,ke;return te((Ee=void 0,Re=void 0,Ie=void 0,ve=void 0,Te=void 0,De=void 0,ke=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Ee??void 0,Re??void 0,Ie??void 0,ve??void 0,Te??void 0,De??void 0,ke??void 0)),cn=>{const an=zt(Yt("Player batchRenderer"),fn=>{ue(dn=>{const Oe=r_(dn);fn.push(new A(0,[Oe]))},et[0])});cn.push(new A(2,[an]))})})(R,T))),R=>{R.push(new A(4,[xn]))})(Oo);const $o=Oo;(Rn=(In=kn(e.Players),br=w(R=>T=>Vn(R[0],R[1],T[0],T[1]),R=>T=>Ft(R,T)),new Zt(w("player-inv",""),In,(R,T)=>{try{return br(R)(T)}catch(_e){throw _e}},(R,T)=>((_e,et)=>{let Ee,Re,Ie,ve,Te,De,ke;return te((Ee=void 0,Re=void 0,Ie=void 0,ve=void 0,Te=void 0,De=void 0,ke=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Ee??void 0,Re??void 0,Ie??void 0,ve??void 0,Te??void 0,De??void 0,ke??void 0)),cn=>{const an=zt(Yt(),fn=>{ue(dn=>{let Oe,dt,Tt,ht,_t,mt,tt;const nt=dn,pt=nt.Id===2?[20*32+42,10*32]:[0*32-42,0],Dt=te((Oe=void 0,dt=void 0,Tt=void 0,ht=void 0,_t=void 0,mt=void 0,tt=void 0,ee(w(void 0,""),w(pt[0],0),w(pt[1],0),w(void 0,0),w(void 0,0),w(void 0,0),Oe??void 0,dt??void 0,Tt??void 0,ht??void 0,_t??void 0,mt??void 0,tt??void 0)),gt=>{ue(hn=>{let kt,Xe,rt,_n,ms,ps;(kt=hn|0,Xe=ho(kt,nt.Inventory),rt=kt*42|0,Xe.tag===1?(_n=bt($e,"Ingredient",1,[0,rt]),jn=>{ut(_n,jn),ce(Pe,_n)}):Xe.tag===2?(ms=bt($e,"Builder",1,[0,rt]),jn=>{ut(ms,jn),ce(Pe,ms)}):(ps=bt($e,"Bomb",1,[0,rt]),jn=>{ut(ps,jn),ce(Pe,ps)}))(gt)},dr(0,1,gn(nt.Inventory)-1))});fn.push(new A(0,[Dt]))},et[0])});cn.push(new A(2,[an]))})})(R,T))),R=>{R.push(new A(4,[Rn]))})($o);const Lo=$o;(Cr=(xr=kn(h.WorldObjects),Po=w(R=>T=>Vn(R[0],R[1],T[0],T[1]),R=>T=>Ft(R,T)),new Zt(w("Explosion",""),xr,(R,T)=>{try{return Po(R)(T)}catch(_e){throw _e}},(R,T)=>((_e,et)=>{let Ee,Re,Ie,ve,Te,De,ke;return te((Ee=void 0,Re=void 0,Ie=void 0,ve=void 0,Te=void 0,De=void 0,ke=void 0,ee(w("Explosion view",""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Ee??void 0,Re??void 0,Ie??void 0,ve??void 0,Te??void 0,De??void 0,ke??void 0)),cn=>{const an=zt(Yt("Explosion batchRenderer"),fn=>{ue(dn=>{let Oe,dt,Tt,ht,_t,mt,tt,nt,pt,Dt,gt,hn,kt;(Oe=dn,dt=Qs(Oe)|0,dt>=1?(Tt=te((ht=Oe.X*32,_t=Oe.Y*32,mt=Oe.Y*32+31,tt=void 0,nt=void 0,pt=void 0,Dt=void 0,gt=void 0,hn=void 0,kt=void 0,ee(w("Explosion3 holder",""),w(ht,0),w(_t,0),w(mt,0),w(void 0,0),w(void 0,0),tt??void 0,nt??void 0,pt??void 0,Dt??void 0,gt??void 0,hn??void 0,kt??void 0)),Xe=>{const rt=bt($e,"Explosion",dt,[0,0]);ut(rt,Xe),ce(Pe,rt)}),Xe=>{Xe.push(new A(0,[Tt]))}):Xe=>{})(fn)},et[0].Explosions)});cn.push(new A(2,[an]))})})(R,T))),R=>{R.push(new A(4,[Cr]))})(Lo);let Ho;const wl=kn(h.WorldObjects),yl=w(R=>T=>Vn(R[0],R[1],T[0],T[1]),R=>T=>Ft(R,T));Ho=new Zt(w("Bombs",""),wl,(R,T)=>{try{return yl(R)(T)}catch(_e){throw _e}},(R,T)=>((_e,et)=>{let Ee,Re,Ie,ve,Te,De,ke;return te((Ee=void 0,Re=void 0,Ie=void 0,ve=void 0,Te=void 0,De=void 0,ke=void 0,ee(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Ee??void 0,Re??void 0,Ie??void 0,ve??void 0,Te??void 0,De??void 0,ke??void 0)),cn=>{const an=zt(Yt("Bombs Renderer"),fn=>{ue(dn=>{let Oe,dt,Tt,ht,_t,mt,tt,nt,pt,Dt;const gt=dn,hn=te((Oe=gt.X*32,dt=gt.Y*32,Tt=gt.Y*32+31,ht=void 0,_t=void 0,mt=void 0,tt=void 0,nt=void 0,pt=void 0,Dt=void 0,ee(w(void 0,""),w(Oe,0),w(dt,0),w(Tt,0),w(void 0,0),w(void 0,0),ht??void 0,_t??void 0,mt??void 0,tt??void 0,nt??void 0,pt??void 0,Dt??void 0)),kt=>{let Xe,rt;(gt.Type.tag===1?(Xe=bt($e,"Builder",1,[0,0]),_n=>{ut(Xe,_n),ce(Pe,Xe)}):(rt=bt($e,"Bomb",1,[0,0]),_n=>{ut(rt,_n),ce(Pe,rt)}))(kt)});fn.push(new A(0,[hn]))},et[0].Bombs)});cn.push(new A(2,[an]))})})(R,T)),Lo.push(new A(4,[Ho]))});Fo.push(new A(0,[gl]))});at.push(new A(3,[Nt]))});me.push(new A(2,[Et]))});L.push(new A(2,[de]))}),L=>{L.push(new A(0,[M]))}))(l)})}function o_(e,t){return Uh(e,()=>G1(t),e_,s_)}class i_ extends k{constructor(t,n,r,s){super(),this.Texture=t,this.Rect=n,this.Offset=r,this.MetaData=s}}function u_(e){return ct("Imp.SpriteHelpers.Models.Layer`1",[e],i_,()=>[["Texture",rn],["Rect",Vf()],["Offset",Or()],["MetaData",e]])}class l_ extends k{constructor(t){super(),this.Layers=t}}function c_(e){return ct("Imp.SpriteHelpers.Models.Frame`1",[e],l_,()=>[["Layers",os(u_(e))]])}class a_ extends k{constructor(t,n){super(),this.Name=t,this.Frames=n}}function f_(e){return ct("Imp.SpriteHelpers.Models.SpriteInfo`1",[e],a_,()=>[["Name",rn],["Frames",os(c_(e))]])}let d_=_r(1);function h_(e){let t,n,r,s,o,i,u;return te((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,ee(w("Views.rootView",""),w(void 0,0),w(void 0,0),w(1,0),w(void 0,0),w(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),c=>{const l=o_("SmallWorld",e);c.push(new A(4,[l]))})}function __(){Pi(Pi()+1)}function m_(e,t){const n=Bh($e),r=e;r["Imp.Setup.DataManager.LoadString"]("sprites.json",s=>{const o=N(cl(we(dl(Fn(f_(os(rn))),hl,_l)),s));try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();n.set(i.Name,i);const u=i.Frames;for(let c=0;c<=u.length-1;c++){const l=V(c,u).Layers;for(let d=0;d<=l.length-1;d++)cc(V(d,l).Texture,Ku(r))}}}finally{K(o)}(()=>{t["Imp.Setup.Display.AttachInputZ2D84AEB6"](u=>{u.AttachKeyboard(),u.AttachGamepad(),u.AttachMouse()});const i=h_(e);t["Imp.Setup.Display.AttachView"](e,i,()=>{__()}),Ks(t),t["Imp.Setup.Display.Run"]()})()})}const p_=t0("data"),g_=s0("App",1920,1080);d_(2);m_(p_,g_);
