(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ke(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function cu(e){return e!=null&&typeof e.GetEnumerator=="function"}function au(e){return e!=null&&typeof e.CompareTo=="function"}function fu(e){return e!=null&&typeof e.Equals=="function"}function du(e){return e!=null&&typeof e.GetHashCode=="function"}function hu(e){return e!=null&&typeof e.Dispose=="function"}function ie(e){hu(e)&&e.Dispose()}function st(){return null}function lr(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class _u{constructor(t){this.iter=t,this.current=st()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function z(e){return cu(e)?e.GetEnumerator():new _u(e[Symbol.iterator]())}function _n(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class Vo{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function te(e,t){return e.toString(10).padStart(t,"0")}function Bs(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function pu(e,t){return e=e<0&&t!=null&&t!==10?65535+e+1:e,e.toString(t)}function It(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class kt{static id(t){return kt.idMap.has(t)||kt.idMap.set(t,++kt.count),kt.idMap.get(t)}}kt.idMap=new WeakMap;kt.count=0;function Mr(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function wt(e){return e*2654435761|0}function mu(e){return Mr(e.toString(32))}function Wn(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function gu(e){return e.getTime()}function wu(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=St(e[r]);return Wn(n)}function St(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return wt(e);case"bigint":return mu(e);case"string":return Mr(e);default:{if(du(e))return e.GetHashCode();if(Ke(e))return wu(e);if(e instanceof Date)return gu(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>St(n));return Wn(t)}else return wt(kt.id(e))}}}function qr(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Yt(e,t){return qr(e,t,me)}function yu(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!me(e[n[s]],t[r[s]]))return!1;return!0}function me(e,t){return e===t?!0:e==null?t==null:t==null?!1:fu(e)?e.Equals(t):Ke(e)?Ke(t)&&Yt(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&gs(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&yu(e,t)}function gs(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+Bs(e),r=t.getTime()+Bs(t)),n===r?0:n<r?-1:1}function Po(e,t){return e===t?0:e<t?-1:1}function bu(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function Bo(e,t){return bu(e,t,dt)}function Su(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=dt(e[i],t[i]),o!==0)return o}return 0}function dt(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:au(e)?e.CompareTo(t):Ke(e)?Ke(t)?Bo(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?gs(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?Su(e,t):-1}function Lo(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}function zr(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),o=r-s,i=1e-8,u=o>.5-i&&o<.5+i?s%2===0?s:s+1:Math.round(r);return t?u/n:u}function Ct(e){Ke(e)?e.splice(0):e.clear()}const $o=new WeakMap;function Ie(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return $o.set(t,e),t}function Cu(e){if(e==null)return null;const t=(n,r,s)=>e(n)(r)(s);return $o.set(t,e),t}function Mu(e,t,n,r,s){if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))n.set(e.subarray(t,t+s),r);else for(let o=0;o<s;++o)n[r+o]=e[t+o]}function Eu(e){let t=0,n="[";for(const r of e){if(t===0)n+=ot(r);else if(t===100){n+="; ...";break}else n+="; "+ot(r);t++}return n+"]"}function ot(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return Eu(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,s])=>r+" = "+ot(s,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function xu(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=ot(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>ot(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class Ve{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return xu(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>St(n));return t.splice(0,0,wt(this.tag)),Wn(t)}Equals(t){return this===t?!0:lr(this,t)&&this.tag===t.tag?Yt(this.fields,t.fields):!1}CompareTo(t){return this===t?0:lr(this,t)?this.tag===t.tag?Bo(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function Ru(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function ku(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+ot(n)).join(`
  `)+" }"}function Tu(e){const t=Object.values(e).map(n=>St(n));return Wn(t)}function vu(e,t){if(e===t)return!0;if(lr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!me(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function Du(e,t){if(e===t)return 0;if(lr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=dt(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class N{toJSON(){return Ru(this)}toString(){return ku(this)}GetHashCode(){return Tu(this)}Equals(t){return vu(this,t)}CompareTo(t){return Du(this,t)}}class he{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}class Iu{constructor(t){this.message=t}}function Fu(e){return e instanceof Iu||e instanceof Error}function Ou(e){return e instanceof Promise}function Ls(e){return Fu(e)||Ou(e)?e:new Error(String(e))}const pn=Symbol("numeric");function Ho(e){return typeof e=="number"||typeof e=="bigint"||e?.[pn]}function Au(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Jr(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[pn]().multiply(t)}function rr(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[pn]().toFixed(t)}function cr(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[pn]().toPrecision(t)}function ar(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[pn]().toExponential(t)}function fr(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[pn]().toHex()}class _t{constructor(t,n,r,s,o,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=o,this.cases=i,this.enumCases=u}toString(){return pe(this)}GetHashCode(){return Wo(this)}Equals(t){return Qr(this,t)}}function yt(e){return e.generics!=null?e.generics:[]}function Wo(e){const t=Mr(e.fullname),n=yt(e).map(Wo);return Wn([t,...n])}function Qr(e,t){return e.fullname===""?t.fullname===""&&qr(dr(e),dr(t),([n,r],[s,o])=>n===s&&Qr(r,o)):e.fullname===t.fullname&&qr(yt(e),yt(t),Qr)}function Un(e,t,n,r){return new _t(e,t,n,void 0,r)}function Vu(e){return new _t("Microsoft.FSharp.Collections.FSharpList`1",[e])}function ws(e){return new _t("[]",[e])}const Pu=new _t("System.Object"),ys=new _t("System.String"),en=new _t("System.Int32");function bs(e){if(Array.isArray(e))return e[0];if(e instanceof _t){const t=Er(e);if(t!=null)return bs(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function pe(e){const t=Er(e);return t!=null?pe(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>pe(n)).join(",")+"]"}function Bu(e){return Er(e)!=null}function Er(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function Lu(e){return e.generics!=null&&e.generics.length>0}function Uo(e){return e.enumCases!=null&&e.enumCases.length>0}function $u(e){return e.generics==null?e:new _t(e.fullname,e.generics.map(()=>Pu))}function Hu(e){return e.generics?.[0]}function qt(e){if(Uo(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function Wu(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function zt(e,t){const n=parseInt(t,10);return Wu(e,isNaN(n)?t:n)[1]}function Uu(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function dr(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function Nu(e){if(No(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function Yu(e){return e instanceof _t?e.cases!=null:e instanceof Ve}function Gu(e){return e instanceof _t?e.fields!=null:e instanceof N}function No(e){return e.fullname.startsWith("System.Tuple")}function Xu(e){return e.fields==null?[]:e.fields}function Zu(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function ju(e,t){const n=dr(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,o],i)=>(r[s]=t[i],r),{})}function Ku(e,t){return e}const Nt={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function $r(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function qu(e,t){switch(t){case Nt.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Nt.SnakeCase:return $r(e,"_");case Nt.SnakeCaseAllCaps:return $r(e,"_").toUpperCase();case Nt.KebabCase:return $r(e,"-");case Nt.None:default:return e}}function zu(e,t=Nt.None){const n={},r=t;function s(i){throw new Error("Cannot infer key and value of "+String(i))}function o(i,u,l){i=qu(i,u),n[i]=l}for(let i of e){let u=Nt.None;if(i==null&&s(i),i instanceof Ve){const l=i.cases()[i.tag];i=i.fields.length===0?l:[l].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:s(i);break;case 1:o(i[0],u,!0);break;case 2:const l=i[1];o(i[0],u,l);break;default:o(i[0],u,i.slice(1))}else typeof i=="string"?o(i,u,!0):s(i)}return n}function xr(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Ju(e,t){return t.has(e)?!1:(t.add(e),!0)}function Qu(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}class el extends N{constructor(t,n,r){super(),this.Pixels=t,this.Width=n,this.Height=r}}class Rr extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Rr.prototype)}}function tl(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Rr);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(n){t.onError(Ls(n))}});else try{e(t)}catch(n){t.onError(Ls(n))}}}class an{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return St(this.value)}Equals(t){return t==null?!1:me(this.value,t instanceof an?t.value:t)}CompareTo(t){return t==null?1:dt(this.value,t instanceof an?t.value:t)}}function R(e){if(e==null)throw new Error("Option has no value");return e instanceof an?e.value:e}function Re(e){return e==null||e instanceof an?new an(e):e}function Dn(e){return e==null?[]:[R(e)]}function w(e,t){return e!=null?R(e):t}function Yo(e,t){return t!=null?Re(e(R(t))):void 0}class Hr extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Choice1Of2","Choice2Of2"]}}function nl(e){return rl(t=>e.then(t[0]).catch(n=>(n instanceof Rr?t[2]:t[1])(n)))}function rl(e){return tl(t=>e([t.onSuccess,t.onError,t.onCancel]))}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function sl(e,t){return e===t}function Go(e,t){return e+t}function Xo(e){return BigInt(e)}function ol(e){return BigInt(Math.trunc(e))}function il(e){return BigInt(e)}function Nn(e){return BigInt.asIntN(64,e)}function $s(e){return Number(e)}const ul=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ll=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],cl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],al=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ge(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function Hs(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function fl(e,t){let n=t;const r=e[t];let s="",o=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){o=!0;break}else if(i==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=i}if(!o)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function Ss(e,t,n){let r=0,s=0,o="";const i=n?Vt(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(s=Ge(t,r,"d"),r+=s,s){case 1:o+=Us(i);break;case 2:o+=te(Us(i),2);break;case 3:o+=ul[Gs(i)];break;case 4:o+=ll[Gs(i)];break}break;case"f":if(s=Ge(t,r,"f"),r+=s,s<=3){const p=10**(3-s);o+=te(Math.floor(Kn(i)/p),s)}else s<=7&&(o+=(""+Kn(i)).padEnd(s,"0"));break;case"F":if(s=Ge(t,r,"F"),r+=s,s<=3){const p=10**(3-s),y=Math.floor(Kn(i)/p);y!=0&&(o+=te(y,s))}else if(s<=7){const p=Kn(i);p!=0&&(o+=te(p,3))}break;case"g":s=Ge(t,r,"g"),r+=s,s<=2&&(o+="A.D.");break;case"h":switch(s=Ge(t,r,"h"),r+=s,s){case 1:o+=jn(i)%12;break;case 2:o+=te(jn(i)%12,2);break}break;case"H":switch(s=Ge(t,r,"H"),r+=s,s){case 1:o+=jn(i);break;case 2:o+=te(jn(i),2);break}break;case"K":switch(s=Ge(t,r,"K"),r+=s,s){case 1:switch(Ws(i)){case 1:o+="Z";break;case 2:o+=sn(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=Ge(t,r,"m"),r+=s,s){case 1:o+=Ns(i);break;case 2:o+=te(Ns(i),2);break}break;case"M":switch(s=Ge(t,r,"M"),r+=s,s){case 1:o+=qn(i);break;case 2:o+=te(qn(i),2);break;case 3:o+=cl[qn(i)-1];break;case 4:o+=al[qn(i)-1];break}break;case"s":switch(s=Ge(t,r,"s"),r+=s,s){case 1:o+=Ys(i);break;case 2:o+=te(Ys(i),2);break}break;case"t":switch(s=Ge(t,r,"t"),r+=s,s){case 1:o+=i.getHours()<12?"A":"P";break;case 2:o+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(s=Ge(t,r,"y"),r+=s,s){case 1:o+=i.getFullYear()%100;break;case 2:o+=te(i.getFullYear()%100,2);break;case 3:o+=te(i.getFullYear(),3);break;case 4:o+=te(i.getFullYear(),4);break;case 5:o+=te(i.getFullYear(),5);break}break;case"z":s=Ge(t,r,"z"),r+=s;let l="";switch(Ws(i)){case 1:l="+00:00";break;case 2:l=sn(i.getTimezoneOffset()*-6e4);break;case 0:l=sn(bl(i).getTimezoneOffset()*-6e4);break}const c=l[0]==="-"?"-":"+",d=parseInt(l.substring(1,3),10),f=parseInt(l.substring(4,6),10);switch(s){case 1:o+=`${c}${d}`;break;case 2:o+=`${c}${te(d,2)}`;break;default:o+=`${c}${te(d,2)}:${te(f,2)}`;break}break;case":":o+=":",r++;break;case"/":o+="/",r++;break;case"'":case'"':const[h,_]=fl(t,r);o+=h,r+=_;break;case"%":const m=Hs(t,r);if(m>=0&&m!=="%".charCodeAt(0))r+=2,o+=Ss(i,String.fromCharCode(m),n);else throw new Error("Invalid format string");break;case"\\":const g=Hs(t,r);if(g>=0)r+=2,o+=String.fromCharCode(g);else throw new Error("Invalid format string");break;default:r++,o+=u;break}}return o}function Ws(e){return e.kind||0}function sn(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+te(n,2)+":"+te(r,2)}function hr(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function dl(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return te(e.getFullYear(),4)+"-"+te(e.getMonth()+1,2)+"-"+te(e.getDate(),2)+"T"+te(e.getHours(),2)+":"+te(e.getMinutes(),2)+":"+te(e.getSeconds(),2)+"."+te(e.getMilliseconds(),3)+(n?sn(e.getTimezoneOffset()*-6e4):"")}}function hl(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+sn(t)}function _l(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+sn(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return hr(n,"first");case"T":case"t":return hr(n,"second");case"O":case"o":return hl(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return Ss(n,t,!0)}function pl(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?hr(e,"first"):e.toLocaleDateString();case"T":case"t":return n?hr(e,"second"):e.toLocaleTimeString();case"O":case"o":return dl(e,n);default:throw new Error("Unrecognized Date print format")}else return Ss(e,t,n)}function Zo(e,t,n){return e.offset!=null?_l(e,t):pl(e,t)}function Vt(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function ml(){return Vt(-621355968e5,0)}function jo(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let o,i=0;if(s[2]!=null){const u=s[2].split(":"),l=parseInt(u[0],10);i=l*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&l<12&&(i+=720)}if(s[4]!=null){if(s[1]!=null)o=new Date(s[1]+" UTC");else{const u=new Date;o=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(s[4]==="Z")r="Z";else{let u=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(s[1]!=null)o=new Date(s[1]);else{const u=new Date;o=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(o.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-o.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function gl(e,t=!1){const[n,r]=jo(e),s=r!=null?t&&r==="Z"?1:2:0;return Vt(n.getTime(),s)}function wl(e,t){try{return t.contents=gl(e),!0}catch{return!1}}function Vn(){return Vt(Date.now(),1)}function yl(e){return e.kind===1?e:Vt(e.getTime(),1)}function bl(e){return e.kind===2?e:Vt(e.getTime(),2)}function Us(e){return e.kind===1?e.getUTCDate():e.getDate()}function jn(e){return e.kind===1?e.getUTCHours():e.getHours()}function Kn(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function Ns(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function qn(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function Ys(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function Gs(e){return e.kind===1?e.getUTCDay():e.getDay()}function Ko(e,t){const n=Vt(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?Vt(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function qo(e,t){return Ko(e,t)}function Sl(e,t){return typeof t=="number"?Ko(e,-t):e.getTime()-t.getTime()}const Cl=gs;function Ml(e,t){return Sl(e,t)}function El(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function xl(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Xs(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let s,o=-1;for(;(s=e.exec(t))!=null;)s.index===o?e.lastIndex++:(o=s.index,r.push(s));return r}function Rl(e,t,n,r,s=0){function o(){let i=arguments[0];if(r){r--;const u=[],l=arguments.length,c=typeof arguments[l-1]!="string";let d=c?l-3:l-2;for(let f=0;f<d;f++)u.push(arguments[f]);u.index=arguments[d++],u.input=arguments[d++],c&&(u.groups=arguments[d]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=El(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,s)+t.substring(s).replace(e,o);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(s),l=Xs(e,u),c=Xs.length>r?(i=l[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,s)+c.replace(e,n)+t.substring(s+c.length)}else return t.replace(e,n)}const Mn=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,En=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g,kl=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function zo(e,t){return Au(e,t)<0}function _r(e){return{input:e,cont:Il(e)}}function Tl(e,t){let n=0,r=0,s="";En.lastIndex=0;let o=En.exec(e);for(;o;){const i=o.index+(o[1]||"").length;s+=e.substring(r,i).replace(/%%/g,"%");const[,,u,l,c,d]=o;r=En.lastIndex,s+=Jo(t[n++],u,l,c,d),En.lastIndex=r-1,o=En.exec(e)}return s+=e.substring(r).replace(/%%/g,"%"),s}function Cs(e,t){return typeof t=="string"?e(t):t.cont(e)}function vl(e){return Cs(t=>console.log(t),e)}function pr(e){return Cs(t=>t,e)}function Dl(e){return Cs(t=>{throw new Error(t)},e)}function Jo(e,t,n,r,s){let o="";if(t=t||"",s=s||"",Ho(e))switch(s.toLowerCase()!=="x"&&(zo(e,0)?(e=Jr(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=rr(e,r);break;case"g":case"G":e=r!=null?cr(e,r):cr(e);break;case"e":case"E":e=r!=null?ar(e,r):ar(e);break;case"x":e=fr(e);break;case"X":e=fr(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=Zo(e):e=ot(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!i?" ":"0";l==="0"?(e=Pn(e,n-o.length,l,u),e=o+e):e=Pn(o+e,n,l,u)}return e}function Qo(e,t,n,r="",s=-1){return(...o)=>{let i=r;const u=t.slice(),l=n.slice();for(const c of o){const[,,d,f,h,_]=l[0];let m=f;if(s>=0)m=s,s=-1;else if(m==="*"){if(c<0)throw new Error("Non-negative number required");s=c;continue}i+=u[0],i+=Jo(c,d,m,h,_),u.splice(0,1),l.splice(0,1)}return l.length===0?(i+=u[0],e(i)):Qo(e,u,l,i,s)}}function Il(e){return t=>{Mn.lastIndex=0;const n=[],r=[];let s=0,o=Mn.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=Mn.lastIndex,Mn.lastIndex-=1,o=Mn.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),Qo(t,n,r))}}function Fl(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(kl,(r,s,o,i,u,l)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let c=t[s];if(Ho(c))switch(u=u==null?null:parseInt(u,10),i){case"f":case"F":u=u??2,c=rr(c,u);break;case"g":case"G":c=u!=null?cr(c,u):cr(c);break;case"e":case"E":c=u!=null?ar(c,u):ar(c);break;case"p":case"P":u=u??2,c=rr(Jr(c,100),u)+" %";break;case"d":case"D":c=u!=null?Wr(String(c),u,"0"):String(c);break;case"x":case"X":c=u!=null?Wr(fr(c),u,"0"):fr(c),i==="X"&&(c=c.toUpperCase());break;default:if(l){let d="";c=l.replace(/([0#,]+)(\.[0#]+)?/,(f,h,_)=>{zo(c,0)&&(c=Jr(c,-1),d="-"),_=_==null?"":_.substring(1),c=rr(c,Math.max(_.length,0));let[m,g]=c.split(".");g||(g="");const p=h.replace(/,/g,"").replace(/^#+/,"").length;m=Wr(m,p,"0");const y=_.replace(/#+$/,"").length;if(y>g.length?g=Ol(g,y,"0"):y<g.length&&(g=g.substring(0,y)+g.substring(y).replace(/0+$/,"")),h.indexOf(",")>0){const E=m.length%3,M=Math.floor(m.length/3);let T=E>0?m.substr(0,E)+(M>0?",":""):"";for(let v=0;v<M;v++)T+=m.substr(E+v*3,3)+(v<M-1?",":"");m=T}return g.length>0?m+"."+g:m}),c=d+c}}else c instanceof Date?c=Zo(c,l||i):c=ot(c);return o=parseInt((o||" ").substring(1),10),isNaN(o)||(c=Pn(String(c),Math.abs(o)," ",o<0)),c})}function kr(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function Pn(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function Wr(e,t,n){return Pn(e,t,n)}function Ol(e,t,n){return Pn(e,t,n,!0)}function Al(e,t){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.");return e[t]}function Vl(e,...t){if(t.length===0)return e.trim();const n="["+xl(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function Jt(e,t,n){if(t+(n||0)>e.length)throw new Error("Invalid startIndex and/or length");return n!=null?e.substr(t,n):e.substr(t)}const Pl="The index was outside the range of elements in the collection.",ei="Collection was empty.";function Tr(e,t){return typeof e=="function"?new e(t):new Array(t)}function fn(e,t){return e>t?e:t}function mr(e,t){return e<t?e:t}function Zs(e,t,n){const r=e.length|0,s=t.length|0,o=Tr(n,r+s);for(let i=0;i<=r-1;i++)Mt(o,i,O(i,e));for(let i=0;i<=s-1;i++)Mt(o,i+r,O(i,t));return o}function mn(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function Ms(e,t,n){const r=t.length|0,s=Tr(n,r);for(let o=0;o<=r-1;o++)Mt(s,o,e(O(o,t)));return s}function Bl(e,t,n,r,s){const o=w(n,0)|0,i=w(Yo(l=>o+l,r),e.length)|0;return(l=>{e:for(;;){const c=l;if(c>=i)return-1;if(s.Equals(t,O(c,e)))return c|0;l=c+1;continue e}})(o)|0}function Ll(e,t,n){return Bl(t,e,void 0,void 0,n)>=0}function $l(e,t){const n=Tr(t,1);return Mt(n,0,e),n}function js(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=Tr(n,e);for(let s=0;s<=e-1;s++)Mt(r,s,t(s));return r}function sr(e,t,n,r,s){Mu(e,t,n,r,s)}function Hl(e){return e.slice().reverse()}function Wl(e,t){t.push(e)}function Ft(e,t){const n=z(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)Wl(n["System.Collections.Generic.IEnumerator`1.get_Current"](),t)}finally{ie(n)}}function Ul(e,t){return t.find(e)}function vr(e,t,n){const r=e;return n.reduce(r,t)}function O(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function Mt(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function es(e,t){if(!(e<0||e>=t.length))return Re(t[e])}function Nl(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class qe extends N{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+kr("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const d=R(l),f=R(c);if(me(i.head,u.head)){s=d,o=f;continue e}else return!1}else return!1;else return c==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,u=s,l=o,c=l.tail;if(c!=null){const d=R(c);if(i>18)return u|0;r=i+1,s=(u<<1)+St(l.head)+631*i,o=d;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const d=R(l),f=R(c),h=dt(i.head,u.head)|0;if(h===0){s=d,o=f;continue e}else return h|0}else return 1;else return c!=null?-1:0}})(this,t)|0}GetEnumerator(){return Gl(this)}[Symbol.iterator](){return _n(z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return z(this)}}class Yl{constructor(t){this.xs=t,this.it=this.xs,this.current=st()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=R(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=st()}Dispose(){}}function Gl(e){return new Yl(e)}function ht(){return new qe(st(),void 0)}function Yn(e,t){return new qe(e,t)}function Gn(e){return e.tail==null}function ti(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=R(i);continue e}else return s|0}})(0,e)|0}function Dr(e){if(e.tail!=null)return e.head;throw new Error(ei+"\\nParameter name: list")}function Pt(e){const t=e.tail;if(t!=null)return R(t);throw new Error(ei+"\\nParameter name: list")}function Xl(e,t){return((r,s)=>{e:for(;;){const o=r,i=s,u=i.tail;if(u!=null){if(o===t)return i.head;r=o+1,s=R(u);continue e}else throw new Error(Pl+"\\nParameter name: index")}})(0,e)}function ze(){return ht()}function at(e,t){return Yn(e,t)}function $e(e){return Yn(e,ht())}function Z(e){return Gn(e)}function ni(e){return ti(e)}function P(e){return Dr(e)}function X(e){return Pt(e)}function Ir(e){const t=ti(e)|0,n=mn(new Array(t),0,t,null);return((s,o)=>{e:for(;;){const i=s,u=o;if(!Gn(u)){Mt(n,i,Dr(u)),s=i+1,o=Pt(u);continue e}break}})(0,e),n}function gn(e,t,n){let r=t,s=n;for(;!Gn(s);)r=e(r,P(s)),s=Pt(s);return r}function Es(e){return gn((t,n)=>Yn(n,t),ht(),e)}function Zl(e,t,n){return((s,o,i)=>{e:for(;;){const u=s,l=o,c=i;if(Gn(c))return l;s=u+1,o=e(u,l,Dr(c)),i=Pt(c);continue e}})(0,t,n)}function jl(e,t){gn((n,r)=>{e(r)},void 0,t)}function ne(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Yn(O(r,e),n);return n}function xs(e){return ne(e,ht())}function Kl(e){let t,n;if(Ke(e))return xs(e);if(e instanceof qe)return e;{const r=ht();let s=r;const o=z(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const l=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new qe(l,void 0),t.tail=n,n)}}finally{ie(o)}const i=s,u=ht();return i.tail=u,Pt(r)}}function ql(e){const t=ht();let n=t;const r=i=>{n=gn((u,l)=>{const c=new qe(l,void 0);return u.tail=c,c},n,i)};if(Ke(e))e.forEach(r);else if(e instanceof qe)jl(r,e);else{const i=z(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();)r(i["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{ie(i)}}const s=n,o=ht();return s.tail=o,Pt(t)}function ts(e,t){return gn((n,r)=>Yn(r,n),t,Es(e))}function zl(e,t){const n=ht(),r=Zl((o,i,u)=>{const l=new qe(e(o,u),void 0);return i.tail=l,l},n,t),s=ht();return r.tail=s,Pt(n)}function Jl(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(Gn(i))return;if(o===e)return Re(Dr(i));r=o+1,s=Pt(i);continue e}})(0,t)}function Ql(e,t){return Xl(t,e)}function ec(e){return new S(0,[e])}function ri(e){return new S(1,[e])}class S extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function Et(e,t){return t.tag===0?ec(e(t.fields[0])):ri(t.fields[0])}function tc(e,t){return t.tag===0?e(t.fields[0]):ri(t.fields[0])}class nc{constructor(){}}function rc(){return new nc}function sc(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function oc(e,t){return t.then(n=>n)}const Ks=rc();function ic(e){throw new Error(e)}const uc="Enumeration already finished.",lc="Enumeration has not started. Call MoveNext.",cc="Reset is not supported on this enumerator.";function ac(){throw new Error(cc)}function Rs(){throw new Error(lc)}function ns(){throw new Error(uc)}class fc{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=z(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+ot(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{ie(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return _n(z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function dc(e){return new fc(e)}class hc{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){ac()}Dispose(){this.dispose()}}function ks(e,t,n){return new hc(e,t,n)}function _c(e){let t,n,r=!1,s=!1,o;const i=()=>{if(s=!0,n!=null){const u=R(n);try{ie(u)}finally{n=void 0}}if(t!=null){const u=R(t);try{ie(u)}finally{t=void 0}}};return ks(()=>(r?s&&ns():Rs(),o!=null?R(o):ns()),()=>{let u;if(r||(r=!0),s)return!1;{let l;for(;l==null;){const c=t,d=n;if(c!=null)if(d!=null){const f=R(d);if(f["System.Collections.IEnumerator.MoveNext"]())o=Re(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),l=!0;else try{ie(f)}finally{n=void 0}}else{const f=R(c);f["System.Collections.IEnumerator.MoveNext"]()?n=(u=f["System.Collections.Generic.IEnumerator`1.get_Current"](),z(u)):(i(),l=!1)}else t=z(e)}return R(l)}},()=>{s||i()})}function pc(e,t,n){let r=!1,s,o=Re(e());const i=()=>{if(o!=null){const l=R(o);try{n(l)}finally{o=void 0}}},u=()=>{try{i()}finally{s=void 0}};return ks(()=>(r||Rs(),s!=null?R(s):ns()),()=>{if(r||(r=!0),o!=null){const l=R(o);let c;try{c=t(l)}catch(d){throw u(),d}return c!=null?(s=c,!0):(u(),!1)}else return!1},i)}function mc(e,t){let n,r=t;return ks(()=>{if(n!=null){const s=R(n)[0];return R(n)[1],s}else return Rs()},()=>(n=e(r),n!=null?(R(n)[0],r=R(n)[1],!0):!1),()=>{})}function gc(e,t){t==null&&ic(e)}function Fr(e){return dc(e)}function dn(e){return gc("source",e),z(e)}function re(e){return Fr(()=>z(e()))}function si(e){return Fr(()=>_c(e))}function oi(e,t){return Fr(()=>mc(e,t))}function Te(){return re(()=>new Array(0))}function ve(e){return re(()=>$l(e))}function ii(e){return e instanceof qe?Ir(e):Array.from(e)}function qs(e){return Ke(e)?xs(e):e instanceof qe?e:Kl(e)}function wc(e,t,n){return Fr(()=>pc(e,t,n))}function De(e,t){return si([e,t])}function yc(e,t,n){const r=dn(t);try{const s=dn(n);try{let o=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]();for(;o===0&&i&&u;)o=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,o===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]());return(o!==0?o:i?1:u?-1:0)|0}finally{ie(s)}}finally{ie(r)}}function Qt(e,t,n){const r=dn(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{ie(r)}}function ui(e,t){return si(oi(n=>e()?[t,n+1]:void 0,0))}function li(e,t,n){const r=dn(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{ie(r)}}function bc(e,t){if(Ke(t))return es(e,t);if(t instanceof qe)return Jl(e,t);{const n=dn(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(o===0)return Re(n["System.Collections.Generic.IEnumerator`1.get_Current"]());s=o-1;continue e}else return;break}})(e)}finally{ie(n)}}}function We(e,t){li((n,r)=>{e(r)},void 0,t)}function Tt(e,t){return wc(()=>dn(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?Re(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{ie(n)})}function Sc(e){return re(()=>Hl(ii(e)))}function Cc(e){return It(e.status)+" "+e.statusText+" for URL "+e.url}function Mc(e,t){return fetch(e,zu(t,1)).then(r=>{if(r.ok)return r;throw new Error(Cc(r))})}class ci{constructor(t,n){this.k=t,this.v=n}}function Bn(e,t){return new ci(e,t)}function de(e){return e.k}function Oe(e){return e.v}class ce extends ci{constructor(t,n,r,s,o){super(t,n),this.left=r,this.right=s,this.h=o|0}}function In(e,t,n,r,s){return new ce(e,t,n,r,s)}function Me(e){return e.left}function Ee(e){return e.right}function vt(e){return e.h}function ai(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=R(r);if(s instanceof ce){const o=s;e=ai(n+1,Me(o)),t=Ee(o);continue e}else return n+1|0}else return n|0}}function Ec(e){return ai(0,e)}function et(e,t,n,r){let s,o,i;const u=e;if(u!=null){const f=R(u);i=f instanceof ce?(s=f,vt(s)):1}else i=0;let l;const c=r;if(c!=null){const f=R(c);l=f instanceof ce?(o=f,vt(o)):1}else l=0;const d=(i<l?l:i)|0;return d===0?Bn(t,n):In(t,n,e,r,d+1)}function zs(e,t,n,r){let s,o,i,u,l,c,d,f,h;const _=e;if(_!=null){const p=R(_);h=p instanceof ce?(s=p,vt(s)):1}else h=0;let m;const g=r;if(g!=null){const p=R(g);m=p instanceof ce?(o=p,vt(o)):1}else m=0;if(m>h+2){const p=R(r);if(p instanceof ce){const y=p;if(i=Me(y),(i!=null?(u=R(i),u instanceof ce?(l=u,vt(l)):1):0)>h+1){const E=R(Me(y));if(E instanceof ce){const M=E;return et(et(e,t,n,Me(M)),de(M),Oe(M),et(Ee(M),de(y),Oe(y),Ee(y)))}else throw new Error("internal error: Map.rebalance")}else return et(et(e,t,n,Me(y)),de(y),Oe(y),Ee(y))}else throw new Error("internal error: Map.rebalance")}else if(h>m+2){const p=R(e);if(p instanceof ce){const y=p;if(c=Ee(y),(c!=null?(d=R(c),d instanceof ce?(f=d,vt(f)):1):0)>m+1){const E=R(Ee(y));if(E instanceof ce){const M=E;return et(et(Me(y),de(y),Oe(y),Me(M)),de(M),Oe(M),et(Ee(M),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return et(Me(y),de(y),Oe(y),et(Ee(y),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return et(e,t,n,r)}function hn(e,t,n,r){if(r!=null){const s=R(r),o=e.Compare(t,de(s))|0;if(s instanceof ce){const i=s;return o<0?zs(hn(e,t,n,Me(i)),de(i),Oe(i),Ee(i)):o===0?In(t,n,Me(i),Ee(i),vt(i)):zs(Me(i),de(i),Oe(i),hn(e,t,n,Ee(i)))}else return o<0?In(t,n,void 0,r,2):o===0?Bn(t,n):In(t,n,r,void 0,2)}else return Bn(t,n)}function fi(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=R(o),u=r.Compare(s,de(i))|0;if(u===0)return Re(Oe(i));if(i instanceof ce){const l=i;e=r,t=s,n=u<0?Me(l):Ee(l);continue e}else return}else return}}function xc(e,t,n){const r=fi(e,t,n);if(r==null)throw new Error;return R(r)}function Rc(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=R(o),u=r.Compare(s,de(i))|0;if(i instanceof ce){const l=i;if(u<0){e=r,t=s,n=Me(l);continue e}else{if(u===0)return!0;e=r,t=s,n=Ee(l);continue e}}else return u===0}else return!1}}function di(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=R(r);if(s instanceof ce){const o=s;di(n,Me(o)),n(de(o),Oe(o)),e=n,t=Ee(o);continue e}else n(de(s),Oe(s))}break}}function kc(e,t){di(e,t)}function rs(e,t){if(t!=null){const n=R(t);if(n instanceof ce){const r=n,s=rs(e,Me(r)),o=e(de(r),Oe(r)),i=rs(e,Ee(r));return In(de(r),o,s,i,vt(r))}else return Bn(de(n),e(de(n),Oe(n)))}else return void 0}function Tc(e,t){return rs(e,t)}function vc(e,t,n){let r=n;kc((s,o)=>{Mt(t,r,[s,o]),r=r+1|0},e)}function Dc(e,t){return gn((n,r)=>hn(e,r[0],r[1],n),void 0,t)}function Ic(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=hn(r,i[0],i[1],s),n=o;continue e}else return s}}function Fc(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=O(r,t);n=hn(e,s[0],s[1],n)}return n}function Oc(e,t){if(Ke(t))return Fc(e,t);if(t instanceof qe)return Dc(e,t);{const n=z(t);try{return Ic(e,void 0,n)}finally{ie(n)}}}class Ac extends N{constructor(t,n){super(),this.stack=t,this.started=n}}function hi(e){e:for(;;){const t=e;if(Z(t))return ze();{const n=X(t),r=P(t);if(r!=null){const s=R(r);if(s instanceof ce){const o=s;e=ne([Me(o),Bn(de(o),Oe(o)),Ee(o)],n);continue e}else return t}else{e=n;continue e}}}}function Js(e){return new Ac(hi($e(e)),!1)}function Vc(){throw new Error("enumeration not started")}function Pc(){throw new Error("enumeration already finished")}function Qs(e){if(e.started){const t=e.stack;if(Z(t))return Pc();if(P(t)!=null){const n=R(P(t));if(n instanceof ce)throw new Error("Please report error: Map iterator, unexpected stack for current");return[de(n),Oe(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return Vc()}function Bc(e){if(e.started){const t=e.stack;if(Z(t))return!1;if(P(t)!=null){if(R(P(t))instanceof ce)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=hi(X(t)),!Z(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!Z(e.stack)}function eo(e){let t=Js(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Qs(t)},"System.Collections.IEnumerator.get_Current"(){return Qs(t)},"System.Collections.IEnumerator.MoveNext"(){return Bc(t)},"System.Collections.IEnumerator.Reset"(){t=Js(e)},Dispose(){}}}class gr{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return Uc(this)|0}Equals(t){const n=this;if(t instanceof gr){const r=t,s=z(n);try{const o=z(r);try{const i=()=>{const u=s["System.Collections.IEnumerator.MoveNext"]();if(u===o["System.Collections.IEnumerator.MoveNext"]())if(u){const l=s["System.Collections.Generic.IEnumerator`1.get_Current"](),c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();return me(l[0],c[0])&&me(l[1],c[1])?i():!1}else return!0;else return!1};return i()}finally{ie(o)}}finally{ie(s)}}else return!1}toString(){return"map ["+kr("; ",Tt(n=>Fl("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return eo(this.tree)}[Symbol.iterator](){return _n(z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return eo(this.tree)}CompareTo(t){const n=this;if(t instanceof gr)return yc((s,o)=>{const i=n.comparer.Compare(s[0],o[0])|0;return(i!==0?i:dt(s[1],o[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return no(n,t[0])&&me(to(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){vc(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Ur(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Ur(this)|0}get size(){return Ur(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return Tt(n=>[n[0],n[1]],this)}get(t){return to(this,t)}has(t){return no(this,t)}keys(){return Tt(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return Tt(n=>n[1],this)}forEach(t,n){const r=this;We(s=>{t(s[1],s[0],r)},r)}}function Or(e,t){return new gr(e,t)}function Lc(e){return Or(e,void 0)}function $c(e,t,n){return Or(e.comparer,hn(e.comparer,t,n,e.tree))}function to(e,t){return xc(e.comparer,t,e.tree)}function Hc(e,t){return Or(e.comparer,Tc(t,e.tree))}function Ur(e){return Ec(e.tree)}function no(e,t){return Rc(e.comparer,t,e.tree)}function Wc(e,t){return fi(e.comparer,t,e.tree)}function Uc(e){const t=(s,o)=>(s<<1)+o+631;let n=0;const r=z(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,St(s[0]))|0,n=t(n,St(s[1]))|0}}finally{ie(r)}return n|0}function _i(e,t,n){return $c(n,e,t)}function Nc(e,t){return Wc(t,e)}function Yc(e,t){return Hc(t,e)}function Gc(e,t){return Or(t,Oc(t,e))}function pi(e){return Lc(e)}class Xc{constructor(t,n){this.contents=t,this.count=n|0}GetEnumerator(){const t=this;return z(re(()=>{let n=t.count-1;return ui(()=>n>=0,re(()=>De(ve(O(n,t.contents)),re(()=>(n=n-1|0,Te())))))}))}[Symbol.iterator](){return _n(z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return z(this)}}function Zc(e,t){return new Xc(e,t)}function jc(e){return Zc(mn(new Array(e),0,e,null),0)}function Ts(){return jc(4)}function Kc(e,t){const n=e.contents.length|0;if(t>n){const r=e.contents;e.contents=mn(new Array(fn(t,n*2)),0,fn(t,n*2),null),sr(r,0,e.contents,0,e.count)}}function mi(e){return e.count}function vs(e){return e.count=e.count-1|0,O(e.count,e.contents)}function qc(e,t){return e.count>0?(t.contents=vs(e),!0):!1}function Ds(e,t){Kc(e,e.count+1),e.contents[e.count]=t,e.count=e.count+1|0}class zc{constructor(t,n){this.contents=t,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return z(oa(this))}[Symbol.iterator](){return _n(z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return z(this)}}function Jc(e,t){return new zc(e,t)}function Qc(e){if(e<0)throw new Error("capacity is less than 0");return Jc(mn(new Array(e),0,e,null),0)}function ea(){return Qc(4)}function tn(e,t){e.count===Xt(e)&&sa(e,e.count+1),e.contents[e.tail]=t,e.tail=(e.tail+1)%Xt(e)|0,e.count=e.count+1|0}function ta(e){if(e.count===0)throw new Error("Queue is empty");const t=O(e.head,e.contents);return e.head=(e.head+1)%Xt(e)|0,e.count=e.count-1|0,t}function na(e,t){return e.count===0?!1:(t.contents=ta(e),!0)}function Xt(e){return e.contents.length}function ra(e,t){return(e.head+t)%Xt(e)}function sa(e,t){const n=mn(new Array(t),0,t,null);e.head<e.tail?sr(e.contents,e.head,n,0,e.count):(sr(e.contents,e.head,n,0,Xt(e)-e.head),sr(e.contents,0,n,Xt(e)-e.head,e.tail)),e.head=0,e.contents=n,e.tail=(e.count===Xt(e)?0:e.count)|0}function oa(e){return re(()=>{let t=0;return ui(()=>t<e.count,re(()=>De(ve(O(ra(e,t),e.contents)),re(()=>(t=t+1|0,Te())))))})}const ia=1e4;class ua{constructor(t,n){this.create=t,this.clean=n,this.items=Ts(),this.itemOut=0,this.total=0}}function la(e,t){return new ua(e,t)}function ca(e,t){if(e.total>ia)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,mi(e.items)>0?vs(e.items):(e.total=e.total+1|0,e.create(t))}function zn(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Ds(e.items,t)}class aa{constructor(t,n){this.create=t,this.clean=n,this.items=Ts(),this.itemOut=0,this.total=0}}function Ar(e,t){return new aa(e,t)}function rt(e){if(e.total>1e3)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,mi(e.items)>0?vs(e.items):(e.total=e.total+1|0,e.create())}function Ae(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Ds(e.items,t)}function fa(e,t){const n=t.getShaderParameter(e,t.COMPILE_STATUS);console.log(Re("Shader compiled successfully"),n);const r=t.getShaderInfoLog(e);console.log(Re("Shader compiler log: "),r)}function da(e,t){const n=t.getProgramInfoLog(e);console.log(Re("getProgramInfoLog: "),n)}function ro(e,t){t.compileShader(e),fa(e,t)}function ha(e,t,n){const r=n.createShader(35633);n.shaderSource(r,e),ro(r,n);const s=n.createShader(35632);n.shaderSource(s,t),ro(s,n);const o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,s),n.linkProgram(o),da(o,n),n.detachShader(o,r),n.detachShader(o,s),n.deleteShader(r),n.deleteShader(s),o}function _a(e,t){const n=(i,u)=>{e:for(;;){const l=i,c=u;if(!Z(l)){const d=P(l)[1];t.texSubImage3D(35866,0,0,0,c,d.Width,d.Height,1,6408,5121,d.Pixels),i=X(l),u=c+1;continue e}break}},r=t.createTexture();t.activeTexture(33984),t.bindTexture(35866,r);let s;if(s=(ni(e)|0)>>>0,Z(e))throw new Error("");{const i=P(e)[1];t.texStorage3D(35866,1,32856,i.Width,i.Height,s);const u=i;return t.texSubImage3D(35866,0,0,0,0,u.Width,u.Height,1,6408,5121,u.Pixels),n(X(e),1),t.texParameteri(35866,10242,10497),t.texParameteri(35866,10243,10497),t.texParameteri(35866,10241,9728),t.texParameteri(35866,10240,9728),[r,[i.Width,i.Height],new Map(zl((l,c)=>[c[0],l>>>0],e))]}}const kn=la(e=>e.createBuffer(),e=>{});function Tn(e,t){const n=ca(kn,t),r=Float32Array.from(e);return t.bindBuffer(34962,n),t.bufferData(34962,r,35044),t.bindBuffer(34962,st()),n}const pa=new Float32Array([0,1,0,0,1,1,1,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1]);class gi extends N{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Z=r|0}}class Le extends N{constructor(t,n){super(),this.X=t|0,this.Y=n|0}}function ma(){return Un("Imp.CommonModels.Point",[],Le,()=>[["X",en],["Y",en]])}class so extends N{constructor(t,n){super(),this.Width=t|0,this.Height=n|0}}class wi extends N{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Width=r|0,this.Height=s|0}}function ga(){return Un("Imp.CommonModels.Rect",[],wi,()=>[["X",en],["Y",en],["Width",en],["Height",en]])}function oo(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}function wa(e){return e*180/3.141592653589793}function io(e){return zr(e,8)}class Ln extends N{constructor(t,n){super(),this.Angle=t,this.Distance=n}}class ee extends N{constructor(t,n){super(),this.X=t,this.Y=n}}function ss(){return new Ln(0,0)}function wr(e,t){const n=t.X-e.X,r=t.Y-e.Y,s=(wa(Math.atan2(r,n))+450)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return new Ln(zr(s,8),zr(o,8))}function ya(e){const t=3.141592653589793*(e.Angle/180),n=e.Distance*Math.sin(t),r=0-e.Distance*Math.cos(t);return new ee(Math.abs(n)<1e-13?0:n,Math.abs(r)<1e-13?0:r)}function ba(e){return new Ln(e.Angle>315&&e.Angle<=360||e.Angle>=0&&e.Angle<45?0:e.Angle>=45&&e.Angle<=135?90:e.Angle>135&&e.Angle<225?180:270,e.Distance)}function Sa(e,t){return new ee(t.X+e.X,t.Y+e.Y)}function Ca(e,t){return new ee(e.X*t,e.Y*t)}function os(){return new ee(0,0)}function Ma(){return Ar(Ia,e=>{Ct(le(e)),Ct(Ce(e))})}const yi=new Vo(Ma);function Ea(){return Ts()}const bi=new Vo(Ea);class xa extends N{constructor(t,n,r){super(),this.Texture=t,this.Width=n,this.Height=r}}class Vr extends N{constructor(t,n,r,s,o,i,u){super(),this.Time=t,this.Resolution=n,this.Offset=r,this.VertexBuffer=s,this.TextureDetails=o,this.TextureLayer=i,this.ZRange=u}}class Ra{constructor(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.texture="",this.textureX=0,this.textureY=0,this.textureWidth=0,this.textureHeight=0,this.stateData=void 0}}function ka(){return new Ra}class Ta extends N{constructor(t,n,r,s,o,i,u,l,c,d,f,h,_){super(),this.Key=t,this.Elements=n,this.X=r|0,this.Y=s|0,this.Z=o|0,this.MouseMove=i,this.MouseEnter=u,this.MouseLeave=l,this.MouseUp=c,this.Width=d|0,this.Height=f|0,this.Blur=h,this.Input=_}}class Is extends N{constructor(t,n,r){super(),this.Key=t,this.Create=n,this.ViewItems=r}}class va extends N{constructor(t,n,r){super(),this.Key=t,this.Func=n,this.ViewItems=r}}class ft extends N{constructor(t,n,r,s){super(),this.Key=t,this.Prop=n,this.Compare=r,this.Build=s}}class A extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class Da{constructor(){this.current=[],this.last=[],this.key="",this.hasSprites=!1,this.hasRenderers=!1,this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.mouseMove=void 0,this.mouseOver=!1,this.mouseEnter=void 0,this.mouseLeave=void 0,this.mouseUp=void 0,this.blur=void 0,this.isActive=!1,this.hasMouseEvents=!1,this.hasInputEvents=!1,this.input=void 0}}function Ia(){return new Da}class Fs{constructor(t,n){this.f=n,this.isStale=!0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){}"Imp.DisplayModels.RendererBase.OnDistory"(){}}class Fa extends N{constructor(t,n,r,s){super(),this.Key=t,this.Renderer=n,this.RenderView=r,this.ParentRender=s}}class Oa extends N{constructor(t,n,r){super(),this.Key=t,this.RenderView=n,this.Callback=r}}class nn extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseMove","MouseButton","SyntheticMouseButton","Key","ControllerThumbstick","ControllerButton"]}}class Nr extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ControllerThumbstick","ControllerButton","Key"]}}class Aa extends N{constructor(t,n,r,s,o,i,u,l,c,d,f){super(),this.Key=t,this.Hooks=n,this.CurrentHook=r|0,this.IsStale=s,this.RenderView=o,this.CurrentProp=i,this.Build=u,this.Removed=l,this.ParentComponent=c,this.ParentRender=d,this.Id=f}}class xn extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class Va extends N{constructor(t){super(),this.Component=t}}class Pa{constructor(t,n,r){this.currentComponent=t,this.hookIndex=n|0,this.currentComponent.Hooks[this.hookIndex]=r}}function Si(e,t,n){return new Pa(e,t,n)}class Ci extends N{constructor(t,n,r){super(),this.Time=t,this.Call=n,this.Component=r}}class Yr extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Move","Up","SyntheticUp"]}}const Ba=yi.Value;function vn(e){const t=rt(yi.Value);return lf(t,e),t}function Mi(){return Ar(ka,e=>{})}function La(e){return e.x}function $a(e,t){e.x=t|0}function Ha(e){return e.y}function Wa(e,t){e.y=t|0}function Ua(e){return e.z}function Na(e,t){e.z=t|0}function Ya(e){return e.width}function Ga(e,t){e.width=t|0}function Xa(e){return e.height}function Za(e,t){e.height=t|0}function ja(e){return e.texture}function Ka(e,t){e.texture=t}function qa(e){return e.textureX}function za(e,t){e.textureX=t|0}function Ja(e){return e.textureY}function Qa(e,t){e.textureY=t|0}function ef(e){return e.textureWidth}function tf(e,t){e.textureWidth=t|0}function nf(e){return e.textureHeight}function rf(e,t){e.textureHeight=t|0}function sf(e,t){e.stateData=t}function of(e){Ae(Mi(),e)}function uf(e){return e.key}function lf(e,t){e.key=t}function is(e){return e.hasSprites}function $n(e,t){e.hasSprites=t}function us(e){return e.hasRenderers}function Pr(e,t){e.hasRenderers=t}function Ot(e){return e.x}function Ei(e,t){e.x=t|0}function At(e){return e.y}function xi(e,t){e.y=t|0}function Fn(e){return e.z}function Ri(e,t){e.z=t|0}function cf(e){return e.width}function ki(e,t){e.width=t|0}function af(e){return e.height}function Ti(e,t){e.height=t|0}function ls(e){return e.mouseMove}function vi(e,t){e.mouseMove=t}function uo(e){return e.mouseOver}function lo(e,t){e.mouseOver=t}function cs(e){return e.mouseEnter}function Di(e,t){e.mouseEnter=t}function as(e){return e.mouseLeave}function Ii(e,t){e.mouseLeave=t}function fs(e){return e.mouseUp}function Fi(e,t){e.mouseUp=t}function Oi(e){return e.blur}function Ai(e,t){e.blur=t}function le(e){return e.current}function Ce(e){return e.last}function yr(e){return e.hasMouseEvents}function Br(e,t){e.hasMouseEvents=t}function ds(e){return e.hasInputEvents}function Os(e,t){e.hasInputEvents=t}function Vi(e){return e.input}function Pi(e,t){e.input=t}function Bi(e){const t=e.last;e.last=e.current,e.current=t}function on(e,t){const n=t?Ce(e):le(e),r=n.length|0;for(let s=0;s<=r-1;s++){const o=n[s];if(o!=null){const i=o;switch(i.tag){case 0:{on(i.fields[0],!1);break}case 1:{of(i.fields[0]);break}case 3:{on(i.fields[0].RenderView,!1);break}case 4:{const u=i.fields[0];u.Removed=!0,on(u.RenderView,!1);break}default:hf(i.fields[0].Renderer)}}}t||Ae(Ba,e)}function ff(e){return e.isStale}function Li(e,t){e.isStale=t}function df(e,t){e.isStale&&e["Imp.DisplayModels.RendererBase.OnInit1E729EFC"](t),e["Imp.DisplayModels.RendererBase.OnRender1E729EFC"](t),e.isStale=!1}function hf(e,t){on(e.f,!1),e["Imp.DisplayModels.RendererBase.OnDistory"]()}const _f=bi.Value;function pf(e){Ds(bi.Value,e)}function Dt(e){return e.currentComponent.Hooks[e.hookIndex]}function be(e,t){const n=t(e.currentComponent.Hooks[e.hookIndex]);e.currentComponent.Hooks[e.hookIndex]=n,e.currentComponent.IsStale=!0,pf(e.currentComponent)}const He=Ar(()=>[],e=>{Ct(e)});class Xn{constructor(){}}function Zn(e){return rt(He)}class mf extends Xn{constructor(t,n,r,s,o,i,u,l,c,d,f,h){super(),this.key=t,this.x=n|0,this.y=r|0,this.z=s|0,this.width=o|0,this.height=i|0,this.mouseMove=u,this.mouseEnter=l,this.mouseLeave=c,this.mouseUp=d,this.blur=f,this.input=h}}function se(e,t,n,r,s,o,i,u,l,c,d,f){return new mf(e,t,n,r,s,o,i,u,l,c,d,f)}function oe(e,t){const n=Zn();return t(n),new Ta(e.key,n,e.x,e.y,e.z,e.mouseMove,e.mouseEnter,e.mouseLeave,e.mouseUp,e.width,e.height,e.blur,e.input)}class gf extends Xn{constructor(t,n){super(),this.name=t,this.func=n}}function $i(e,t){return new gf(e,t)}function Hi(e,t){const n=Zn();return t(n),new va(e.name,e.func,n)}function Fe(e,t,n,r,s,o,i,u,l,c,d){const f=rt(Mi());return $a(f,e),Wa(f,t),Na(f,n),Ga(f,r),Za(f,s),Ka(f,o),za(f,i),Qa(f,u),tf(f,c),rf(f,l),sf(f,d!=null?Re(R(d)):void 0),f}let Gr=0;function As(e,t){let n,r,s,o,i,u;Ei(e,t.X),xi(e,t.Y),Ri(e,t.Z),ki(e,t.Width),Ti(e,t.Height),vi(e,t.MouseMove),Di(e,t.MouseEnter),Ii(e,t.MouseLeave),Fi(e,t.MouseUp),Ai(e,t.Blur),Pi(e,t.Input),Br(e,yr(e)||(n=ls(e),n!=null)||(r=cs(e),r!=null)||(s=as(e),s!=null)||(o=fs(e),o!=null)?!0:(i=Oi(e),i!=null)),Os(e,ds(e)?!0:(u=Vi(e),u!=null))}function Xr(e){Ei(e,0),xi(e,0),Ri(e,0),ki(e,0),Ti(e,0),vi(e,void 0),Di(e,void 0),Ii(e,void 0),Fi(e,void 0),Ai(e,void 0),Br(e,!1),Pi(e,void 0),Os(e,!1)}function Jn(e,t){$n(e,is(e)?!0:is(t)),Pr(e,us(e)?!0:us(t)),Br(e,yr(e)?!0:yr(t)),Os(e,ds(e)?!0:ds(t))}function Wi(e,t,n,r,s,o){switch(r.tag){case 0:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<Ce(n).length;){const f=(h=>{let _,m;if(h!=null){const g=h;g.tag===0&&uf(g.fields[0])===i.Key?(_=0,m=g.fields[0]):_=1}else _=1;switch(_){case 0:return m;default:return}})(Ce(n)[d]);if(f!=null){const h=f;Ce(n)[d]=void 0,c=h}d=d+1|0}l=c,u=l??vn(i.Key),As(u,i),or(e,t,u,i.Elements,s,o),Jn(n,u),le(n).push(new xn(0,[u]));break}case 4:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<Ce(n).length;){const f=(h=>{let _,m;if(h!=null){const g=h;g.tag===4&&g.fields[0].Key===i.Key?(_=0,m=g.fields[0]):_=1}else _=1;switch(_){case 0:return m;default:return}})(Ce(n)[d]);if(f!=null){const h=f;Ce(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null){const f=l;i.Compare(f.CurrentProp,i.Prop)||(f.IsStale=!0),f.IsStale&&(f.CurrentProp=i.Prop),u=f}else{Gr=Gr+1|0;const f=vn(i.Key);Xr(f),u=new Aa(i.Key,[],0,!0,f,i.Prop,i.Build,!1,s,o,Nn(Xo(Gr)))}Ui(t,u),Jn(n,u.RenderView),Pr(n,!0),$n(n,!0),le(n).push(new xn(4,[u]));break}case 2:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<Ce(n).length;){const f=(h=>{let _,m;if(h!=null){const g=h;g.tag===2&&g.fields[0].Key===i.Key?(_=0,m=g.fields[0]):_=1}else _=1;switch(_){case 0:return m;default:return}})(Ce(n)[d]);if(f!=null){const h=f;Ce(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null){const f=l;e&&Li(f.Renderer,!0),u=f}else{const f=vn(i.Key);Xr(f),u=new Fa(i.Key,i.Create(t,f),f,o)}or(e,t,u.RenderView,i.ViewItems,s,u),Jn(n,u.RenderView),le(n).push(new xn(2,[u]));break}case 3:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<Ce(n).length;){const f=(h=>{let _,m;if(h!=null){const g=h;g.tag===3&&g.fields[0].Key===i.Key?(_=0,m=g.fields[0]):_=1}else _=1;switch(_){case 0:return m;default:return}})(Ce(n)[d]);if(f!=null){const h=f;Ce(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null)u=l;else{const f=vn(i.Key);Xr(f),u=new Oa(i.Key,f,i.Func)}or(e,t,u.RenderView,i.ViewItems,s,o),Jn(n,u.RenderView),le(n).push(new xn(3,[u]));break}default:le(n).push(new xn(1,[r.fields[0]])),$n(n,!0)}}function Ui(e,t){if(t.IsStale){t.IsStale=!1,t.CurrentHook=0;const n=t.Build(new Va(t),t.CurrentProp);As(t.RenderView,n),or(!0,e,t.RenderView,n.Elements,t.ParentComponent,t.ParentRender),(s=>{e:for(;;){const o=s;if(o!=null){const i=o;if(ff(i.Renderer)===!1){Li(i.Renderer,!0),s=i.ParentRender;continue e}}break}})(t.ParentRender)}}function or(e,t,n,r,s,o){Bi(n),Ct(le(n)),$n(n,!1),Pr(n,!1);for(let i=0;i<=r.length-1;i++)Wi(e,t,n,r[i],s,o);Ae(He,r),on(n,!0),Ct(Ce(n))}let Zr;function wf(e,t){const n=(r,s,o,i)=>{for(let u=0;u<=r.length-1;u++){const l=r[u];if(l!=null){const c=l;switch(c.tag){case 0:{const d=c.fields[0];is(d)&&n(le(d),s+Ot(d),o+At(d),i+Fn(d));break}case 3:{n(le(c.fields[0].RenderView),s,o,i);break}case 4:{const d=c.fields[0];n(le(d.RenderView),Ot(d.RenderView)+s,At(d.RenderView)+o,Fn(d.RenderView)+i);break}case 2:break;default:t([s,o,i],c.fields[0])}}}};n(le(e),Ot(e),At(e),Fn(e))}function un(e,t){let n;if(Ot(e)!==0||At(e)!==0||Fn(e)!==0){const r=t;n=new Vr(r.Time,r.Resolution,new gi(t.Offset.X+Ot(e),t.Offset.Y+At(e),t.Offset.Z+Fn(e)),r.VertexBuffer,r.TextureDetails,r.TextureLayer,r.ZRange)}else n=t;for(let r=0;r<=le(e).length-1;r++){const s=le(e)[r];if(s!=null){const o=s;switch(o.tag){case 0:{const i=o.fields[0];us(i)&&un(i,n);break}case 3:{const i=o.fields[0];un(i.RenderView,i.Callback(n));break}case 4:{un(o.fields[0].RenderView,n);break}case 1:break;default:df(o.fields[0].Renderer,n)}}}}function yf(e,t,n){Bi(e),Ct(le(e)),$n(e,!1),Pr(e,!1),As(e,n),Wi(!1,t,e,new A(0,[n]),void 0,void 0),on(e,!0),Ct(Ce(e))}let On=[],Qn=[];const Gt=ea();class bf extends Ve{constructor(){super(),this.tag=0,this.fields=[]}cases(){return["Up"]}}function Lr(e){let t;const n=e.Component.CurrentHook|0;return e.Component.CurrentHook=n+1|0,[n,(t=bc(n,e.Component.Hooks),t!=null?Re(R(t)):void 0)]}function Ni(e,t){const n=Lr(e),r=n[1];return Si(e.Component,n[0],r!=null?R(r):(e.Component.Hooks.push(t),t))}function br(e,t){let n;const r=Lr(e),s=r[1];return Si(e.Component,r[0],s!=null?R(s):(n=t(),e.Component.Hooks.push(n),n))}function Sf(e,t){Lr(e)[1]!=null||(t(),tn(Gt,new nn(2,[!0,e.Component.Id])),e.Component.Hooks.push(!0)),Br(e.Component.RenderView,!0)}function Yi(e,t,n){const r=Lr(e),s=r[1];s!=null?me(R(s),t)||(n(t),e.Component.Hooks[r[0]]=t):(n(t),e.Component.Hooks.push(t))}function Cf(e,t,n){On.push(new Ci(qo(Vn(),t),n,e.Component))}function Mf(e,t){On.push(new Ci(qo(Vn(),e),t,void 0))}function Ef(){let e;const t=On;On=Qn,Qn=t;const n=Vn();let r=z(Qn);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=()=>{Cl(n,s.Time)>=0?s.Call():On.push(s)},i=s.Component;if(i!=null){if(e=i,!e.Removed){const u=i;o()}}else o()}}finally{ie(r)}Ct(Qn)}function xf(e,t){Ef();const n=(i,u,l)=>{let c=!1;const d=(f,h,_,m)=>{for(let g=0;g<=h.length-1;g++){const p=h[g],y=(E,M)=>{let T,v,L,D,I;if(yr(M)){d(E,le(M),_+Ot(M),m+At(M));const $=()=>new wi(_+Ot(M),m+At(M),cf(M),af(M));switch(l.tag){case 1:{!c&&(T=fs(M),T!=null)&&oo($(),i,u)&&(Zr!=null&&R(Zr)(new Le(i,u)),(v=fs(M),R(v))(new Le(i,u)),c=!0,Zr=Oi(M));break}case 2:{if(sl(l.fields[0],E)){const k=$();tn(Gt,new nn(1,[!0,k.X,k.Y])),c=!0}break}default:!c&&(L=ls(M),(L!=null?!0:(D=cs(M),D!=null))?!0:(I=as(M),I!=null))&&(oo($(),i,u)?(uo(M)||We(k=>{k(new Le(i,u)),lo(M,!0)},Dn(cs(M))),We(k=>{k(new Le(i,u))},Dn(ls(M)))):uo(M)&&(We(k=>{k(new Le(i,u))},Dn(as(M))),lo(M,!1)))}}};if(p!=null){const E=p;switch(E.tag){case 0:{y(f,E.fields[0]);break}case 4:{const M=E.fields[0];y(M.Id,M.RenderView);break}case 3:{d(f,le(E.fields[0].RenderView),_,m);break}case 2:{const M=E.fields[0];d(f,le(M.RenderView),_+Ot(M.RenderView),m+At(M.RenderView));break}}}}};d(Nn(Xo(-1)),le(e),0,0)},r=i=>{let u=!1;const l=c=>{if(!u)for(let d=0;d<=c.length-1;d++){const f=c[d];if(f!=null){const h=f,_=m=>{l(le(m));const g=Vi(m);g!=null&&g(i)&&(u=!0)};switch(h.tag){case 4:{_(h.fields[0].RenderView);break}case 0:{_(h.fields[0]);break}case 3:{_(h.fields[0].RenderView);break}case 2:{_(h.fields[0].RenderView);break}}}}};l(le(e))},s=()=>{let i,u=st();if(i=[na(Gt,new he(()=>u,l=>{u=l})),u],i[0]){const l=i[1];switch(l.tag){case 1:{l.fields[0]&&n(l.fields[1],l.fields[2],new Yr(1,[]));break}case 2:{l.fields[0]&&n(0,0,new Yr(2,[l.fields[1]]));break}case 3:{r(new Nr(2,[l.fields[0],l.fields[1]]));break}case 4:{r(new Nr(0,[l.fields[0],l.fields[1]]));break}case 5:{r(new Nr(1,[l.fields[0],l.fields[1]]));break}default:n(l.fields[0],l.fields[1],new Yr(0,[]))}s()}};s();const o=()=>{let i,u=st();if(i=[qc(_f,new he(()=>u,l=>{u=l})),u],i[0]){const l=i[1];l.IsStale&&Ui(t,l),o()}};o()}function co(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return Rf(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function Rf(e){return Number(BigInt(e)/10000n)}function kf(e){return e/1e3}function Tf(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return co(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let s=0,o=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,l=+r[4],c=+r[5];if(r[3]!=null&&(s=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:o=+r[8]*100;break;case 2:o=+r[8]*10;break;case 3:o=+r[8];break;case 4:o=+r[8]/10;break;case 5:o=+r[8]/100;break;case 6:o=+r[8]/1e3;break;case 7:o=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*co(s,l,c,i,o)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function vf(e,t){try{return t.contents=Tf(e),!0}catch{return!1}}class Df{constructor(){this.textureNames=new Set([])}}function Gi(e){return e.textureNames}class If{constructor(){}}class Ff extends Df{constructor(t){super(),this.baseUrl=t}"Imp.Setup.DataManager.LoadTexture"(t,n){const r=this,s=document.createElement("img");s.onload=o=>{n(new el(s,s.width>>>0,s.height>>>0))},s.src=`${r.baseUrl}/${t}`}"Imp.Setup.DataManager.LoadString"(t,n){const r=this;nl(oc(Ks,sc(Ks,()=>Mc(`${r.baseUrl}/${t}`,ze()).then(s=>s.text().then(o=>(n(o),Promise.resolve()))))))}}function Of(e){return new Ff(e)}function Af(e,t,n,r,s){const o=[],i=qs(Gi(t)),u=()=>{if(o.length<ni(i)){const l=Ql(o.length,i);t["Imp.Setup.DataManager.LoadTexture"](`${l}.png`,c=>{o.push([l,c]),u()})}else{const l=_a(qs(o),e),c=l[1],d=new xa(l[0],c[0],c[1]);let f,h;f=p=>{let y;switch(h!=null?(h[1],h[0]===p?y=0:y=1):y=1,y){case 0:{const E=h[1];return h[0],E}default:{let E,M=0;if(E=[xr(l[2],p,new he(()=>M,T=>{M=T})),M],E[0]){const T=E[1];return h=[p,T],T}else return}}};const _=Tn(pa,e),m=Vn(),g=vn("Root");yf(g,e,n),s(p=>{We(y=>{y()},Dn(r)),un(g,new Vr(kf(Ml(Vn(),m)),p,new gi(0,0,0),_,d,f,[0,1]))},p=>{xf(g,e)})}};u()}class Vf extends If{constructor(t,n,r){super();let s,o,i,u;this.resolution=new so(0,0),this.tick=()=>{},this.canvas=(s=document.createElement("canvas"),o=document.getElementById(t),o.appendChild(s),i=n,u=r,this.resolution=new so(~~i,~~u),s.width=i,s.height=u,s)}"Imp.Setup.Display.AttachView"(t,n,r){const s=this;Af(s.canvas.getContext("webgl2",Re({premultipliedAlpha:!1})),t,n,r,(o,i)=>{s.tick=()=>{i(),o(s.resolution)}})}"Imp.Setup.Display.AttachInputZ2D84AEB6"(t){const n=this;t({AttachKeyboard(){window.addEventListener("keydown",r=>{const s=ao(n,r.code);s!=null&&tn(Gt,new nn(3,[!0,s]))}),window.addEventListener("keyup",r=>{const s=ao(n,r.code);s!=null&&tn(Gt,new nn(3,[!1,s]))})},AttachMouse(){window.addEventListener("mousemove",r=>{tn(Gt,new nn(0,[r.clientX,r.clientY]))}),window.addEventListener("mouseup",r=>{tn(Gt,new nn(1,[!0,r.clientX,r.clientY]))})},AttachGamepad(){}})}"Imp.Setup.Display.Run"(){const t=this,n=()=>{window.requestAnimationFrame(r=>{t.tick(),n()})};n()}}function Pf(e,t,n){return new Vf(e,t,n)}function ao(e,t){switch(t){case"KeyA":return 65;case"KeyB":return 66;case"KeyC":return 67;case"KeyD":return 68;case"KeyE":return 69;case"KeyF":return 70;case"KeyG":return 71;case"KeyH":return 72;case"KeyI":return 73;case"KeyJ":return 74;case"KeyK":return 75;case"KeyL":return 76;case"KeyM":return 77;case"KeyN":return 78;case"KeyO":return 79;case"KeyP":return 80;case"KeyQ":return 81;case"KeyR":return 82;case"KeyS":return 83;case"KeyT":return 84;case"KeyU":return 85;case"KeyV":return 86;case"KeyW":return 87;case"KeyX":return 88;case"KeyY":return 89;case"KeyZ":return 90;case"Digit0":return 48;case"Digit1":return 49;case"Digit2":return 50;case"Digit3":return 51;case"Digit4":return 52;case"Digit5":return 53;case"Digit6":return 54;case"Digit7":return 55;case"Digit8":return 56;case"Digit9":return 57;case"Space":return 32;case"ShiftLeft":return 340;case"ShiftRight":return 344;case"Backspace":return 259;case"Delete":return 261;case"Semicolon":return 59;case"ArrowLeft":return 263;case"ArrowRight":return 262;case"ArrowDown":return 264;case"ArrowUp":return 265;case"Backquote":return 96;case"Minus":return 45;case"Equal":return 61;case"BracketLeft":return 91;case"BracketRight":return 93;case"Backslash":return 92;case"Quote":return 39;case"Comma":return 44;case"Period":return 46;case"Slash":return 47;case"CapsLock":return 280;case"Tab":return 258;case"Enter":return 257;case"Escape":return 256;case"ControlLeft":return 341;case"ControlRight":return 345;case"AltLeft":return 342;case"AltRight":return 346;default:{vl(`Key: ${t}`);return}}}class Bf extends N{constructor(t,n,r){super(),this.R=t|0,this.G=n|0,this.B=r|0}}let Lf=class extends Fs{constructor(t,n,r){super(n,r),this.backgroundColor=t,this.gl=n,this.view=r}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this;n.gl.disable(3024),n.gl.enable(2884),n.gl.cullFace(1029),n.gl.frontFace(2304);const r=t.Resolution.Width>>>0,s=t.Resolution.Height>>>0;n.gl.viewport(0,0,r,s);const o=n.backgroundColor.R/255,i=n.backgroundColor.G/255,u=n.backgroundColor.B/255;n.gl.clearColor(o,i,u,1),n.gl.clearDepth(1);const l=16640;n.gl.clear(l),un(n.view,t)}};function $f(e,t,n){return new Lf(e,t,n)}class Hf extends Xn{constructor(t,n){super(),this.backgroundColor=t,this.key=n}}function Wf(e,t){return new Hf(e,t)}function Uf(e,t){const n=Zn();return t(n),new Is(e.key,(r,s)=>$f(e.backgroundColor,r,s),n)}function Nf(e,t){return Wf(e,w(t,""))}class Yf{constructor(t){let n,r,s,o,i,u,l,c,d,f,h,_,m,g,p,y,E,M,T,v,L,D,I,$,k,C,V,Y;this.gl=t;const x=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec3 offset;\r
in vec4 position;\r
in vec4 texturePosition;\r
in float textureLayer;\r
in float depth;\r
uniform vec2 depthRange;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec3 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec3(\r
            mix(vec2(0.0, 0.0), vec2(1.0, 1.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution),\r
            textureLayer);\r
\r
    float x = mix(-1.0, 1.0, (offset.x + position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (offset.y + position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
\r
    float minDepth = depthRange.x;\r
    float maxDepth = depthRange.y;\r
    float d = ((offset.z + depth) - minDepth) / (maxDepth - minDepth);\r
\r
    frag_depth = 1.0f - d;\r
}`,U=`#version 300 es\r
precision highp float;\r
\r
in vec3 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2DArray diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=ha(x,U,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.offsetLocation=(l=this.gl,c=this.program,l.getUniformLocation(c,"offset")),this.positionLocation=(d=(f=this.gl,h=this.program,f.getAttribLocation(h,"position")),d>>>0),this.texturePositionLocation=(_=(m=this.gl,g=this.program,m.getAttribLocation(g,"texturePosition")),_>>>0),this.textureLayerLocation=(p=(y=this.gl,E=this.program,y.getAttribLocation(E,"textureLayer")),p>>>0),this.depthLocation=(M=(T=this.gl,v=this.program,T.getAttribLocation(v,"depth")),M>>>0),this.depthRangeLocation=(L=this.gl,D=this.program,L.getUniformLocation(D,"depthRange")),this.outputResolutionLocation=(I=this.gl,$=this.program,I.getUniformLocation($,"outputResolution")),this.textureResolutionLocation=(k=this.gl,C=this.program,k.getUniformLocation(C,"textureResolution")),this.diffuseTextureLocation=(V=this.gl,Y=this.program,V.getUniformLocation(Y,"diffuseTexture"))}}function Gf(e){return new Yf(e)}function Xf(e){return e.program}function fo(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation),e.gl.enableVertexAttribArray(e.positionLocation),e.gl.enableVertexAttribArray(e.texturePositionLocation),e.gl.enableVertexAttribArray(e.textureLayerLocation),e.gl.enableVertexAttribArray(e.depthLocation))}function Zf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function jf(e,t,n,r){e.gl.uniform3f(e.offsetLocation,t,n,r)}function Kf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.positionLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.positionLocation,i)}function qf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.texturePositionLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.texturePositionLocation,i)}function zf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.textureLayerLocation,1,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.textureLayerLocation,i)}function Jf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.depthLocation,1,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.depthLocation,i)}function Qf(e,t,n){e.gl.uniform2f(e.depthRangeLocation,t,n)}function ed(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function td(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function nd(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(35866,t)}let er=Lo(void 0);function rd(e,t){let n;if(er()==null){const r=Gf(e);fo(r),t(r),er(r)}else{const r=er();me((n=e,n.getParameter(n.CURRENT_PROGRAM)),Xf(r))||(fo(r),t(r))}return R(er())}const Rt=Ar(()=>[],e=>{Ct(e)});class sd extends Fs{constructor(t,n){super(t,n),this.gl=t,this.view=n,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r,s;const o=this;ho(o);const i=rt(Rt),u=rt(Rt),l=rt(Rt),c=rt(Rt);wf(o.view,(d,f)=>{const h=f,_=i;_.push(La(h)+d[0]),_.push(Ha(h)+d[1]),_.push(Ya(h)),_.push(Xa(h));const m=f,g=l;g.push(qa(m)),g.push(Ja(m)),g.push(ef(m)),g.push(nf(m));const p=t.TextureLayer(ja(f));if(p!=null){const y=p;c.push(y)}u.push(Ua(f)+d[2])}),o.renderResult=(n=Tn(i,o.gl),r=Tn(l,o.gl),s=Tn(c,o.gl),{DepthBuffer:Tn(u,o.gl),PosBuffer:n,TextureBuffer:r,TextureLayer:s,TotalSprites:~~(i.length/4)}),Ae(Rt,i),Ae(Rt,l),Ae(Rt,c),Ae(Rt,u)}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=R(n.renderResult),s=t.Resolution.Width>>>0,o=t.Resolution.Height>>>0;n.gl.viewport(0,0,s,o),n.gl.enable(2929),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515);const i=rd(n.gl,c=>{Zf(c,t.VertexBuffer)});jf(i,t.Offset.X,t.Offset.Y,t.Offset.Z);const u=t.ZRange;Qf(i,u[0],u[1]),ed(i,t.Resolution.Width,t.Resolution.Height),td(i,t.TextureDetails.Width,t.TextureDetails.Height),nd(i,t.TextureDetails.Texture),zf(i,r.TextureLayer,1),Kf(i,r.PosBuffer,1),qf(i,r.TextureBuffer,1),Jf(i,r.DepthBuffer,1);const l=r.TotalSprites>>>0;n.gl.drawArraysInstanced(4,0,6,l)}"Imp.DisplayModels.RendererBase.OnDistory"(){ho(this)}}function od(e,t){return new sd(e,t)}function ho(e){We(t=>{zn(kn,t.PosBuffer),zn(kn,t.TextureBuffer),zn(kn,t.TextureLayer),zn(kn,t.DepthBuffer)},Dn(e.renderResult)),e.renderResult=void 0}class id extends Xn{constructor(t){super(),this.name=t}}function ud(e){return new id(e)}function ln(e,t){const n=Zn();return t(n),new Is(e.name,od,n)}function cn(e){return ud(w(e,""))}function ld(e,t,n,r){const s=dt(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const o=s>0;return i=>{const u=dt(i,t)|0;return o&&u<=0||!o&&u>=0?[i,r(i,e)]:void 0}}function cd(e,t,n,r,s){const o=ld(t,n,r,s);return re(()=>oi(o,e))}function Sr(e,t,n){return cd(e,t,n,0,(r,s)=>r+s)}class ad{constructor(){this.defaultFont="Font Small",this.sprites=new Map([])}}function fd(){return new ad}function Xi(e){return e.sprites}function wn(e,t){let n,r=st();if(n=[xr(e.sprites,t,new he(()=>r,s=>{r=s})),r],n[0])return n[1];throw new Error(`Can't find name ${t}`)}function Zi(e){return e.defaultFont}class gt extends N{constructor(t,n,r,s){super(),this.Value=t,this.Position=n|0,this.Active=r,this.Shift=s}}function An(e,t,n,r){let s,o;const i=O(n-1,wn(e,t).Frames),u=rt(He),l=i.Layers.length-1|0;for(let c=0;c<=l;c++){const d=O(c,i.Layers);u.push(new A(1,[(s=d,o=s,Fe(r[0]+o.Offset.X,r[1]+o.Offset.Y,0,s.Rect.Width,s.Rect.Height,o.Texture,o.Rect.X,o.Rect.Y,o.Rect.Height,o.Rect.Width))]))}return u}function dd(e,t){return O(0,O(0,wn(e,t).Frames).Layers)}function ji(e,t,n,r,s,o){let i,u,l,c,d,f;const h=_=>O(0,O(0,wn(e,o+"-"+_).Frames).Layers);return oe((i=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,se(w(void 0,""),w(n,0),w(t,0),w(void 0,0),w(void 0,0),w(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,d??void 0,f??void 0)),_=>{let m,g,p,y,E,M,T,v,L,D,I,$,k,C,V,Y,x,U,j;const ke=_,ae=h("TopLeft"),Se=h("Top"),ge=h("TopRight"),Je=h("Left"),it=h("Middle"),xt=h("Right"),pt=h("BottomLeft"),B=h("Bottom"),W=h("BottomRight"),we=r-ae.Rect.Width-ge.Rect.Width|0;(m=(g=ae,p=g,Fe(0+p.Offset.X,0+p.Offset.Y,0,g.Rect.Width,g.Rect.Height,p.Texture,p.Rect.X,p.Rect.Y,p.Rect.Height,p.Rect.Width)),ue=>{ue.push(new A(1,[m]))})(ke);const Ue=ke;(y=(E=Se,Fe(ae.Rect.Width+E.Offset.X,0+E.Offset.Y,0,we,Se.Rect.Height,E.Texture,E.Rect.X,E.Rect.Y,E.Rect.Height,E.Rect.Width)),ue=>{ue.push(new A(1,[y]))})(Ue);const Ne=Ue;(M=(T=ge,v=T,Fe(r-ge.Rect.Width+v.Offset.X,0+v.Offset.Y,0,T.Rect.Width,T.Rect.Height,v.Texture,v.Rect.X,v.Rect.Y,v.Rect.Height,v.Rect.Width)),ue=>{ue.push(new A(1,[M]))})(Ne);const Ye=Ne,fe=r-Je.Rect.Width-xt.Rect.Width|0,G=s-Se.Rect.Height-B.Rect.Height|0,K=ae.Rect.Height|0;(L=(D=Je,Fe(0+D.Offset.X,K+D.Offset.Y,0,Je.Rect.Width,G,D.Texture,D.Rect.X,D.Rect.Y,D.Rect.Height,D.Rect.Width)),ue=>{ue.push(new A(1,[L]))})(Ye);const _e=Ye;(I=($=it,Fe(ae.Rect.Width+$.Offset.X,K+$.Offset.Y,0,fe,G,$.Texture,$.Rect.X,$.Rect.Y,$.Rect.Height,$.Rect.Width)),ue=>{ue.push(new A(1,[I]))})(_e);const ut=_e;(k=(C=xt,Fe(r-ge.Rect.Width+C.Offset.X,K+C.Offset.Y,0,xt.Rect.Width,G,C.Texture,C.Rect.X,C.Rect.Y,C.Rect.Height,C.Rect.Width)),ue=>{ue.push(new A(1,[k]))})(ut);const jt=ut,bn=r-pt.Rect.Width-W.Rect.Width|0,Bt=s-B.Rect.Height|0;(V=(Y=pt,x=Y,Fe(0+x.Offset.X,Bt+x.Offset.Y,0,Y.Rect.Width,Y.Rect.Height,x.Texture,x.Rect.X,x.Rect.Y,x.Rect.Height,x.Rect.Width)),ue=>{ue.push(new A(1,[V]))})(jt);const Qe=jt;(U=(j=B,Fe(pt.Rect.Width+j.Offset.X,Bt+j.Offset.Y,0,bn,B.Rect.Height,j.Texture,j.Rect.X,j.Rect.Y,j.Rect.Height,j.Rect.Width)),ue=>{ue.push(new A(1,[U]))})(Qe);let lt;const mt=W,Pe=mt;lt=Fe(r-ge.Rect.Width+Pe.Offset.X,Bt+Pe.Offset.Y,0,mt.Rect.Width,mt.Rect.Height,Pe.Texture,Pe.Rect.X,Pe.Rect.Y,Pe.Rect.Height,Pe.Rect.Width),Qe.push(new A(1,[lt]))})}function hd(e,t,n,r,s,o){return i=>{let u,l,c,d,f,h;return oe((u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,h=void 0,se(w(o,""),w(t,0),w(n,0),w(void 0,0),w(void 0,0),w(void 0,0),u??void 0,l??void 0,c??void 0,d??void 0,f??void 0,h??void 0)),_=>{let m,g,p,y,E,M,T,v,L;const D=_;(m=ji(e,0,0,r,s,"Window"),C=>{C.push(new A(0,[m]))})(D);const I=D,$=dd(e,"Window Title");(g=(p=$,Fe(3+p.Offset.X,3+p.Offset.Y,0,r-6,$.Rect.Height,p.Texture,p.Rect.X,p.Rect.Y,p.Rect.Height,p.Rect.Width)),C=>{C.push(new A(1,[g]))})(I);const k=oe((y=void 0,E=void 0,M=void 0,T=void 0,v=void 0,L=void 0,se(w("Inner",""),w(4,0),w(24,0),w(void 0,0),w(void 0,0),w(void 0,0),y??void 0,E??void 0,M??void 0,T??void 0,v??void 0,L??void 0)),C=>{const V=i();C.push(new A(0,[V]))});I.push(new A(0,[k]))})}}function Zt(e,t,n,r,s){return o=>{let i,u,l,c,d,f;const h=w(n,Zi(e)),_=w(r,0)|0,m=w(s,0)|0;let g=0;return oe((i=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,se(w(t,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,d??void 0,f??void 0)),p=>{We(y=>{let E,M,T,v,L,D,I,$,k;(E=y,E===" "?(g=g+4|0,C=>{}):(M=E==="-"?"Minus":E===":"?void 0:E.toUpperCase(),M!=null?(T=O(1-1,wn(e,`${h}-${M}`).Frames),v=(L=(D=T,I=_+g|0,$=rt(He),k=D.Layers.length-1|0,(()=>{let C,V;for(let Y=0;Y<=k;Y++){const x=O(Y,D.Layers);$.push(new A(1,[(C=x,V=C,Fe(I+V.Offset.X,m+V.Offset.Y,0,C.Rect.Width,C.Rect.Height,V.Texture,V.Rect.X,V.Rect.Y,V.Rect.Height,V.Rect.Width))]))}})(),$),C=>{Ft(L,C),Ae(He,L)}),C=>{v(C),(g=g+O(0,T.Layers).Rect.Width+1|0,V=>{})(C)}):C=>{}))(p)},o.split(""))})}}function _d(e,t,n,r,s,o,i,u){let l,c,d,f,h,_;return oe((l=void 0,c=void 0,d=void 0,f=s,h=void 0,_=void 0,se(w(o,""),w(i,0),w(u,0),w(void 0,0),w(n,0),w(r,0),l??void 0,c??void 0,d??void 0,f??void 0,h??void 0,_??void 0)),m=>{let g;const p=m;(g=ji(e,0,0,n,r,"Button"),E=>{E.push(new A(0,[g]))})(p);const y=Zt(e,void 0,void 0,10,10)(t);p.push(new A(0,[y]))})}function pd(e,t,n,r,s,o){return i=>{let u,l,c,d,f,h;return oe((u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,h=void 0,se(w(r,""),w(s,0),w(o,0),w(void 0,0),w(void 0,0),w(void 0,0),u??void 0,l??void 0,c??void 0,d??void 0,f??void 0,h??void 0)),_=>{const m=(g=>{const p=w(void 0,()=>()=>me(a,b));return new ft(w(void 0,""),void 0,(y,E)=>{try{return p(void 0)(void 0)}catch(M){throw M}},(y,E)=>g(y)(void 0))})(g=>()=>(p=>{let y,E,M,T,v,L;const D=br(p,()=>new gt(i,i.length,!1,!1)),I=Dt(D),$=Zi(e);let k=0;return oe((y=void 0,E=void 0,M=void 0,T=C=>{be(D,V=>new gt(V.Value,V.Position,!0,V.Shift))},v=C=>{be(D,V=>new gt(V.Value,V.Position,!1,V.Shift))},L=C=>{if(I.Active){if(C.tag===2){const V=C.fields[0],Y=C.fields[1]|0;switch(Y){case 259:{if(V&&I.Position>0){const x=Jt(I.Value,0,I.Position-1),U=Jt(I.Value,I.Position);be(D,j=>new gt(x+U,j.Position-1,j.Active,j.Shift))}break}case 261:{if(V&&I.Position<I.Value.length){const x=Jt(I.Value,0,I.Position),U=Jt(I.Value,I.Position+1);be(D,j=>new gt(x+U,j.Position,j.Active,j.Shift))}break}case 262:{V&&be(D,x=>new gt(x.Value,mr(x.Value.length,x.Position+1),x.Active,x.Shift));break}case 263:{V&&be(D,x=>new gt(x.Value,fn(0,x.Position-1),x.Active,x.Shift));break}case 340:case 344:{be(D,x=>new gt(x.Value,x.Position,x.Active,V));break}default:if(V){const x=(U,j)=>{const ke=I.Shift?j:U,ae=I.Position|0,Se=Jt(I.Value,0,ae)+ke+Jt(I.Value,ae);be(D,ge=>new gt(Se,ae+1,ge.Active,ge.Shift))};switch(Y){case 32:{x(" "," ");break}case 39:{x("'","@");break}case 44:{x(",","<");break}case 46:{x(".",">");break}case 47:{x("/","?");break}case 48:{x("0",")");break}case 49:{x("1","!");break}case 50:{x("2",'"');break}case 51:{x("3","");break}case 52:{x("4","$");break}case 53:{x("5","%");break}case 54:{x("6","^");break}case 55:{x("7","&");break}case 56:{x("8","*");break}case 57:{x("9","(");break}case 59:{x(";",":");break}case 65:{x("a","A");break}case 66:{x("b","B");break}case 67:{x("c","C");break}case 68:{x("d","D");break}case 69:{x("e","E");break}case 70:{x("f","F");break}case 71:{x("g","G");break}case 72:{x("h","H");break}case 73:{x("i","I");break}case 74:{x("j","J");break}case 75:{x("k","K");break}case 76:{x("l","L");break}case 77:{x("m","M");break}case 78:{x("n","N");break}case 79:{x("o","O");break}case 80:{x("p","P");break}case 81:{x("q","Q");break}case 82:{x("r","R");break}case 83:{x("s","S");break}case 84:{x("t","T");break}case 85:{x("u","U");break}case 86:{x("v","V");break}case 87:{x("w","W");break}case 88:{x("x","X");break}case 89:{x("y","Y");break}case 90:{x("z","Z");break}}}}}return!0}else return!1},se(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(t,0),w(n,0),y??void 0,E??void 0,M??void 0,T??void 0,v??void 0,L??void 0)),C=>{We(V=>{let Y,x,U,j,ke,ae,Se,ge,Je,it,xt,pt,B,W,we,Ue;const Ne=C,Ye=V|0,fe=Al(I.Value,Ye);(fe===" "?(k=k+4|0,G=>{}):(Y=fe==='"'?"Double Quote":fe===","?"Comma":fe==="-"?"Minus":fe==="."?"Full Stop":fe===":"?void 0:fe==="?"?"Question Mark":fe==="@"?"At":fe.toUpperCase(),Y!=null?(x=Y,U=(j=st(),[xr(Xi(e),`${$}-${x}`,new he(()=>j,G=>{j=G})),j]),U[0]?(ke=O(0,U[1].Frames),ae=(Se=(ge=ke,Je=k|0,it=rt(He),xt=ge.Layers.length-1|0,(()=>{let G,K;for(let _e=0;_e<=xt;_e++){const ut=O(_e,ge.Layers);it.push(new A(1,[(G=ut,K=G,Fe(Je+K.Offset.X,0+K.Offset.Y,0,G.Rect.Width,G.Rect.Height,K.Texture,K.Rect.X,K.Rect.Y,K.Rect.Height,K.Rect.Width))]))}})(),it),G=>{Ft(Se,G),Ae(He,Se)}),G=>{ae(G),(k=k+O(0,ke.Layers).Rect.Width+1|0,K=>{})(G)}):G=>{}):G=>{}))(Ne),(I.Active&&Ye===I.Position-1?(pt=(B=O(0,wn(e,`${$}-Caret`).Frames),W=k-2|0,we=rt(He),Ue=B.Layers.length-1|0,(()=>{let G,K;for(let _e=0;_e<=Ue;_e++){const ut=O(_e,B.Layers);we.push(new A(1,[(G=ut,K=G,Fe(W+K.Offset.X,0+K.Offset.Y,0,G.Rect.Width,G.Rect.Height,K.Texture,K.Rect.X,K.Rect.Y,K.Rect.Height,K.Rect.Width))]))}})(),we),G=>{Ft(pt,G),Ae(He,pt)}):G=>{})(Ne)},Sr(0,1,I.Value.length-1))})})(g));_.push(new A(4,[m]))})}}const _o=10,xe=fd();let Cr=Lo(0);function Ki(e,t,n){be(t,r=>Cr()),Cr(0),Cf(e,1e3,()=>{Ki(e,t)})}function md(e){return(t=>{const n=w(void 0,()=>()=>me(a,b));return new ft(w(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u,l;return oe((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,l=void 0,se(w(void 0,""),w(400,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0,l??void 0)),c=>{let d,f;(d=Ni(n,0),Yi(n,void 0,()=>{Ki(n,d)}),f=Zt(xe,void 0,void 0,10,10)(pr(Tl("FPS: %d%P()",[Dt(d)]))),h=>{h.push(new A(0,[f]))})(c)})})(t))}function gd(e){return(t=>{const n=w(void 0,()=>()=>me(a,b));return new ft(w(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>hd(xe,10,150,300,200)(()=>{let r,s,o,i,u,l;return oe((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,l=void 0,se(w("Button Holder",""),w(10,0),w(10,0),w(void 0,0),w(void 0,0),w(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0,l??void 0)),c=>{let d,f;const h=c,_=Ni(n,!1);(d=_d(xe,"Click",80,32,m=>{be(_,g=>!g)},"Button"),m=>{m.push(new A(0,[d]))})(h),(Dt(_)?(f=Zt(xe,void 0,void 0,void 0,80)("ON"),m=>{m.push(new A(0,[f]))}):m=>{})(h)})}))(t))}function wd(e){return pd(xe,100,100,e,0,400)("SOME TEXT")}function yd(e){return(t=>{const n=w(void 0,()=>()=>me(a,b));return new ft(w(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u,l;const c=br(n,()=>$e("Nothing"));return oe((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,l=void 0,se(w(void 0,""),w(10,0),w(10,0),w(void 0,0),w(void 0,0),w(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0,l??void 0)),d=>{let f,h,_,m,g,p,y;const E=d;(f=Zt(xe)(P(Dt(c))),T=>{T.push(new A(0,[f]))})(E);const M=oe((h=void 0,_=T=>{be(c,v=>ts($e("Outer"),v))},m=T=>{be(c,v=>Z(v)?ze():X(v))},g=void 0,p=void 0,y=void 0,se(w("Outer",""),w(0,0),w(40,0),w(void 0,0),w(118,0),w(100,0),h??void 0,_??void 0,m??void 0,g??void 0,p??void 0,y??void 0)),T=>{let v,L,D,I,$,k,C;const V=T;(v=Zt(xe)("Outer"),x=>{x.push(new A(0,[v]))})(V);const Y=oe((L=void 0,D=x=>{be(c,U=>ts($e("Inner"),U))},I=x=>{be(c,U=>Z(U)?ze():X(U))},$=void 0,k=void 0,C=void 0,se(w("Inner",""),w(0,0),w(40,0),w(void 0,0),w(118,0),w(19,0),L??void 0,D??void 0,I??void 0,$??void 0,k??void 0,C??void 0)),x=>{const U=Zt(xe)("Inner");x.push(new A(0,[U]))});V.push(new A(0,[Y]))});E.push(new A(0,[M]))})})(t))}class bd extends N{constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}class Sd extends N{constructor(t,n,r){super(),this.X=t,this.Y=n,this.Radius=r}}function Cd(e,t){let n,r;const s=e.X+e.Width/2,o=e.Y+e.Height/2,i=Math.abs(t.X-s),u=Math.abs(t.Y-o);return i>e.Width/2+t.Radius||u>e.Height/2+t.Radius?!1:i<=e.Width/2||u<=e.Height/2?!0:(n=i-e.Width/2,Math.pow(n,2)+(r=u-e.Height/2,Math.pow(r,2))<=Math.pow(t.Radius,2))}function je(e,t){if(Math.abs(e+360-(t+360))<15)return Re(void 0)}function Md(e,t,n,r,s){const o=ya(r),i=l=>{if(!me(l,os())){const c=Sa(Ca(l,t),n),d=new Sd(c.X,c.Y,s),f=mr(~~Math.floor(n.X-s),~~Math.floor(c.X-s))|0,h=fn(~~Math.ceil(n.X+s),~~Math.ceil(c.X+s))|0,_=mr(~~Math.floor(n.Y-s),~~Math.floor(c.Y-s))|0,m=fn(~~Math.ceil(n.Y+s),~~Math.ceil(c.Y+s))|0;let g=!0;for(let p=f;p<=h;p++)for(let y=_;y<=m;y++)g&&!e(new Le(p,y))&&Cd(new bd(p,y,1,1),d)&&(g=!1);return g?c:void 0}},u=i(o);if(u!=null)return u;{let l;const c=(g,p)=>e(new Le(g,p)),d=g=>~~Math.floor(g),f=d(n.X)|0,h=d(n.Y)|0,_=io(n.X-f),m=io(n.Y-h);if(l==null){const g=i(new ee(o.X,0));if(g!=null){const p=g;wr(n,p).Distance>.2*t&&(l=p)}else{const p=i(new ee(0,o.Y));if(p!=null){const y=p;wr(n,y).Distance>.2*t&&(l=y)}}}if(l==null){const g=r.Angle;if(je(90,g)!=null){if(m>=.5&&c(f+1,h)){const p=i(new ee(0,-1));p!=null&&(l=p)}else if(m<=.5&&c(f+1,h)){const p=i(new ee(0,1));p!=null&&(l=p)}}else if(je(270,g)!=null){if(m>=.5&&c(f-1,h)){const p=i(new ee(0,-1));p!=null&&(l=p)}else if(m<=.5&&c(f-1,h)){const p=i(new ee(0,1));p!=null&&(l=p)}}else if(je(180,g)!=null){if(_>=.5&&c(f,h+1)){const p=i(new ee(-1,0));p!=null&&(l=p)}else if(_<=.5&&c(f,h+1)){const p=i(new ee(1,0));p!=null&&(l=p)}}else if(je(0,g)!=null){if(_>=.5&&c(f,h-1)){const p=i(new ee(-1,0));p!=null&&(l=p)}else if(_<=.5&&c(f,h-1)){const p=i(new ee(1,0));p!=null&&(l=p)}}}if(l==null){const g=r.Angle;let p;switch(je(90,g)!=null&&m<.4&&c(f,h-1)&&c(f+1,h-1)?p=0:p=1,p){case 0:{const y=i(new ee(0,-1));y!=null&&(l=y);break}case 1:{let y;switch(je(90,g)!=null&&m>.6&&c(f,h+1)&&c(f+1,h+1)?y=0:y=1,y){case 0:{const E=i(new ee(0,1));E!=null&&(l=E);break}case 1:{let E;switch(je(270,g)!=null&&m<.4&&c(f,h-1)&&c(f-1,h-1)?E=0:E=1,E){case 0:{const M=i(new ee(0,-1));M!=null&&(l=M);break}case 1:{let M;switch(je(270,g)!=null&&m>.6&&c(f,h+1)&&c(f-1,h+1)?M=0:M=1,M){case 0:{const T=i(new ee(0,1));T!=null&&(l=T);break}case 1:{let T;switch(je(180,g)!=null&&_<.4&&c(f-1,h)&&c(f-1,h+1)?T=0:T=1,T){case 0:{const v=i(new ee(-1,0));v!=null&&(l=v);break}case 1:{let v;switch(je(180,g)!=null&&_>.6&&c(f+1,h)&&c(f+1,h+1)?v=0:v=1,v){case 0:{const L=i(new ee(1,0));L!=null&&(l=L);break}case 1:{let L;switch(je(0,g)!=null&&_<.4&&c(f-1,h)&&c(f-1,h-1)?L=0:L=1,L){case 0:{const D=i(new ee(-1,0));D!=null&&(l=D);break}case 1:{let D;switch(je(0,g)!=null&&_>.6&&c(f+1,h)&&c(f+1,h-1)?D=0:D=1,D){case 0:{const I=i(new ee(1,0));I!=null&&(l=I);break}}break}}break}}break}}break}}break}}break}}break}}}return l??n}}function ye(){return ze()}function Ed(e,t,n,r){return(s=>{const o=w(void 0,()=>()=>me(a,b));return new ft(w(e,""),void 0,(i,u)=>{try{return o(void 0)(void 0)}catch(l){throw l}},(i,u)=>s(i)(void 0))})(s=>()=>(o=>{const i=br(o,()=>new Hr(0,[t()])),u=br(o,()=>d=>{}),l=d=>{Dt(u)(d)};Yi(o,void 0,()=>{let d;const f=Dt(i);if(f.tag===0)be(i,_=>new Hr(1,[f.fields[0][0]])),d=f.fields[0][1];else throw new Error("");be(u,_=>m=>{const g=Dt(i);if(g.tag===1){const p=n(m,g.fields[0]);be(i,E=>new Hr(1,[p[0]]));const y=z(p[1]);try{for(;y["System.Collections.IEnumerator.MoveNext"]();)y["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{ie(y)}}else throw new Error("")});const h=z(d);try{for(;h["System.Collections.IEnumerator.MoveNext"]();)h["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{ie(h)}});const c=Dt(i);if(c.tag===1)return r(c.fields[0],l);throw new Error("")})(s))}class xd extends Fs{constructor(t,n){super(t,n),this.view=n}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){un(this.view,t)}}function Rd(e,t){return new xd(e,t)}class kd extends Xn{constructor(t){super(),this.key=t}}function Td(e){return new kd(e)}function vd(e,t){const n=Zn();return t(n),new Is(e.key,Rd,n)}function Dd(e){return Td(w(e,""))}class Id extends N{constructor(t,n,r,s,o){super(),this.Up=t,this.Down=n,this.Left=r,this.Right=s,this.A=o}}class Fd extends N{constructor(t,n){super(),this.Thumbstick=t,this.Buttons=n}}class Be extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Gound","Wall","Cauldron"]}}class Od extends N{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Time=r,this.Delay=s}}function hs(e){let t;return fn(0,(t=e.Time-e.Delay,~~Math.floor(t)+1))}class Ad extends N{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Fuse=r}}class Vd extends N{constructor(t,n,r){super(),this.Explosions=t,this.Bombs=n,this.UpdateCounter=r}}function jr(e){e.UpdateCounter=Nn(Go(e.UpdateCounter,1n))}class Pd extends N{constructor(t,n,r){super(),this.Grid=t,this.WorldObjects=n,this.UpdateCounter=r}}class ir extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Normal","Bomb"]}}class Bd extends N{constructor(t,n,r,s,o,i){super(),this.Position=t,this.Angle=n,this.Tag=r,this.Frame=s,this.UpdateCounter=o,this.Mode=i}}function tr(e){e.UpdateCounter=Nn(Go(e.UpdateCounter,1n))}function _s(e){return[`Player-${e.Angle}-${e.Tag}`,~~e.Frame+1,~~(e.Position.X*32-16),~~(e.Position.Y*32-16)]}class Ld extends N{constructor(t){super(),this.Player1=t}}class ps extends N{constructor(t,n,r,s){super(),this.Controller=t,this.World=n,this.Players=r,this.IsActive=s}}class bt extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Noop","Input","Focus","Blur","Tick","GetBomb","DropBomb","Action"]}}function $d(){let e,t;const n=js(8,r=>js(8,s=>new Be(0,[])));return O(0,n)[0]=new Be(2,[]),O(1,n)[1]=new Be(1,[]),O(3,n)[1]=new Be(1,[]),O(1,n)[3]=new Be(1,[]),O(2,n)[3]=new Be(1,[]),O(3,n)[3]=new Be(1,[]),O(4,n)[3]=new Be(1,[]),O(5,n)[4]=new Be(1,[]),O(5,n)[5]=new Be(1,[]),O(5,n)[3]=new Be(1,[]),O(1,n)[5]=new Be(1,[]),O(2,n)[5]=new Be(1,[]),O(3,n)[5]=new Be(1,[]),[(e=new Pd(n,new Vd([],[],0n),0n),t=new Ld(new Bd(new ee(1.5,.5),"South","Idle",0,0n,new ir(0,[]))),new ps(new Fd(ss(),new Id(!1,!1,!1,!1,!1)),e,t,!0)),ql([$e(r=>{r(new bt(4,[]))})])]}function qi(e,t){const n=es(t.Y,e.World.Grid);if(n!=null)return es(t.X,n)}function Hd(e,t){const n=qi(e,t);return n!=null?n.tag===0:!1}function Wd(e,t){let n,r,s,o,i,u,l,c,d,f,h;switch(e.tag){case 4:{const _=t.Players.Player1,m=_s(_),g=k=>Hd(t,k);let p;const y=t.Controller.Buttons,E=t.Controller.Thumbstick;let M=ss(),T=0,v=0;if(y.Up&&(T=T-1),y.Down&&(T=T+1),y.Left&&(v=v-1),y.Right&&(v=v+1),(T!==0||v!==0)&&(M=new Ln(wr(os(),new ee(v,T)).Angle,1)),E.Distance>0&&(M=(n=E,new Ln(n.Angle,(k=>mr(k,1))(n.Distance)))),p=M,p.Distance>0){const k=_o/200;_.Position=Md(g,k,_.Position,p,.4),_.Angle=(r=ba(p).Angle,r===0?"North":r===90?"East":r===180?"South":"West"),p.Distance>0?(_.Tag="Run",_.Frame=(_.Frame+p.Distance*k*4)%8):(_.Tag="Idle",_.Frame=0)}else _.Tag!=="Idle"&&(_.Tag="Idle",_.Frame=0);Yt(_s(_),m)||tr(t.Players.Player1);const L=t.World.WorldObjects.Explosions;for(let k=0;k<=L.length-1;k++){const C=O(k,L),V=hs(C)|0;C.Time=C.Time+.2,V!==hs(C)&&jr(t.World.WorldObjects)}t.World.WorldObjects.Explosions.length>0&&(t.World.WorldObjects.Explosions=(s=t.World.WorldObjects.Explosions,s.filter(k=>k.Time-k.Delay<=13)));const D=(k,C)=>g(new Le(k,C)),I=(k,C,V)=>new Od(k,C,0,V),$=t.World.WorldObjects.Bombs;for(let k=0;k<=$.length-1;k++){const C=O(k,$);C.Fuse=C.Fuse-.1,C.Fuse<=0&&(jr(t.World.WorldObjects),t.World.WorldObjects.Explosions=Zs(t.World.WorldObjects.Explosions,ii(re(()=>{let V=!1,Y=!1,x=!1,U=!1;return D(C.X,C.Y)?De(ve(I(C.X,C.Y,0)),re(()=>De(D(C.X+1,C.Y)?De(ve(I(C.X+1,C.Y,2)),re(()=>(x=!0,D(C.X+2,C.Y)?ve(I(C.X+2,C.Y,4)):Te()))):Te(),re(()=>De(D(C.X-1,C.Y)?De(ve(I(C.X-1,C.Y,2)),re(()=>(U=!0,D(C.X-2,C.Y)?ve(I(C.X-2,C.Y,4)):Te()))):Te(),re(()=>De(D(C.X,C.Y+1)?De(ve(I(C.X,C.Y+1,2)),re(()=>(Y=!0,D(C.X,C.Y+2)?ve(I(C.X,C.Y+2,4)):Te()))):Te(),re(()=>De(D(C.X,C.Y-1)?De(ve(I(C.X,C.Y-1,2)),re(()=>(V=!0,D(C.X,C.Y-2)?ve(I(C.X,C.Y-2,4)):Te()))):Te(),re(()=>De(D(C.X+1,C.Y+1)&&Y&&x?ve(I(C.X+1,C.Y+1,4)):Te(),re(()=>De(D(C.X+1,C.Y-1)&&V&&x?ve(I(C.X+1,C.Y-1,4)):Te(),re(()=>De(D(C.X-1,C.Y+1)&&Y&&U?ve(I(C.X-1,C.Y+1,4)):Te(),re(()=>D(C.X-1,C.Y-1)&&V&&U?ve(I(C.X-1,C.Y-1,4)):Te())))))))))))))))):Te()}))))}return t.World.WorldObjects.Bombs.length>0&&(t.World.WorldObjects.Bombs=(o=t.World.WorldObjects.Bombs,o.filter(k=>k.Fuse>0))),[t,$e(k=>{Mf(_o,()=>{k((()=>new bt(4,[]))())})})]}case 1:{const _=e.fields[0];switch(_.tag){case 0:return t.Controller.Thumbstick=wr(os(),new ee(_.fields[0],_.fields[1])),[t,ye()];case 1:{const m=_.fields[0];switch(_.fields[1].tag){case 4:return t.Controller.Buttons.Left=m,[t,ye()];case 3:return t.Controller.Buttons.Down=m,[t,ye()];case 5:return t.Controller.Buttons.Right=m,[t,ye()];case 0:case 1:return m?[t,$e(p=>{p(new bt(7,[]))})]:[t,ye()];default:return t.Controller.Buttons.Up=m,[t,ye()]}}default:{const m=_.fields[0];switch(_.fields[1]|0){case 32:return m?[t,$e(p=>{p(new bt(7,[]))})]:[t,ye()];case 65:case 263:return t.Controller.Buttons.Left=m,[t,ye()];case 68:case 262:return t.Controller.Buttons.Right=m,[t,ye()];case 83:case 264:return t.Controller.Buttons.Down=m,[t,ye()];case 87:case 265:return t.Controller.Buttons.Up=m,[t,ye()];default:return[t,ye()]}}}}case 2:{const _=new ps(t.Controller,t.World,t.Players,!0);return tr(_.Players.Player1),[_,ye()]}case 3:{const _=new ps(t.Controller,t.World,t.Players,!1),m=_.Controller.Buttons;return m.Up=!1,m.Left=!1,m.Down=!1,m.Right=!1,m.A=!1,_.Controller.Thumbstick=ss(),[_,ye()]}case 7:return me(t.Players.Player1.Mode,new ir(0,[]))?[t,$e(_=>{_(new bt(5,[]))})]:[t,$e(_=>{_(new bt(6,[]))})];case 5:{const _=qi(t,(i=(u=t.Players.Player1.Position.X,~~Math.floor(u)|0),l=(c=t.Players.Player1.Position.Y,~~Math.floor(c)|0),d=t.Players.Player1.Angle,d==="North"?new Le(i,l-1):d==="South"?new Le(i,l+1):d==="East"?new Le(i+1,l):d==="West"?new Le(i-1,l):new Le(0,0)));let m;switch(_!=null&&_.tag===2?m=0:m=1,m){case 0:{t.Players.Player1.Mode=new ir(1,[]),tr(t.Players.Player1);break}}return[t,ye()]}case 6:{const _=t.Players.Player1,m=(f=_.Position.X,~~Math.floor(f)|0),g=(h=_.Position.Y,~~Math.floor(h)|0);return t.World.WorldObjects.Bombs=Zs(t.World.WorldObjects.Bombs,[new Ad(m,g,10)]),jr(t.World.WorldObjects),t.Players.Player1.Mode=new ir(0,[]),tr(t.Players.Player1),[t,ye()]}default:return[t,ye()]}}function nr(e,t,n,r){return me(t,r)}function Ud(e){let t,n,r,s,o,i;return oe((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0)),u=>{const l=ln(cn(),c=>{We(d=>{let f,h,_,m,g,p,y;const E=d|0,M=oe((f=E*32,h=void 0,_=void 0,m=void 0,g=void 0,p=void 0,y=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(f,0),w(void 0,0),w(void 0,0),h??void 0,_??void 0,m??void 0,g??void 0,p??void 0,y??void 0)),T=>{const v=O(E,e.Grid);We(L=>{let D,I,$;const k=T,C=L|0,V=O(C,v),Y=C*32|0,x=E*32|0;(D=An(xe,"Earth",1,[Y,x]),U=>{Ft(D,U),Ae(He,D)})(k),(V.tag===2?(I=An(xe,"Cauldron",1,[Y,x]),U=>{Ft(I,U),Ae(He,I)}):V.tag===0?U=>{}:($=An(xe,"Wall",1,[Y,x]),U=>{Ft($,U),Ae(He,$)}))(k)},Sr(0,1,v.length-1))});c.push(new A(0,[M]))},Sr(0,1,e.Grid.length-1))});u.push(new A(2,[l]))})}function Nd(e){let t,n,r,s,o,i,u;const l=_s(e),c=O(l[1]-1,wn(xe,l[0]).Frames);let d;return d=e.Mode.tag===1?"Bomb":"Normal",oe((t=~~((e.Position.Y+.4)*32),n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,se(w("Player",""),w(l[2],0),w(l[3],0),w(t,0),w(void 0,0),w(void 0,0),n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),h=>{const _=ln(cn("Player batchRenderer"),m=>{We(g=>{let p,y,E,M;(p=O(g,c.Layers),Ll(d,p.MetaData,{Equals:(T,v)=>T===v,GetHashCode:Mr})?(y=(E=p,M=E,Fe(0+M.Offset.X,0+M.Offset.Y,0,E.Rect.Width,E.Rect.Height,M.Texture,M.Rect.X,M.Rect.Y,M.Rect.Height,M.Rect.Width)),T=>{T.push(new A(1,[y]))}):T=>{})(m)},Sr(0,1,c.Layers.length-1))});h.push(new A(2,[_]))})}function Yd(e,t){let n,r,s,o,i,u,l,c;return oe((n=e.World.Grid.length*32,r=O(0,e.World.Grid).length*32,s=void 0,o=void 0,i=void 0,u=d=>{t(new bt(2,[]))},l=d=>{t(new bt(3,[]))},c=void 0,se(w("Small world root view",""),w(400,0),w(100,0),w(1,0),w(n,0),w(r,0),s??void 0,o??void 0,i??void 0,u??void 0,l??void 0,c??void 0)),d=>{const f=vd(Dd("worldRenderer"),h=>{const _=Hi($i(w("context",""),m=>{const g=m;return new Vr(g.Time,g.Resolution,g.Offset,g.VertexBuffer,g.TextureDetails,g.TextureLayer,[0,256])}),m=>{let g,p,y,E,M,T,v,L;const D=m;(g=(p=w(void 0,$=>k=>$===k),new ft(w("input",""),e.IsActive,($,k)=>{try{return p($)(k)}catch(C){throw C}},($,k)=>((C,V)=>{let Y,x,U,j,ke,ae;return Sf(C,()=>new bf),oe((Y=void 0,x=void 0,U=void 0,j=void 0,ke=void 0,ae=Se=>V?(t(new bt(1,[Se])),!0):!1,se(w("input view",""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Y??void 0,x??void 0,U??void 0,j??void 0,ke??void 0,ae??void 0)),Se=>{const ge=ln(cn("input batchRenderer"),Je=>{const it=Zt(xe,"input text label")(V?"Active":"Click on the world to activate");Je.push(new A(0,[it]))});Se.push(new A(2,[ge]))})})($,k))),$=>{$.push(new A(4,[g]))})(D);const I=oe((y=void 0,E=void 0,M=void 0,T=void 0,v=void 0,L=void 0,se(w("world holder",""),w(void 0,0),w(64,0),w(void 0,0),w(void 0,0),w(void 0,0),y??void 0,E??void 0,M??void 0,T??void 0,v??void 0,L??void 0)),$=>{let k,C,V,Y,x,U,j,ke,ae;const Se=$;(k=(C=[e.World,e.World.UpdateCounter],V=w(B=>W=>nr(B[0],B[1],W[0],W[1]),B=>W=>Yt(B,W)),new ft(w("world",""),C,(B,W)=>{try{return V(B)(W)}catch(we){throw we}},(B,W)=>((we,Ue)=>Ud(Ue[0]))(B,W))),B=>{B.push(new A(4,[k]))})(Se);const ge=Se;(Y=(x=[e.Players.Player1,e.Players.Player1.UpdateCounter],U=w(B=>W=>nr(B[0],B[1],W[0],W[1]),B=>W=>Yt(B,W)),new ft(w("player",""),x,(B,W)=>{try{return U(B)(W)}catch(we){throw we}},(B,W)=>((we,Ue)=>Nd(Ue[0]))(B,W))),B=>{B.push(new A(4,[Y]))})(ge);const Je=ge;(j=(ke=[e.World.WorldObjects.Explosions,e.World.WorldObjects.UpdateCounter],ae=w(B=>W=>nr(B[0],B[1],W[0],W[1]),B=>W=>Yt(B,W)),new ft(w("Explosion",""),ke,(B,W)=>{try{return ae(B)(W)}catch(we){throw we}},(B,W)=>((we,Ue)=>{let Ne,Ye,fe,G,K,_e;return oe((Ne=void 0,Ye=void 0,fe=void 0,G=void 0,K=void 0,_e=void 0,se(w("Explosion view",""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Ne??void 0,Ye??void 0,fe??void 0,G??void 0,K??void 0,_e??void 0)),ut=>{const jt=ln(cn("Explosion batchRenderer"),bn=>{We(Bt=>{let Qe,lt,mt,Pe,ue,Kt,Lt,$t,Ht,Wt,Sn,Cn;(Qe=Bt,lt=hs(Qe)|0,lt>=1&&lt<=12?(mt=oe((Pe=Qe.X*32,ue=Qe.Y*32,Kt=Qe.Y*32+31,Lt=void 0,$t=void 0,Ht=void 0,Wt=void 0,Sn=void 0,Cn=void 0,se(w("Explosion3 holder",""),w(Pe,0),w(ue,0),w(Kt,0),w(void 0,0),w(void 0,0),Lt??void 0,$t??void 0,Ht??void 0,Wt??void 0,Sn??void 0,Cn??void 0)),Ut=>{const Ps=An(xe,"Explosion3",lt,[0,0]);Ft(Ps,Ut),Ae(He,Ps)}),Ut=>{Ut.push(new A(0,[mt]))}):Ut=>{})(bn)},Ue[0])});ut.push(new A(2,[jt]))})})(B,W))),B=>{B.push(new A(4,[j]))})(Je);let it;const xt=[e.World.WorldObjects.Bombs,e.World.WorldObjects.UpdateCounter],pt=w(B=>W=>nr(B[0],B[1],W[0],W[1]),B=>W=>Yt(B,W));it=new ft(w("Bombs",""),xt,(B,W)=>{try{return pt(B)(W)}catch(we){throw we}},(B,W)=>((we,Ue)=>{let Ne,Ye,fe,G,K,_e;return oe((Ne=void 0,Ye=void 0,fe=void 0,G=void 0,K=void 0,_e=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Ne??void 0,Ye??void 0,fe??void 0,G??void 0,K??void 0,_e??void 0)),ut=>{const jt=ln(cn("Bombs Renderer"),bn=>{We(Bt=>{let Qe,lt,mt,Pe,ue,Kt,Lt,$t,Ht;const Wt=Bt,Sn=oe((Qe=Wt.X*32,lt=Wt.Y*32,mt=Wt.Y*32+31,Pe=void 0,ue=void 0,Kt=void 0,Lt=void 0,$t=void 0,Ht=void 0,se(w(void 0,""),w(Qe,0),w(lt,0),w(mt,0),w(void 0,0),w(void 0,0),Pe??void 0,ue??void 0,Kt??void 0,Lt??void 0,$t??void 0,Ht??void 0)),Cn=>{const Ut=An(xe,"Bomb",1,[0,0]);Ft(Ut,Cn),Ae(He,Ut)});bn.push(new A(0,[Sn]))},Ue[0])});ut.push(new A(2,[jt]))})})(B,W)),Je.push(new A(4,[it]))});D.push(new A(0,[I]))});h.push(new A(3,[_]))});d.push(new A(2,[f]))})}function Gd(e){return Ed(e,$d,Wd,Yd)}class F extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class zi extends Ve{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class Ji extends N{constructor(t,n){super(),this.Hash=t,this.Coders=n}}class Xd{constructor(){this.cache=new Map([])}}function Zd(){return new Xd}function jd(e,t,n){let r,s=st();if(r=[xr(e.cache,t,new he(()=>s,o=>{s=o})),s],r[0])return r[1];{const o=n();return Qu(e.cache,t,o),o}}const Kd=Zd();function po(e){return e.slice(void 0,0+1).toLowerCase()+e.slice(1,e.length)}function qd(e,t){switch(e.tag){case 2:return Rl(po(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return po(t)}}const zd=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,mo=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,Jd=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Qd(e){function t(r){return r.replace(mo,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(zd.test(n))return Vl(n,"{","}","(",")");if(mo.test(n))return t(n);if(Jd.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function e0(e,t){try{return t.contents=Qd(e),!0}catch{return!1}}function t0(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}var ms;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(ms||(ms={}));function n0(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function go(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function r0(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function s0(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function o0(e,t){if(t&ms.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function Qi(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||o0(o,t),!r0(n).test(i))return n0(s,n)}return null}function i0(e,t,n,r,s){const o=Qi(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[u,l]=go(!0,r);!n&&o.radix!==10&&i>=u&&i<=l&&(i=i<<32-r>>32-r);const[c,d]=go(n,r);if(i>=c&&i<=d)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function yn(e,t,n,r,s){try{return s.contents=i0(e,t,n,r),!0}catch{return!1}}function u0(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function l0(e,t,n,r,s){const o=Qi(e,t,s);if(o!=null){const i=(c,d)=>{const f=Math.max(c.length,d.length);return c.padStart(f,"0")<=d.padStart(f,"0")},u=o.sign==="-",l=u0(n||o.radix!==10,o.radix,u);if(i(o.digits.toUpperCase(),l))return e=s0(o.radix)+o.digits,e=u?o.sign+e:e,il(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function c0(e,t,n,r,s){try{return s.contents=l0(e,t,n,r),!0}catch{return!1}}function eu(e,t){a0(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function a0(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function f0(){return eu(-621355968e5,0)}function d0(e){const[t,n]=jo(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return eu(t.getTime(),r)}function h0(e,t){try{return t.contents=d0(e),!0}catch{return!1}}class tu{constructor(t){this.k=t}}function Xe(e){return new tu(e)}function H(e){return e.k}class q extends tu{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function Ze(e,t,n,r){return new q(e,t,n,r)}function Q(e){return e.left}function J(e){return e.right}function rn(e){return e.h}function nu(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=R(n);if(s instanceof q){const o=s;e=Q(o),t=nu(J(o),r+1);continue e}else return r+1|0}else return r|0}}function _0(e){return nu(e,0)}function tt(e,t,n){let r,s,o;const i=e;if(i!=null){const d=R(i);o=d instanceof q?(r=d,rn(r)):1}else o=0;let u;const l=n;if(l!=null){const d=R(l);u=d instanceof q?(s=d,rn(s)):1}else u=0;const c=(o<u?u:o)|0;return c===0?Xe(t):Ze(t,e,n,c+1)}function wo(e,t,n){let r,s,o,i,u,l,c,d,f;const h=e;if(h!=null){const g=R(h);f=g instanceof q?(r=g,rn(r)):1}else f=0;let _;const m=n;if(m!=null){const g=R(m);_=g instanceof q?(s=g,rn(s)):1}else _=0;if(_>f+2){const g=R(n);if(g instanceof q){const p=g;if(o=Q(p),(o!=null?(i=R(o),i instanceof q?(u=i,rn(u)):1):0)>f+1){const y=R(Q(p));if(y instanceof q){const E=y;return tt(tt(e,t,Q(E)),H(E),tt(J(E),H(p),J(p)))}else throw new Error("internal error: Set.rebalance")}else return tt(tt(e,t,Q(p)),H(p),J(p))}else throw new Error("internal error: Set.rebalance")}else if(f>_+2){const g=R(e);if(g instanceof q){const p=g;if(l=J(p),(l!=null?(c=R(l),c instanceof q?(d=c,rn(d)):1):0)>_+1){const y=R(J(p));if(y instanceof q){const E=y;return tt(tt(Q(p),H(p),Q(E)),H(E),tt(J(E),t,n))}else throw new Error("internal error: Set.rebalance")}else return tt(Q(p),H(p),tt(J(p),t,n))}else throw new Error("internal error: Set.rebalance")}else return tt(e,t,n)}function Hn(e,t,n){if(n!=null){const r=R(n),s=e.Compare(t,H(r))|0;if(r instanceof q){const o=r;return s<0?wo(Hn(e,t,Q(o)),H(o),J(o)):s===0?n:wo(Q(o),H(o),Hn(e,t,J(o)))}else{const o=e.Compare(t,H(r))|0;return o<0?Ze(t,void 0,n,2):o===0?n:Ze(t,n,void 0,2)}}else return Xe(t)}function ru(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=R(o),u=r.Compare(s,H(i))|0;if(i instanceof q){const l=i;if(u<0){e=r,t=s,n=Q(l);continue e}else{if(u===0)return!0;e=r,t=s,n=J(l);continue e}}else return u===0}else return!1}}function su(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=R(r);if(s instanceof q){const o=s;su(n,Q(o)),n(H(o)),e=n,t=J(o);continue e}else n(H(s))}break}}class p0 extends N{constructor(t,n){super(),this.stack=t,this.started=n}}function ou(e){e:for(;;){const t=e;if(Z(t))return ze();{const n=P(t),r=X(t);if(n!=null){const s=R(n);if(s instanceof q){const o=s;e=ne([Q(o),Xe(H(o)),J(o)],r);continue e}else return t}else{e=r;continue e}}}}function yo(e){return new p0(ou($e(e)),!1)}function m0(){throw new Error("Enumeration not started")}function g0(){throw new Error("Enumeration already started")}function bo(e){if(e.started){const t=e.stack;if(Z(t))return g0();if(P(t)!=null){const n=R(P(t));return H(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return m0()}function w0(e){if(e.started){const t=e.stack;if(Z(t))return!1;if(P(t)!=null){if(R(P(t))instanceof q)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=ou(X(t)),!Z(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!Z(e.stack)}function So(e){let t=yo(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return bo(t)},"System.Collections.IEnumerator.get_Current"(){return bo(t)},"System.Collections.IEnumerator.MoveNext"(){return w0(t)},"System.Collections.IEnumerator.Reset"(){t=yo(e)},Dispose(){}}}function y0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(Z(s))return Z(o)?0:-1;if(Z(o))return 1;if(P(o)!=null)if(P(s)!=null){const i=R(P(s)),u=R(P(o));if(i instanceof q){const l=i;if(Q(l)==null)if(u instanceof q){const c=u;if(Q(c)==null){const d=r.Compare(H(l),H(c))|0;if(d!==0)return d|0;e=r,t=at(J(l),X(s)),n=at(J(c),X(o));continue e}else{let d,f,h,_,m;switch(Z(s)?Z(o)?d=2:P(o)!=null?(d=1,_=X(o),m=R(P(o))):d=2:P(s)!=null?(d=0,f=X(s),h=R(P(s))):Z(o)?d=2:P(o)!=null?(d=1,_=X(o),m=R(P(o))):d=2,d){case 0:if(h instanceof q){const g=h;e=r,t=ne([Q(g),Ze(H(g),void 0,J(g),0)],f),n=o;continue e}else{e=r,t=ne([void 0,Xe(H(h))],f),n=o;continue e}case 1:if(m instanceof q){const g=m;e=r,t=s,n=ne([Q(g),Ze(H(g),void 0,J(g),0)],_);continue e}else{e=r,t=s,n=ne([void 0,Xe(H(m))],_);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(H(l),H(u))|0;if(c!==0)return c|0;e=r,t=at(J(l),X(s)),n=at(void 0,X(o));continue e}else{let c,d,f,h,_;switch(Z(s)?Z(o)?c=2:P(o)!=null?(c=1,h=X(o),_=R(P(o))):c=2:P(s)!=null?(c=0,d=X(s),f=R(P(s))):Z(o)?c=2:P(o)!=null?(c=1,h=X(o),_=R(P(o))):c=2,c){case 0:if(f instanceof q){const m=f;e=r,t=ne([Q(m),Ze(H(m),void 0,J(m),0)],d),n=o;continue e}else{e=r,t=ne([void 0,Xe(H(f))],d),n=o;continue e}case 1:if(_ instanceof q){const m=_;e=r,t=s,n=ne([Q(m),Ze(H(m),void 0,J(m),0)],h);continue e}else{e=r,t=s,n=ne([void 0,Xe(H(_))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof q){const l=u;if(Q(l)==null){const c=r.Compare(H(i),H(l))|0;if(c!==0)return c|0;e=r,t=at(void 0,X(s)),n=at(J(l),X(o));continue e}else{let c,d,f,h,_;switch(Z(s)?Z(o)?c=2:P(o)!=null?(c=1,h=X(o),_=R(P(o))):c=2:P(s)!=null?(c=0,d=X(s),f=R(P(s))):Z(o)?c=2:P(o)!=null?(c=1,h=X(o),_=R(P(o))):c=2,c){case 0:if(f instanceof q){const m=f;e=r,t=ne([Q(m),Ze(H(m),void 0,J(m),0)],d),n=o;continue e}else{e=r,t=ne([void 0,Xe(H(f))],d),n=o;continue e}case 1:if(_ instanceof q){const m=_;e=r,t=s,n=ne([Q(m),Ze(H(m),void 0,J(m),0)],h);continue e}else{e=r,t=s,n=ne([void 0,Xe(H(_))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(H(i),H(u))|0;if(l!==0)return l|0;e=r,t=X(s),n=X(o);continue e}}else{R(P(o));let i,u,l,c,d;switch(Z(s)?Z(o)?i=2:P(o)!=null?(i=1,c=X(o),d=R(P(o))):i=2:P(s)!=null?(i=0,u=X(s),l=R(P(s))):Z(o)?i=2:P(o)!=null?(i=1,c=X(o),d=R(P(o))):i=2,i){case 0:if(l instanceof q){const f=l;e=r,t=ne([Q(f),Ze(H(f),void 0,J(f),0)],u),n=o;continue e}else{e=r,t=ne([void 0,Xe(H(l))],u),n=o;continue e}case 1:if(d instanceof q){const f=d;e=r,t=s,n=ne([Q(f),Ze(H(f),void 0,J(f),0)],c);continue e}else{e=r,t=s,n=ne([void 0,Xe(H(d))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(P(s)!=null){R(P(s));let i,u,l,c,d;switch(Z(s)?Z(o)?i=2:P(o)!=null?(i=1,c=X(o),d=R(P(o))):i=2:P(s)!=null?(i=0,u=X(s),l=R(P(s))):Z(o)?i=2:P(o)!=null?(i=1,c=X(o),d=R(P(o))):i=2,i){case 0:if(l instanceof q){const f=l;e=r,t=ne([Q(f),Ze(H(f),void 0,J(f),0)],u),n=o;continue e}else{e=r,t=ne([void 0,Xe(H(l))],u),n=o;continue e}case 1:if(d instanceof q){const f=d;e=r,t=s,n=ne([Q(f),Ze(H(f),void 0,J(f),0)],c);continue e}else{e=r,t=s,n=ne([void 0,Xe(H(d))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=X(s),n=X(o);continue e}}}function Co(e,t,n){return t==null?n==null?0:-1:n==null?1:y0(e,$e(t),$e(n))|0}function b0(e,t,n){let r=n;su(s=>{Mt(t,r,s),r=r+1|0},e)}function S0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){e=r,t=Hn(r,o["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=o;continue e}else return s}}function C0(e,t){return vr((n,r)=>Hn(e,r,n),void 0,t)}function M0(e,t){return gn((n,r)=>Hn(e,r,n),void 0,t)}function E0(e,t){if(Ke(t))return C0(e,t);if(t instanceof qe)return M0(e,t);{const n=z(t);try{return S0(e,void 0,n)}finally{ie(n)}}}class Vs{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return k0(this)|0}Equals(t){let n;const r=this;return t instanceof Vs&&(n=t,Co(ur(r),ct(r),ct(n))===0)}toString(){return"set ["+kr("; ",Tt(n=>ot(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return Co(ur(n),ct(n),ct(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return ru(ur(n),t,ct(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){b0(ct(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Kr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Kr(this)|0}GetEnumerator(){return So(ct(this))}[Symbol.iterator](){return _n(z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return So(ct(this))}get size(){return Kr(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return R0(this,t)}keys(){return Tt(n=>n,this)}values(){return Tt(n=>n,this)}entries(){return Tt(n=>[n,n],this)}forEach(t,n){const r=this;We(s=>{t(s,s,r)},r)}}function x0(e,t){return new Vs(e,t)}function ur(e){return e.comparer}function ct(e){return e.tree}function Kr(e){return _0(ct(e))}function R0(e,t){return ru(ur(e),t,ct(e))}function k0(e){let t=0;const n=z(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+St(r)+631|0}}finally{ie(n)}return Math.abs(t)|0}function T0(e,t){return x0(t,E0(t,e))}function Rn(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function v0(e,t){const n=t.tag===2?Rn(t.fields[0],t.fields[1],!0):t.tag===1?Rn(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?Rn(t.fields[0],t.fields[1],!0):t.tag===4?Rn(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+kr(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:Rn(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function iu(e,t,n){const r=t(e,n);if(r.tag===1){const s=r.fields[0];return new S(1,[v0(s[0],s[1])])}else return new S(0,[r.fields[0]])}function D0(e,t){try{return iu("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new S(1,["Given an invalid JSON: "+n.message]);throw n}}function I0(e,t){const n=D0(e,t);if(n.tag===1)throw new Error(n.fields[0]);return n.fields[0]}function uu(e,t){return typeof t=="string"?new S(0,[t]):new S(1,[[e,new F(0,["a string",t])]])}function F0(e,t){if(typeof t=="string"){const n=t;return n.length===1?new S(0,[n[0]]):new S(1,[[e,new F(0,["a single character string",t])]])}else return new S(1,[[e,new F(0,["a char",t])]])}function O0(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[e0(t,new he(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new F(0,["a guid",t])]])}else return new S(1,[[e,new F(0,["a guid",t])]])}function A0(e,t){return t==null?new S(0,[void 0]):new S(1,[[e,new F(0,["null",t])]])}const Mo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-128<=s&&s<=127?new S(0,[(s+128&255)-128]):new S(1,[[n,new F(1,["a sbyte",s,"Value was either too large or too small for a sbyte"])]]):new S(1,[[n,new F(1,["a sbyte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[yn(r,511,!1,8,new he(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new F(0,["a sbyte",r])]])}else return new S(1,[[n,new F(0,["a sbyte",r])]])},Eo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=255?new S(0,[s&255]):new S(1,[[n,new F(1,["a byte",s,"Value was either too large or too small for a byte"])]]):new S(1,[[n,new F(1,["a byte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[yn(r,511,!0,8,new he(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new F(0,["a byte",r])]])}else return new S(1,[[n,new F(0,["a byte",r])]])},xo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-32768<=s&&s<=32767?new S(0,[(s+32768&65535)-32768]):new S(1,[[n,new F(1,["an int16",s,"Value was either too large or too small for an int16"])]]):new S(1,[[n,new F(1,["an int16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[yn(r,511,!1,16,new he(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new F(0,["an int16",r])]])}else return new S(1,[[n,new F(0,["an int16",r])]])},Ro=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=65535?new S(0,[s&65535]):new S(1,[[n,new F(1,["an uint16",s,"Value was either too large or too small for an uint16"])]]):new S(1,[[n,new F(1,["an uint16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[yn(r,511,!0,16,new he(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new F(0,["an uint16",r])]])}else return new S(1,[[n,new F(0,["an uint16",r])]])},ko=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-2147483648<=s&&s<=2147483647?new S(0,[~~s]):new S(1,[[n,new F(1,["an int",s,"Value was either too large or too small for an int"])]]):new S(1,[[n,new F(1,["an int",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[yn(r,511,!1,32,new he(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new F(0,["an int",r])]])}else return new S(1,[[n,new F(0,["an int",r])]])},To=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=4294967295?new S(0,[s>>>0]):new S(1,[[n,new F(1,["an uint32",s,"Value was either too large or too small for an uint32"])]]):new S(1,[[n,new F(1,["an uint32",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[yn(r,511,!0,32,new he(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new F(0,["an uint32",r])]])}else return new S(1,[[n,new F(0,["an uint32",r])]])},V0=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?$s(-9223372036854775808n)<=s&&s<=$s(9223372036854775807n)?new S(0,[Nn(ol(s))]):new S(1,[[n,new F(1,["an int64",s,"Value was either too large or too small for an int64"])]]):new S(1,[[n,new F(1,["an int64",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0n;return s=[c0(r,511,!1,64,new he(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new F(0,["an int64",r])]])}else return new S(1,[[n,new F(0,["an int64",r])]])};function P0(e,t){return typeof t=="boolean"?new S(0,[t]):new S(1,[[e,new F(0,["a boolean",t])]])}function B0(e,t){return typeof t=="number"?new S(0,[t]):new S(1,[[e,new F(0,["a float",t])]])}function L0(e,t){return typeof t=="number"?new S(0,[t]):new S(1,[[e,new F(0,["a float32",t])]])}function $0(e,t){if(typeof t=="string"){let n,r=ml();return n=[wl(t,new he(()=>r,s=>{r=s})),r],n[0]?new S(0,[yl(n[1])]):new S(1,[[e,new F(0,["a datetime",t])]])}else return new S(1,[[e,new F(0,["a datetime",t])]])}function H0(e,t){if(typeof t=="string"){let n,r=f0();return n=[h0(t,new he(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new F(0,["a datetimeoffset",t])]])}else return new S(1,[[e,new F(0,["a datetime",t])]])}function W0(e,t){if(typeof t=="string"){let n,r=0;return n=[vf(t,new he(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new F(0,["a timespan",t])]])}else return new S(1,[[e,new F(0,["a timespan",t])]])}function vo(e,t,n,r){let s;const o=n+".["+It(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(o,O(e,i)):new S(1,[[o,new F(5,["a longer array. Need index `"+It(e)+"` but there are only `"+(s=i.length,It(s))+"` entries",r])]])}else return new S(1,[[o,new F(0,["an array",r])]])}function U0(e,t,n){return n==null?new S(0,[void 0]):Et(Re,e(t,n))}function Do(e,t,n){if(Array.isArray(n)){let r=-1;return Et(Es,vr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+It(r)+"]",o);return i.tag===0?new S(0,[at(i.fields[0],s.fields[0])]):new S(1,[i.fields[0]])}else return s},new S(0,[ze()]),n))}else return new S(1,[[t,new F(0,["a list",n])]])}function N0(e,t,n){if(Array.isArray(n)){let r=-1;return Et(Sc,vr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+It(r)+"]",o);return i.tag===0?new S(0,[De([i.fields[0]],s.fields[0])]):new S(1,[i.fields[0]])}else return s},new S(0,[[]]),n))}else return new S(1,[[t,new F(0,["a seq",n])]])}function Io(e,t,n){if(Array.isArray(n)){let r=-1;const s=n;return vr((o,i)=>{if(r=r+1|0,o.tag===0){const u=o.fields[0],l=e(t+".["+It(r)+"]",i);return l.tag===0?(Mt(u,r,l.fields[0]),new S(0,[u])):new S(1,[l.fields[0]])}else return o},new S(0,[mn(new Array(s.length),0,s.length,null)]),s)}else return new S(1,[[t,new F(0,["an array",n])]])}function Y0(e,t,n){return((s,o)=>{e:for(;;){const i=s,u=o;if(Z(i))return new S(1,[[t,new F(7,[u])]]);{const l=iu(t,Ie(P(i)),n);if(l.tag===1){s=X(i),o=ts(u,$e(l.fields[0]));continue e}else return new S(0,[l.fields[0]])}}})(e,ze())}function G0(e,t,n){return new S(0,[e])}function Fo(e,t,n,r){const s=t(n,r);return s.tag===0?e(s.fields[0],n,r):new S(1,[s.fields[0]])}function X0(e,t,n,r){const s=t(n,r);return s.tag===1?new S(1,[s.fields[0]]):new S(0,[e(s.fields[0])])}function Z0(e,t){let n;const r=e;return n=s=>o=>vo(0,r,s,o),s=>o=>Fo(Cu(i=>{let u;const l=t;return u=c=>d=>vo(1,l,c,d),c=>d=>Fo((f,h,_)=>G0([i,f]),Ie(u),c,d)}),Ie(n),s,o)}function j0(e){return Gc(e,{Compare:dt})}function K0(e){return T0(e,{Compare:dt})}function q0(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?Nl((r,s)=>{const o=r[0];return s.tag===0?Et(i=>at(i,s.fields[0]),r[1](t+"."+o)(n[o])):s},e,new S(0,[ze()])):new S(1,[[t,new F(0,["an object",n])]])}function z0(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?li((s,o)=>{if(s.tag===0){const i=e(n,o);if(i.tag===0){const u=t(n+"."+o,r[o]);return u.tag===0?new S(0,[at([i.fields[0],u.fields[0]],s.fields[0])]):new S(1,[u.fields[0]])}else return new S(1,[i.fields[0]])}else return s},new S(0,[ze()]),Object.keys(r)):new S(1,[[n,new F(0,["an object",r])]])}function lu(e,t,n,r){let s;const o=t.length+e|0;if(o!==r.length)return new S(1,[[n,new F(6,[(s=r.length|0,pr(_r("Expected array of length %i but got %i"))(o)(s))])]]);{let i=new S(0,[ze()]);for(let u=e;u<=r.length-1;u++)if(i.tag===0){const l=i.fields[0],c=pr(_r("%s[%i]"))(n)(u),d=O(u-e,t),f=O(u,r);i=Et(h=>at(h,l),d(c)(f))}return Et(Es,i)}}function Oo(e,t,n,r,s,o){const i=Ul(u=>bs(u)===r,Uu(n));if(i!=null){const u=i,l=Ms(c=>nt(e,t,!1,c[1]),Xu(u));return Et(c=>Zu(u,Ir(c)),l.length===0&&o.length<=1?new S(0,[ze()]):lu(1,l,s,o))}else return new S(1,[[s,new F(6,["Cannot find case "+r+" in "+pe(n)])]])}function Ao(e,t,n,r){let s;const o=new he(st());let i;const u=pe(r);i=u===""?e:_i(u,o,e);let l;if(Gu(r)){const c=Ms(d=>[qd(t,bs(d)),nt(i,t,!1,d[1])],dr(r));l=d=>f=>Et(h=>ju(r,Ir(h)),q0(c,d,f))}else if(Yu(r))l=c=>d=>{if(typeof d=="string")return Oo(i,t,r,d,c,[]);if(Array.isArray(d)){const f=d;return tc(h=>Oo(i,t,r,h,c,f),uu(c+"[0]",O(0,f)))}else return new S(1,[[c,new F(0,["a string or array",d])]])};else if(n)l=c=>d=>new S(1,[[c,new F(2,["an extra coder for "+pe(r),d])]]);else throw new Error((s=pe(r),pr(_r(`Cannot generate auto decoder for %s. Please pass an extra decoder.

Documentation available at: https://thoth-org.github.io/Thoth.Json/documentation/auto/extra-coders.html#ready-to-use-extra-coders`))(s)));return o.contents=l,l}function nt(e,t,n,r){let s,o,i,u;const l=pe(r),c=Nc(l,e);if(c==null)if(Bu(r)){const d=nt(e,t,!1,Er(r));return f=>h=>Io(Ie(d),f,h)}else if(Uo(r))switch(pe(Hu(r))){case"System.SByte":return f=>h=>{const _=r,m=f,g=h,p=Mo(m)(g);if(p.tag===1)return new S(1,[p.fields[0]]);{const y=p.fields[0]|0;return Qt(y,qt(_),{Equals:(E,M)=>E===M,GetHashCode:wt})?new S(0,[zt(_,y.toString())]):new S(1,[[m,new F(1,[pe(_),g,"Unkown value provided for the enum"])]])}};case"System.Byte":return f=>h=>{const _=r,m=f,g=h,p=Eo(m)(g);if(p.tag===1)return new S(1,[p.fields[0]]);{const y=p.fields[0];return Qt(y,qt(_),{Equals:(E,M)=>E===M,GetHashCode:wt})?new S(0,[zt(_,y.toString())]):new S(1,[[m,new F(1,[pe(_),g,"Unkown value provided for the enum"])]])}};case"System.Int16":return f=>h=>{const _=r,m=f,g=h,p=xo(m)(g);if(p.tag===1)return new S(1,[p.fields[0]]);{const y=p.fields[0]|0;return Qt(y,qt(_),{Equals:(E,M)=>E===M,GetHashCode:wt})?new S(0,[zt(_,pu(y))]):new S(1,[[m,new F(1,[pe(_),g,"Unkown value provided for the enum"])]])}};case"System.UInt16":return f=>h=>{const _=r,m=f,g=h,p=Ro(m)(g);if(p.tag===1)return new S(1,[p.fields[0]]);{const y=p.fields[0];return Qt(y,qt(_),{Equals:(E,M)=>E===M,GetHashCode:wt})?new S(0,[zt(_,y.toString())]):new S(1,[[m,new F(1,[pe(_),g,"Unkown value provided for the enum"])]])}};case"System.Int32":return f=>h=>{const _=r,m=f,g=h,p=ko(m)(g);if(p.tag===1)return new S(1,[p.fields[0]]);{const y=p.fields[0]|0;return Qt(y,qt(_),{Equals:(E,M)=>E===M,GetHashCode:wt})?new S(0,[zt(_,It(y))]):new S(1,[[m,new F(1,[pe(_),g,"Unkown value provided for the enum"])]])}};case"System.UInt32":return f=>h=>{const _=r,m=f,g=h,p=To(m)(g);if(p.tag===1)return new S(1,[p.fields[0]]);{const y=p.fields[0];return Qt(y,qt(_),{Equals:(E,M)=>E===M,GetHashCode:wt})?new S(0,[zt(_,y.toString())]):new S(1,[[m,new F(1,[pe(_),g,"Unkown value provided for the enum"])]])}};default:{const f=pe(r),h=Dl(_r(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the following enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(f);return _=>h(_)}}else if(Lu(r))if(No(r)){const d=Ms(f=>nt(e,t,!1,f),Nu(r));return f=>h=>Array.isArray(h)?Et(_=>Ku(Ir(_)),lu(0,d,f,h)):new S(1,[[f,new F(0,["an array",h])]])}else switch(pe($u(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return s=nt(e,t,!0,O(0,yt(r))),f=>h=>U0(Ie(s),f,h);case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return o=nt(e,t,!1,O(0,yt(r))),f=>h=>Do(Ie(o),f,h);case"System.Collections.Generic.IEnumerable`1[System.Object]":return i=nt(e,t,!1,O(0,yt(r))),f=>h=>N0(Ie(i),f,h);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const f=nt(e,t,!1,O(0,yt(r))),h=nt(e,t,!1,O(1,yt(r)));let _;const m=xs([g=>p=>z0(Ie(f),Ie(h),g,p),(u=Z0(Ie(f),Ie(h)),g=>p=>Do(Ie(u),g,p))]);return _=g=>p=>Y0(m,g,p),g=>p=>X0(j0,Ie(_),g,p)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const f=nt(e,t,!1,O(0,yt(r)));return h=>_=>{const m=Io(Ie(f),h,_);return m.tag===0?new S(0,[K0(m.fields[0])]):new S(1,[m.fields[0]])}}default:return Ao(e,t,n,r)}else switch(l){case"System.Boolean":return d=>f=>P0(d,f);case"Microsoft.FSharp.Core.Unit":return d=>f=>A0(d,f);case"System.String":return d=>f=>uu(d,f);case"System.Char":return d=>f=>F0(d,f);case"System.SByte":return Mo;case"System.Byte":return Eo;case"System.Int16":return xo;case"System.UInt16":return Ro;case"System.Int32":return ko;case"System.UInt32":return To;case"System.Double":return d=>f=>B0(d,f);case"System.Single":return d=>f=>L0(d,f);case"System.DateTime":return d=>f=>$0(d,f);case"System.DateTimeOffset":return d=>f=>H0(d,f);case"System.TimeSpan":return d=>f=>W0(d,f);case"System.Guid":return d=>f=>O0(d,f);case"System.Object":return d=>f=>new S(0,[f]);default:return Ao(e,t,n,r)}else{const d=c;return f=>h=>d.contents(f)(h)}}function J0(e){return e!=null?Yc((t,n)=>new he(n[1]),e.Coders):pi({Compare:Po})}function Q0(e,t,n){let r,s;const o=w(t,new zi(0,[]));return jd(Kd,(r=(s=pe(e),ot(o)+s),w(Yo(i=>i.Hash,n),"")+r),()=>nt(J0(n),o,!1,e))}class eh extends N{constructor(t,n,r,s){super(),this.Texture=t,this.Rect=n,this.Offset=r,this.MetaData=s}}function th(e){return Un("Imp.SpriteHelpers.Models.Layer`1",[e],eh,()=>[["Texture",ys],["Rect",ga()],["Offset",ma()],["MetaData",e]])}class nh extends N{constructor(t){super(),this.Layers=t}}function rh(e){return Un("Imp.SpriteHelpers.Models.Frame`1",[e],nh,()=>[["Layers",ws(th(e))]])}class sh extends N{constructor(t,n){super(),this.Name=t,this.Frames=n}}function oh(e){return Un("Imp.SpriteHelpers.Models.SpriteInfo`1",[e],sh,()=>[["Name",ys],["Frames",ws(rh(e))]])}function ih(e){return String(e)}const uh=new Ji("",pi({Compare:Po})),lh=new zi(1,[]),ch=new Ji((()=>t0())(),_i("System.Int64",[ih,V0],uh.Coders));function ah(){let e,t,n,r,s,o;return oe((e=void 0,t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,se(w("Views.rootView",""),w(void 0,0),w(void 0,0),w(1,0),w(void 0,0),w(void 0,0),e??void 0,t??void 0,n??void 0,r??void 0,s??void 0,o??void 0)),i=>{const u=Hi($i(w(void 0,""),l=>{const c=l;return new Vr(c.Time,c.Resolution,c.Offset,c.VertexBuffer,c.TextureDetails,c.TextureLayer,[0,10])}),l=>{const c=Uf(Nf(new Bf(0,130,130),"sceneRenderer"),d=>{let f;const h=d;(f=ln(cn(),m=>{let g,p,y;const E=m;(g=md("FrameRate"),L=>{L.push(new A(4,[g]))})(E);const M=E;(p=gd("DemoWindow"),L=>{L.push(new A(4,[p]))})(M);const T=M;(y=yd("DemoMouse"),L=>{L.push(new A(4,[y]))})(T);const v=wd("DemoMouse");T.push(new A(0,[v]))}),m=>{m.push(new A(2,[f]))})(h);const _=Gd("SmallWorld");h.push(new A(4,[_]))});l.push(new A(2,[c]))});i.push(new A(3,[u]))})}function fh(){Cr(Cr()+1)}function dh(e,t){const n=Xi(xe),r=e;r["Imp.Setup.DataManager.LoadString"]("sprites.json",s=>{const o=z(I0(Ie(Q0(Vu(oh(ws(ys))),lh,ch)),s));try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();n.set(i.Name,i);const u=i.Frames;for(let l=0;l<=u.length-1;l++){const c=O(l,u).Layers;for(let d=0;d<=c.length-1;d++)Ju(O(d,c).Texture,Gi(r))}}}finally{ie(o)}(()=>{t["Imp.Setup.Display.AttachInputZ2D84AEB6"](u=>{u.AttachKeyboard(),u.AttachGamepad(),u.AttachMouse()});const i=ah();t["Imp.Setup.Display.AttachView"](e,i,()=>{fh()}),t["Imp.Setup.Display.Run"]()})()})}const hh=Of("data"),_h=Pf("App",800,600);dh(hh,_h);
