(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ve(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function ju(e){return e!=null&&typeof e.GetEnumerator=="function"}function Xu(e){return e!=null&&typeof e.CompareTo=="function"}function Ku(e){return e!=null&&typeof e.Equals=="function"}function zu(e){return e!=null&&typeof e.GetHashCode=="function"}function qu(e){return e!=null&&typeof e.Dispose=="function"}function K(e){qu(e)&&e.Dispose()}function Ke(){return null}function gr(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class Ju{constructor(t){this.iter=t,this.current=Ke()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function U(e){return ju(e)?e.GetEnumerator():new Ju(e[Symbol.iterator]())}function wn(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class di{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function X(e,t){return e.toString(10).padStart(t,"0")}function ho(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function Qu(e,t){return e=e<0&&t!=null&&t!==10?65535+e+1:e,e.toString(t)}function kt(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class It{static id(t){return It.idMap.has(t)||It.idMap.set(t,++It.count),It.idMap.get(t)}}It.idMap=new WeakMap;It.count=0;function vr(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function ht(e){return e*2654435761|0}function el(e){return vr(e.toString(32))}function Gn(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function tl(e){return e.getTime()}function nl(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=St(e[r]);return Gn(n)}function St(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return ht(e);case"bigint":return el(e);case"string":return vr(e);default:{if(zu(e))return e.GetHashCode();if(Ve(e))return nl(e);if(e instanceof Date)return tl(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>St(n));return Gn(t)}else return ht(It.id(e))}}}function os(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function mt(e,t){return os(e,t,pe)}function rl(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!pe(e[n[s]],t[r[s]]))return!1;return!0}function pe(e,t){return e===t?!0:e==null?t==null:t==null?!1:Ku(e)?e.Equals(t):Ve(e)?Ve(t)&&mt(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&vs(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&rl(e,t)}function vs(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+ho(e),r=t.getTime()+ho(t)),n===r?0:n<r?-1:1}function Ds(e,t){return e===t?0:e<t?-1:1}function sl(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function hi(e,t){return sl(e,t,st)}function ol(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=st(e[i],t[i]),o!==0)return o}return 0}function st(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:Xu(e)?e.CompareTo(t):Ve(e)?Ve(t)?hi(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?vs(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?ol(e,t):-1}function Dr(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}function is(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),o=r-s,i=1e-8,u=o>.5-i&&o<.5+i?s%2===0?s:s+1:Math.round(r);return t?u/n:u}function ot(e){Ve(e)?e.splice(0):e.clear()}const mi=new WeakMap;function he(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return mi.set(t,e),t}function il(e){if(e==null)return null;const t=(n,r,s)=>e(n)(r)(s);return mi.set(t,e),t}function ul(e,t,n,r,s){if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))n.set(e.subarray(t,t+s),r);else for(let o=0;o<s;++o)n[r+o]=e[t+o]}function ll(e){let t=0,n="[";for(const r of e){if(t===0)n+=ze(r);else if(t===100){n+="; ...";break}else n+="; "+ze(r);t++}return n+"]"}function ze(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return ll(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,s])=>r+" = "+ze(s,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function cl(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=ze(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>ze(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class ce{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return cl(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>St(n));return t.splice(0,0,ht(this.tag)),Gn(t)}Equals(t){return this===t?!0:gr(this,t)&&this.tag===t.tag?mt(this.fields,t.fields):!1}CompareTo(t){return this===t?0:gr(this,t)?this.tag===t.tag?hi(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function al(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function fl(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+ze(n)).join(`
  `)+" }"}function dl(e){const t=Object.values(e).map(n=>St(n));return Gn(t)}function hl(e,t){if(e===t)return!0;if(gr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!pe(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function ml(e,t){if(e===t)return 0;if(gr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=st(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class D{toJSON(){return al(this)}toString(){return fl(this)}GetHashCode(){return dl(this)}Equals(t){return hl(this,t)}CompareTo(t){return ml(this,t)}}class se{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}class _l{constructor(t){this.message=t}}function pl(e){return e instanceof _l||e instanceof Error}function gl(e){return e instanceof Promise}function mo(e){return pl(e)||gl(e)?e:new Error(String(e))}const yn=Symbol("numeric");function _i(e){return typeof e=="number"||typeof e=="bigint"||e?.[yn]}function wl(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function us(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[yn]().multiply(t)}function ar(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[yn]().toFixed(t)}function wr(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[yn]().toPrecision(t)}function yr(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[yn]().toExponential(t)}function Sr(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[yn]().toHex()}class yl{constructor(t,n,r,s){this.declaringType=t,this.tag=n,this.name=r,this.fields=s}}class Me{constructor(t,n,r,s,o,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=o,this.cases=i,this.enumCases=u}toString(){return re(this)}GetHashCode(){return pi(this)}Equals(t){return ls(this,t)}}function _t(e){return e.generics!=null?e.generics:[]}function pi(e){const t=vr(e.fullname),n=_t(e).map(pi);return Gn([t,...n])}function ls(e,t){return e.fullname===""?t.fullname===""&&os(br(e),br(t),([n,r],[s,o])=>n===s&&ls(r,o)):e.fullname===t.fullname&&os(_t(e),_t(t),ls)}function qe(e,t,n,r){return new Me(e,t,n,void 0,r)}function gi(e,t,n,r){const s=new Me(e,t,n,void 0,void 0,()=>{const o=n.prototype.cases();return r().map((i,u)=>new yl(s,u,o[u],i))});return s}function _o(e){return new Me("Microsoft.FSharp.Core.FSharpOption`1",[e])}function sn(e){return new Me("Microsoft.FSharp.Collections.FSharpList`1",[e])}function ks(e){return new Me("[]",[e])}const Sl=new Me("System.Object"),Sn=new Me("System.String"),cs=new Me("System.Boolean"),ve=new Me("System.Int32"),Qn=new Me("System.Double");function Fs(e){if(Array.isArray(e))return e[0];if(e instanceof Me){const t=kr(e);if(t!=null)return Fs(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function re(e){const t=kr(e);return t!=null?re(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>re(n)).join(",")+"]"}function bl(e){return kr(e)!=null}function kr(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function Cl(e){return e.generics!=null&&e.generics.length>0}function wi(e){return e.enumCases!=null&&e.enumCases.length>0}function xl(e){return e.generics==null?e:new Me(e.fullname,e.generics.map(()=>Sl))}function Ml(e){return e.generics?.[0]}function Qt(e){if(wi(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function El(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function en(e,t){const n=parseInt(t,10);return El(e,isNaN(n)?t:n)[1]}function Rl(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function br(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function Tl(e){if(yi(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function Il(e){return e instanceof Me?e.cases!=null:e instanceof ce}function vl(e){return e instanceof Me?e.fields!=null:e instanceof D}function yi(e){return e.fullname.startsWith("System.Tuple")}function Dl(e){return e.fields==null?[]:e.fields}function kl(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function Fl(e,t){const n=br(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,o],i)=>(r[s]=t[i],r),{})}function Vl(e,t){return e}const $t={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function Yr(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function Pl(e,t){switch(t){case $t.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case $t.SnakeCase:return Yr(e,"_");case $t.SnakeCaseAllCaps:return Yr(e,"_").toUpperCase();case $t.KebabCase:return Yr(e,"-");case $t.None:default:return e}}function Al(e,t=$t.None){const n={},r=t;function s(i){throw new Error("Cannot infer key and value of "+String(i))}function o(i,u,l){i=Pl(i,u),n[i]=l}for(let i of e){let u=$t.None;if(i==null&&s(i),i instanceof ce){const l=i.cases()[i.tag];i=i.fields.length===0?l:[l].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:s(i);break;case 1:o(i[0],u,!0);break;case 2:const l=i[1];o(i[0],u,l);break;default:o(i[0],u,i.slice(1))}else typeof i=="string"?o(i,u,!0):s(i)}return n}function Vs(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Ol(e,t){return t.has(e)?!1:(t.add(e),!0)}function Bl(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}class $l extends D{constructor(t,n,r){super(),this.Pixels=t,this.Width=n,this.Height=r}}class Fr extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Fr.prototype)}}function Ll(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Fr);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(n){t.onError(mo(n))}});else try{e(t)}catch(n){t.onError(mo(n))}}}class hn{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return St(this.value)}Equals(t){return t==null?!1:pe(this.value,t instanceof hn?t.value:t)}CompareTo(t){return t==null?1:st(this.value,t instanceof hn?t.value:t)}}function x(e){if(e==null)throw new Error("Option has no value");return e instanceof hn?e.value:e}function ge(e){return e==null||e instanceof hn?new hn(e):e}function cn(e){return e==null?[]:[x(e)]}function g(e,t){return e!=null?x(e):t}function Si(e,t){return t!=null?ge(e(x(t))):void 0}class jr extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Choice1Of2","Choice2Of2"]}}function Hl(e){return Ul(t=>e.then(t[0]).catch(n=>(n instanceof Fr?t[2]:t[1])(n)))}function Ul(e){return Ll(t=>e([t.onSuccess,t.onError,t.onCancel]))}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function Nl(e,t){return e===t}function Gl(e,t){return e+t}function bi(e){return BigInt(e)}function Wl(e){return BigInt(Math.trunc(e))}function Zl(e){return BigInt(e)}function Vr(e){return BigInt.asIntN(64,e)}function po(e){return Number(e)}const Yl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],jl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Xl=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Kl=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ee(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function go(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function zl(e,t){let n=t;const r=e[t];let s="",o=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){o=!0;break}else if(i==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=i}if(!o)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function Ps(e,t,n){let r=0,s=0,o="";const i=n?Ot(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(s=Ee(t,r,"d"),r+=s,s){case 1:o+=yo(i);break;case 2:o+=X(yo(i),2);break;case 3:o+=Yl[Co(i)];break;case 4:o+=jl[Co(i)];break}break;case"f":if(s=Ee(t,r,"f"),r+=s,s<=3){const m=10**(3-s);o+=X(Math.floor(tr(i)/m),s)}else s<=7&&(o+=(""+tr(i)).padEnd(s,"0"));break;case"F":if(s=Ee(t,r,"F"),r+=s,s<=3){const m=10**(3-s),y=Math.floor(tr(i)/m);y!=0&&(o+=X(y,s))}else if(s<=7){const m=tr(i);m!=0&&(o+=X(m,3))}break;case"g":s=Ee(t,r,"g"),r+=s,s<=2&&(o+="A.D.");break;case"h":switch(s=Ee(t,r,"h"),r+=s,s){case 1:o+=er(i)%12;break;case 2:o+=X(er(i)%12,2);break}break;case"H":switch(s=Ee(t,r,"H"),r+=s,s){case 1:o+=er(i);break;case 2:o+=X(er(i),2);break}break;case"K":switch(s=Ee(t,r,"K"),r+=s,s){case 1:switch(wo(i)){case 1:o+="Z";break;case 2:o+=an(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=Ee(t,r,"m"),r+=s,s){case 1:o+=So(i);break;case 2:o+=X(So(i),2);break}break;case"M":switch(s=Ee(t,r,"M"),r+=s,s){case 1:o+=nr(i);break;case 2:o+=X(nr(i),2);break;case 3:o+=Xl[nr(i)-1];break;case 4:o+=Kl[nr(i)-1];break}break;case"s":switch(s=Ee(t,r,"s"),r+=s,s){case 1:o+=bo(i);break;case 2:o+=X(bo(i),2);break}break;case"t":switch(s=Ee(t,r,"t"),r+=s,s){case 1:o+=i.getHours()<12?"A":"P";break;case 2:o+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(s=Ee(t,r,"y"),r+=s,s){case 1:o+=i.getFullYear()%100;break;case 2:o+=X(i.getFullYear()%100,2);break;case 3:o+=X(i.getFullYear(),3);break;case 4:o+=X(i.getFullYear(),4);break;case 5:o+=X(i.getFullYear(),5);break}break;case"z":s=Ee(t,r,"z"),r+=s;let l="";switch(wo(i)){case 1:l="+00:00";break;case 2:l=an(i.getTimezoneOffset()*-6e4);break;case 0:l=an(oc(i).getTimezoneOffset()*-6e4);break}const c=l[0]==="-"?"-":"+",d=parseInt(l.substring(1,3),10),f=parseInt(l.substring(4,6),10);switch(s){case 1:o+=`${c}${d}`;break;case 2:o+=`${c}${X(d,2)}`;break;default:o+=`${c}${X(d,2)}:${X(f,2)}`;break}break;case":":o+=":",r++;break;case"/":o+="/",r++;break;case"'":case'"':const[h,p]=zl(t,r);o+=h,r+=p;break;case"%":const w=go(t,r);if(w>=0&&w!=="%".charCodeAt(0))r+=2,o+=Ps(i,String.fromCharCode(w),n);else throw new Error("Invalid format string");break;case"\\":const _=go(t,r);if(_>=0)r+=2,o+=String.fromCharCode(_);else throw new Error("Invalid format string");break;default:r++,o+=u;break}}return o}function wo(e){return e.kind||0}function an(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+X(n,2)+":"+X(r,2)}function Cr(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function ql(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return X(e.getFullYear(),4)+"-"+X(e.getMonth()+1,2)+"-"+X(e.getDate(),2)+"T"+X(e.getHours(),2)+":"+X(e.getMinutes(),2)+":"+X(e.getSeconds(),2)+"."+X(e.getMilliseconds(),3)+(n?an(e.getTimezoneOffset()*-6e4):"")}}function Jl(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+an(t)}function Ql(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+an(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return Cr(n,"first");case"T":case"t":return Cr(n,"second");case"O":case"o":return Jl(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return Ps(n,t,!0)}function ec(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?Cr(e,"first"):e.toLocaleDateString();case"T":case"t":return n?Cr(e,"second"):e.toLocaleTimeString();case"O":case"o":return ql(e,n);default:throw new Error("Unrecognized Date print format")}else return Ps(e,t,n)}function Ci(e,t,n){return e.offset!=null?Ql(e,t):ec(e,t)}function Ot(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function tc(){return Ot(-621355968e5,0)}function xi(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let o,i=0;if(s[2]!=null){const u=s[2].split(":"),l=parseInt(u[0],10);i=l*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&l<12&&(i+=720)}if(s[4]!=null){if(s[1]!=null)o=new Date(s[1]+" UTC");else{const u=new Date;o=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(s[4]==="Z")r="Z";else{let u=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(s[1]!=null)o=new Date(s[1]);else{const u=new Date;o=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(o.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-o.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function nc(e,t=!1){const[n,r]=xi(e),s=r!=null?t&&r==="Z"?1:2:0;return Ot(n.getTime(),s)}function rc(e,t){try{return t.contents=nc(e),!0}catch{return!1}}function xr(){return Ot(Date.now(),1)}function sc(e){return e.kind===1?e:Ot(e.getTime(),1)}function oc(e){return e.kind===2?e:Ot(e.getTime(),2)}function yo(e){return e.kind===1?e.getUTCDate():e.getDate()}function er(e){return e.kind===1?e.getUTCHours():e.getHours()}function tr(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function So(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function nr(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function bo(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function Co(e){return e.kind===1?e.getUTCDay():e.getDay()}function Mi(e,t){const n=Ot(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?Ot(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function ic(e,t){return Mi(e,t)}function uc(e,t){return typeof t=="number"?Mi(e,-t):e.getTime()-t.getTime()}const lc=vs;function cc(e,t){return uc(e,t)}function ac(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function fc(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function xo(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let s,o=-1;for(;(s=e.exec(t))!=null;)s.index===o?e.lastIndex++:(o=s.index,r.push(s));return r}function dc(e,t,n,r,s=0){function o(){let i=arguments[0];if(r){r--;const u=[],l=arguments.length,c=typeof arguments[l-1]!="string";let d=c?l-3:l-2;for(let f=0;f<d;f++)u.push(arguments[f]);u.index=arguments[d++],u.input=arguments[d++],c&&(u.groups=arguments[d]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=ac(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,s)+t.substring(s).replace(e,o);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(s),l=xo(e,u),c=xo.length>r?(i=l[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,s)+c.replace(e,n)+t.substring(s+c.length)}else return t.replace(e,n)}const In=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,hc=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function Ei(e,t){return wl(e,t)<0}function Mr(e){return{input:e,cont:gc(e)}}function As(e,t){return typeof t=="string"?e(t):t.cont(e)}function mc(e){return As(t=>console.log(t),e)}function as(e){return As(t=>t,e)}function _c(e){return As(t=>{throw new Error(t)},e)}function pc(e,t,n,r,s){let o="";if(t=t||"",s=s||"",_i(e))switch(s.toLowerCase()!=="x"&&(Ei(e,0)?(e=us(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=ar(e,r);break;case"g":case"G":e=r!=null?wr(e,r):wr(e);break;case"e":case"E":e=r!=null?yr(e,r):yr(e);break;case"x":e=Sr(e);break;case"X":e=Sr(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=Ci(e):e=ze(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!i?" ":"0";l==="0"?(e=Bn(e,n-o.length,l,u),e=o+e):e=Bn(o+e,n,l,u)}return e}function Ri(e,t,n,r="",s=-1){return(...o)=>{let i=r;const u=t.slice(),l=n.slice();for(const c of o){const[,,d,f,h,p]=l[0];let w=f;if(s>=0)w=s,s=-1;else if(w==="*"){if(c<0)throw new Error("Non-negative number required");s=c;continue}i+=u[0],i+=pc(c,d,w,h,p),u.splice(0,1),l.splice(0,1)}return l.length===0?(i+=u[0],e(i)):Ri(e,u,l,i,s)}}function gc(e){return t=>{In.lastIndex=0;const n=[],r=[];let s=0,o=In.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=In.lastIndex,In.lastIndex-=1,o=In.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),Ri(t,n,r))}}function wc(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(hc,(r,s,o,i,u,l)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let c=t[s];if(_i(c))switch(u=u==null?null:parseInt(u,10),i){case"f":case"F":u=u??2,c=ar(c,u);break;case"g":case"G":c=u!=null?wr(c,u):wr(c);break;case"e":case"E":c=u!=null?yr(c,u):yr(c);break;case"p":case"P":u=u??2,c=ar(us(c,100),u)+" %";break;case"d":case"D":c=u!=null?Xr(String(c),u,"0"):String(c);break;case"x":case"X":c=u!=null?Xr(Sr(c),u,"0"):Sr(c),i==="X"&&(c=c.toUpperCase());break;default:if(l){let d="";c=l.replace(/([0#,]+)(\.[0#]+)?/,(f,h,p)=>{Ei(c,0)&&(c=us(c,-1),d="-"),p=p==null?"":p.substring(1),c=ar(c,Math.max(p.length,0));let[w,_]=c.split(".");_||(_="");const m=h.replace(/,/g,"").replace(/^#+/,"").length;w=Xr(w,m,"0");const y=p.replace(/#+$/,"").length;if(y>_.length?_=yc(_,y,"0"):y<_.length&&(_=_.substring(0,y)+_.substring(y).replace(/0+$/,"")),h.indexOf(",")>0){const M=w.length%3,C=Math.floor(w.length/3);let v=M>0?w.substr(0,M)+(C>0?",":""):"";for(let k=0;k<C;k++)v+=w.substr(M+k*3,3)+(k<C-1?",":"");w=v}return _.length>0?w+"."+_:w}),c=d+c}}else c instanceof Date?c=Ci(c,l||i):c=ze(c);return o=parseInt((o||" ").substring(1),10),isNaN(o)||(c=Bn(String(c),Math.abs(o)," ",o<0)),c})}function Pr(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function Bn(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function Xr(e,t,n){return Bn(e,t,n)}function yc(e,t,n){return Bn(e,t,n,!0)}function Sc(e,...t){if(t.length===0)return e.trim();const n="["+fc(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}const Ti="The index was outside the range of elements in the collection.",Ii="Collection was empty.";function Os(e,t){return typeof e=="function"?new e(t):new Array(t)}function $n(e,t){return e>t?e:t}function fs(e,t){return e<t?e:t}function vi(e,t,n){const r=e.length|0,s=t.length|0,o=Os(n,r+s);for(let i=0;i<=r-1;i++)Bt(o,i,V(i,e));for(let i=0;i<=s-1;i++)Bt(o,i+r,V(i,t));return o}function bn(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function Bs(e,t,n){const r=t.length|0,s=Os(n,r);for(let o=0;o<=r-1;o++)Bt(s,o,e(V(o,t)));return s}function bc(e,t,n,r,s){const o=g(n,0)|0,i=g(Si(l=>o+l,r),e.length)|0;return(l=>{e:for(;;){const c=l;if(c>=i)return-1;if(s.Equals(t,V(c,e)))return c|0;l=c+1;continue e}})(o)|0}function Cc(e,t,n){return bc(t,e,void 0,void 0,n)>=0}function xc(e,t){const n=Os(t,1);return Bt(n,0,e),n}function fr(e,t,n,r,s){ul(e,t,n,r,s)}function Mc(e){return e.slice().reverse()}function Ec(e,t){t.push(e)}function vt(e,t){const n=U(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)Ec(n["System.Collections.Generic.IEnumerator`1.get_Current"](),t)}finally{K(n)}}function Di(e,t){return t.find(e)}function Ar(e,t,n){const r=e;return n.reduce(r,t)}function V(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function Bt(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function ds(e,t){if(!(e<0||e>=t.length))return ge(t[e])}function Rc(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class we extends D{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+Pr("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const d=x(l),f=x(c);if(pe(i.head,u.head)){s=d,o=f;continue e}else return!1}else return!1;else return c==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,u=s,l=o,c=l.tail;if(c!=null){const d=x(c);if(i>18)return u|0;r=i+1,s=(u<<1)+St(l.head)+631*i,o=d;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const d=x(l),f=x(c),h=st(i.head,u.head)|0;if(h===0){s=d,o=f;continue e}else return h|0}else return 1;else return c!=null?-1:0}})(this,t)|0}GetEnumerator(){return Ic(this)}[Symbol.iterator](){return wn(U(this))}"System.Collections.IEnumerable.GetEnumerator"(){return U(this)}}class Tc{constructor(t){this.xs=t,this.it=this.xs,this.current=Ke()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=x(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=Ke()}Dispose(){}}function Ic(e){return new Tc(e)}function oe(){return new we(Ke(),void 0)}function Wn(e,t){return new we(e,t)}function Cn(e){return e.tail==null}function ki(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=x(i);continue e}else return s|0}})(0,e)|0}function Zn(e){if(e.tail!=null)return e.head;throw new Error(Ii+"\\nParameter name: list")}function De(e){const t=e.tail;if(t!=null)return x(t);throw new Error(Ii+"\\nParameter name: list")}function vc(e,t){return((r,s)=>{e:for(;;){const o=r,i=s,u=i.tail;if(u!=null){if(o===t)return i.head;r=o+1,s=x(u);continue e}else throw new Error(Ti+"\\nParameter name: index")}})(0,e)}function Ce(){return oe()}function rt(e,t){return Wn(e,t)}function ye(e){return Wn(e,oe())}function O(e){return Cn(e)}function mn(e){return ki(e)}function T(e){return Zn(e)}function P(e){return De(e)}function Ft(e){const t=ki(e)|0,n=bn(new Array(t),0,t,null);return((s,o)=>{e:for(;;){const i=s,u=o;if(!Cn(u)){Bt(n,i,Zn(u)),s=i+1,o=De(u);continue e}break}})(0,e),n}function it(e,t,n){let r=t,s=n;for(;!Cn(s);)r=e(r,T(s)),s=De(s);return r}function $s(e){return it((t,n)=>Wn(n,t),oe(),e)}function Dc(e,t,n){return((s,o,i)=>{e:for(;;){const u=s,l=o,c=i;if(Cn(c))return l;s=u+1,o=e(u,l,Zn(c)),i=De(c);continue e}})(0,t,n)}function kc(e,t){it((n,r)=>{e(r)},void 0,t)}function z(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Wn(V(r,e),n);return n}function Or(e){return z(e,oe())}function Fc(e){let t,n;if(Ve(e))return Or(e);if(e instanceof we)return e;{const r=oe();let s=r;const o=U(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const l=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new we(l,void 0),t.tail=n,n)}}finally{K(o)}const i=s,u=oe();return i.tail=u,De(r)}}function hs(e){const t=oe();let n=t;const r=i=>{n=it((u,l)=>{const c=new we(l,void 0);return u.tail=c,c},n,i)};if(Ve(e))e.forEach(r);else if(e instanceof we)kc(r,e);else{const i=U(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();)r(i["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{K(i)}}const s=n,o=oe();return s.tail=o,De(t)}function Fi(e,t){return it((n,r)=>Wn(r,n),t,$s(e))}function Vc(e,t){const n=oe(),r=Dc((o,i,u)=>{const l=new we(e(o,u),void 0);return i.tail=l,l},n,t),s=oe();return r.tail=s,De(n)}function kn(e,t){const n=oe(),r=it((o,i)=>{const u=new we(e(i),void 0);return o.tail=u,u},n,t),s=oe();return r.tail=s,De(n)}function Pc(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(Cn(i))return;if(e(Zn(i)))return o;r=o+1,s=De(i);continue e}})(0,t)}function Ac(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(Cn(i))return;if(o===e)return ge(Zn(i));r=o+1,s=De(i);continue e}})(0,t)}function Vi(e,t){return vc(t,e)}function Pi(e,t){const n=oe(),r=it((o,i)=>{if(e(i)){const u=new we(i,void 0);return o.tail=u,u}else return o},n,t),s=oe();return r.tail=s,De(n)}function Oc(e,t){const n=oe(),r=it((o,i)=>{const u=e(i);if(u==null)return o;{const l=new we(x(u),void 0);return o.tail=l,l}},n,t),s=oe();return r.tail=s,De(n)}function Bc(e,t){let n,r;const s=oe();let o=s;for(let l=0;l<=e-1;l++)o=(n=o,r=new we(t(l),void 0),n.tail=r,r);const i=o,u=oe();return i.tail=u,De(s)}function $c(e,t){return Bc(e,n=>t)}function Ai(e,t){return it((n,r)=>n&&e(r),!0,t)}function Lc(e,t){let n=-1,r=!1;const s=Pi(o=>(n=n+1|0,n===e?(r=!0,!1):!0),t);if(!r)throw new Error(Ti+"\\nParameter name: index");return s}function Hc(e){return new S(0,[e])}function Oi(e){return new S(1,[e])}class S extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function bt(e,t){return t.tag===0?Hc(e(t.fields[0])):Oi(t.fields[0])}function Uc(e,t){return t.tag===0?e(t.fields[0]):Oi(t.fields[0])}class Nc{constructor(){}}function Gc(){return new Nc}function Wc(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function Zc(e,t){return t.then(n=>n)}const Mo=Gc();function Yc(e){throw new Error(e)}const jc="Enumeration already finished.",Xc="Enumeration has not started. Call MoveNext.",Kc="Reset is not supported on this enumerator.";function zc(){throw new Error(Kc)}function Ls(){throw new Error(Xc)}function ms(){throw new Error(jc)}class qc{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=U(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+ze(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{K(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return wn(U(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function Jc(e){return new qc(e)}class Qc{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){zc()}Dispose(){this.dispose()}}function Hs(e,t,n){return new Qc(e,t,n)}function ea(e){let t,n,r=!1,s=!1,o;const i=()=>{if(s=!0,n!=null){const u=x(n);try{K(u)}finally{n=void 0}}if(t!=null){const u=x(t);try{K(u)}finally{t=void 0}}};return Hs(()=>(r?s&&ms():Ls(),o!=null?x(o):ms()),()=>{let u;if(r||(r=!0),s)return!1;{let l;for(;l==null;){const c=t,d=n;if(c!=null)if(d!=null){const f=x(d);if(f["System.Collections.IEnumerator.MoveNext"]())o=ge(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),l=!0;else try{K(f)}finally{n=void 0}}else{const f=x(c);f["System.Collections.IEnumerator.MoveNext"]()?n=(u=f["System.Collections.Generic.IEnumerator`1.get_Current"](),U(u)):(i(),l=!1)}else t=U(e)}return x(l)}},()=>{s||i()})}function ta(e,t,n){let r=!1,s,o=ge(e());const i=()=>{if(o!=null){const l=x(o);try{n(l)}finally{o=void 0}}},u=()=>{try{i()}finally{s=void 0}};return Hs(()=>(r||Ls(),s!=null?x(s):ms()),()=>{if(r||(r=!0),o!=null){const l=x(o);let c;try{c=t(l)}catch(d){throw u(),d}return c!=null?(s=c,!0):(u(),!1)}else return!1},i)}function na(e,t){let n,r=t;return Hs(()=>{if(n!=null){const s=x(n)[0];return x(n)[1],s}else return Ls()},()=>(n=e(r),n!=null?(x(n)[0],r=x(n)[1],!0):!1),()=>{})}function ra(e,t){t==null&&Yc(e)}function Br(e){return Jc(e)}function Nt(e){return ra("source",e),U(e)}function ue(e){return Br(()=>U(e()))}function Us(e){return Br(()=>ea(e))}function Bi(e,t){return Br(()=>na(e,t))}function Vt(){return ue(()=>new Array(0))}function _n(e){return ue(()=>xc(e))}function $i(e){return e instanceof we?Ft(e):Array.from(e)}function pn(e){return Ve(e)?Or(e):e instanceof we?e:Fc(e)}function sa(e,t,n){return Br(()=>ta(e,t,n))}function Yn(e,t){return Us([e,t])}function oa(e,t,n){const r=Nt(t);try{const s=Nt(n);try{let o=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]();for(;o===0&&i&&u;)o=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,o===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]());return(o!==0?o:i?1:u?-1:0)|0}finally{K(s)}}finally{K(r)}}function tn(e,t,n){const r=Nt(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{K(r)}}function Li(e,t){return Us(Bi(n=>e()?[t,n+1]:void 0,0))}function ia(e,t){const n=Nt(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]()))return o;s=o+1;continue e}else return;break}})(0)}finally{K(n)}}function Hi(e,t,n){const r=Nt(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{K(r)}}function ua(e,t){if(Ve(t))return ds(e,t);if(t instanceof we)return Ac(e,t);{const n=Nt(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(o===0)return ge(n["System.Collections.Generic.IEnumerator`1.get_Current"]());s=o-1;continue e}else return;break}})(e)}finally{K(n)}}}function le(e,t){Hi((n,r)=>{e(r)},void 0,t)}function gt(e,t){return sa(()=>Nt(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?ge(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{K(n)})}function la(e){return ue(()=>Mc($i(e)))}function Ns(e,t){return ue(()=>Us(gt(e,t)))}function ca(e){return kt(e.status)+" "+e.statusText+" for URL "+e.url}function aa(e,t){return fetch(e,Al(t,1)).then(r=>{if(r.ok)return r;throw new Error(ca(r))})}const fa=Ke();class Ui{constructor(t,n){this.k=t,this.v=n}}function Ln(e,t){return new Ui(e,t)}function ne(e){return e.k}function Se(e){return e.v}class Q extends Ui{constructor(t,n,r,s,o){super(t,n),this.left=r,this.right=s,this.h=o|0}}function An(e,t,n,r,s){return new Q(e,t,n,r,s)}function me(e){return e.left}function _e(e){return e.right}function Dt(e){return e.h}function Ni(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=x(r);if(s instanceof Q){const o=s;e=Ni(n+1,me(o)),t=_e(o);continue e}else return n+1|0}else return n|0}}function da(e){return Ni(0,e)}function Ze(e,t,n,r){let s,o,i;const u=e;if(u!=null){const f=x(u);i=f instanceof Q?(s=f,Dt(s)):1}else i=0;let l;const c=r;if(c!=null){const f=x(c);l=f instanceof Q?(o=f,Dt(o)):1}else l=0;const d=(i<l?l:i)|0;return d===0?Ln(t,n):An(t,n,e,r,d+1)}function Eo(e,t,n,r){let s,o,i,u,l,c,d,f,h;const p=e;if(p!=null){const m=x(p);h=m instanceof Q?(s=m,Dt(s)):1}else h=0;let w;const _=r;if(_!=null){const m=x(_);w=m instanceof Q?(o=m,Dt(o)):1}else w=0;if(w>h+2){const m=x(r);if(m instanceof Q){const y=m;if(i=me(y),(i!=null?(u=x(i),u instanceof Q?(l=u,Dt(l)):1):0)>h+1){const M=x(me(y));if(M instanceof Q){const C=M;return Ze(Ze(e,t,n,me(C)),ne(C),Se(C),Ze(_e(C),ne(y),Se(y),_e(y)))}else throw new Error("internal error: Map.rebalance")}else return Ze(Ze(e,t,n,me(y)),ne(y),Se(y),_e(y))}else throw new Error("internal error: Map.rebalance")}else if(h>w+2){const m=x(e);if(m instanceof Q){const y=m;if(c=_e(y),(c!=null?(d=x(c),d instanceof Q?(f=d,Dt(f)):1):0)>w+1){const M=x(_e(y));if(M instanceof Q){const C=M;return Ze(Ze(me(y),ne(y),Se(y),me(C)),ne(C),Se(C),Ze(_e(C),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Ze(me(y),ne(y),Se(y),Ze(_e(y),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Ze(e,t,n,r)}function gn(e,t,n,r){if(r!=null){const s=x(r),o=e.Compare(t,ne(s))|0;if(s instanceof Q){const i=s;return o<0?Eo(gn(e,t,n,me(i)),ne(i),Se(i),_e(i)):o===0?An(t,n,me(i),_e(i),Dt(i)):Eo(me(i),ne(i),Se(i),gn(e,t,n,_e(i)))}else return o<0?An(t,n,void 0,r,2):o===0?Ln(t,n):An(t,n,r,void 0,2)}else return Ln(t,n)}function Gi(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=x(o),u=r.Compare(s,ne(i))|0;if(u===0)return ge(Se(i));if(i instanceof Q){const l=i;e=r,t=s,n=u<0?me(l):_e(l);continue e}else return}else return}}function ha(e,t,n){const r=Gi(e,t,n);if(r==null)throw new Error;return x(r)}function ma(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=x(o),u=r.Compare(s,ne(i))|0;if(i instanceof Q){const l=i;if(u<0){e=r,t=s,n=me(l);continue e}else{if(u===0)return!0;e=r,t=s,n=_e(l);continue e}}else return u===0}else return!1}}function Wi(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=x(r);if(s instanceof Q){const o=s;Wi(n,me(o)),n(ne(o),Se(o)),e=n,t=_e(o);continue e}else n(ne(s),Se(s))}break}}function _a(e,t){Wi(e,t)}function _s(e,t){if(t!=null){const n=x(t);if(n instanceof Q){const r=n,s=_s(e,me(r)),o=e(ne(r),Se(r)),i=_s(e,_e(r));return An(ne(r),o,s,i,Dt(r))}else return Ln(ne(n),e(ne(n),Se(n)))}else return void 0}function pa(e,t){return _s(e,t)}function ga(e,t,n){let r=n;_a((s,o)=>{Bt(t,r,[s,o]),r=r+1|0},e)}function wa(e,t){return it((n,r)=>gn(e,r[0],r[1],n),void 0,t)}function ya(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=gn(r,i[0],i[1],s),n=o;continue e}else return s}}function Sa(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=V(r,t);n=gn(e,s[0],s[1],n)}return n}function Zi(e,t){if(Ve(t))return Sa(e,t);if(t instanceof we)return wa(e,t);{const n=U(t);try{return ya(e,void 0,n)}finally{K(n)}}}class ba extends D{constructor(t,n){super(),this.stack=t,this.started=n}}function Yi(e){e:for(;;){const t=e;if(O(t))return Ce();{const n=P(t),r=T(t);if(r!=null){const s=x(r);if(s instanceof Q){const o=s;e=z([me(o),Ln(ne(o),Se(o)),_e(o)],n);continue e}else return t}else{e=n;continue e}}}}function Ro(e){return new ba(Yi(ye(e)),!1)}function Ca(){throw new Error("enumeration not started")}function xa(){throw new Error("enumeration already finished")}function To(e){if(e.started){const t=e.stack;if(O(t))return xa();if(T(t)!=null){const n=x(T(t));if(n instanceof Q)throw new Error("Please report error: Map iterator, unexpected stack for current");return[ne(n),Se(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return Ca()}function Ma(e){if(e.started){const t=e.stack;if(O(t))return!1;if(T(t)!=null){if(x(T(t))instanceof Q)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=Yi(P(t)),!O(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!O(e.stack)}function Io(e){let t=Ro(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return To(t)},"System.Collections.IEnumerator.get_Current"(){return To(t)},"System.Collections.IEnumerator.MoveNext"(){return Ma(t)},"System.Collections.IEnumerator.Reset"(){t=Ro(e)},Dispose(){}}}class Er{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return va(this)|0}Equals(t){const n=this;if(t instanceof Er){const r=t,s=U(n);try{const o=U(r);try{const i=()=>{const u=s["System.Collections.IEnumerator.MoveNext"]();if(u===o["System.Collections.IEnumerator.MoveNext"]())if(u){const l=s["System.Collections.Generic.IEnumerator`1.get_Current"](),c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();return pe(l[0],c[0])&&pe(l[1],c[1])?i():!1}else return!0;else return!1};return i()}finally{K(o)}}finally{K(s)}}else return!1}toString(){return"map ["+Pr("; ",gt(n=>wc("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return Io(this.tree)}[Symbol.iterator](){return wn(U(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Io(this.tree)}CompareTo(t){const n=this;if(t instanceof Er)return oa((s,o)=>{const i=n.comparer.Compare(s[0],o[0])|0;return(i!==0?i:st(s[1],o[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return vo(n,t[0])&&pe(ps(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){ga(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Kr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Kr(this)|0}get size(){return Kr(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return gt(n=>[n[0],n[1]],this)}get(t){return ps(this,t)}has(t){return vo(this,t)}keys(){return gt(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return gt(n=>n[1],this)}forEach(t,n){const r=this;le(s=>{t(s[1],s[0],r)},r)}}function jn(e,t){return new Er(e,t)}function Ea(e){return jn(e,void 0)}function Ra(e,t,n){return jn(e.comparer,gn(e.comparer,t,n,e.tree))}function ps(e,t){return ha(e.comparer,t,e.tree)}function Ta(e,t){return jn(e.comparer,pa(t,e.tree))}function Kr(e){return da(e.tree)}function vo(e,t){return ma(e.comparer,t,e.tree)}function Ia(e,t){return Gi(e.comparer,t,e.tree)}function va(e){const t=(s,o)=>(s<<1)+o+631;let n=0;const r=U(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,St(s[0]))|0,n=t(n,St(s[1]))|0}}finally{K(r)}return n|0}function ji(e,t,n){return Ra(n,e,t)}function Da(e,t){return ps(t,e)}function ka(e,t){return Ia(t,e)}function Fa(e,t){return Ta(t,e)}function Va(e,t){return jn(t,Zi(t,e))}function Pa(e,t){return jn(t,Zi(t,e))}function Xi(e){return Ea(e)}class Aa{constructor(t,n){this.contents=t,this.count=n|0}GetEnumerator(){const t=this;return U(ue(()=>{let n=t.count-1;return Li(()=>n>=0,ue(()=>Yn(_n(V(n,t.contents)),ue(()=>(n=n-1|0,Vt())))))}))}[Symbol.iterator](){return wn(U(this))}"System.Collections.IEnumerable.GetEnumerator"(){return U(this)}}function Oa(e,t){return new Aa(e,t)}function Ba(e){return Oa(bn(new Array(e),0,e,null),0)}function Gs(){return Ba(4)}function $a(e,t){const n=e.contents.length|0;if(t>n){const r=e.contents;e.contents=bn(new Array($n(t,n*2)),0,$n(t,n*2),null),fr(r,0,e.contents,0,e.count)}}function Ki(e){return e.count}function Ws(e){return e.count=e.count-1|0,V(e.count,e.contents)}function La(e,t){return e.count>0?(t.contents=Ws(e),!0):!1}function Zs(e,t){$a(e,e.count+1),e.contents[e.count]=t,e.count=e.count+1|0}class Ha{constructor(t,n){this.contents=t,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return U(Xa(this))}[Symbol.iterator](){return wn(U(this))}"System.Collections.IEnumerable.GetEnumerator"(){return U(this)}}function Ua(e,t){return new Ha(e,t)}function Na(e){if(e<0)throw new Error("capacity is less than 0");return Ua(bn(new Array(e),0,e,null),0)}function Ga(){return Na(4)}function on(e,t){e.count===Ut(e)&&ja(e,e.count+1),e.contents[e.tail]=t,e.tail=(e.tail+1)%Ut(e)|0,e.count=e.count+1|0}function Wa(e){if(e.count===0)throw new Error("Queue is empty");const t=V(e.head,e.contents);return e.head=(e.head+1)%Ut(e)|0,e.count=e.count-1|0,t}function Za(e,t){return e.count===0?!1:(t.contents=Wa(e),!0)}function Ut(e){return e.contents.length}function Ya(e,t){return(e.head+t)%Ut(e)}function ja(e,t){const n=bn(new Array(t),0,t,null);e.head<e.tail?fr(e.contents,e.head,n,0,e.count):(fr(e.contents,e.head,n,0,Ut(e)-e.head),fr(e.contents,0,n,Ut(e)-e.head,e.tail)),e.head=0,e.contents=n,e.tail=(e.count===Ut(e)?0:e.count)|0}function Xa(e){return ue(()=>{let t=0;return Li(()=>t<e.count,ue(()=>Yn(_n(V(Ya(e,t),e.contents)),ue(()=>(t=t+1|0,Vt())))))})}const Ka=1e4;class za{constructor(t,n){this.create=t,this.clean=n,this.items=Gs(),this.itemOut=0,this.total=0}}function qa(e,t){return new za(e,t)}function Ja(e,t){if(e.total>Ka)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,Ki(e.items)>0?Ws(e.items):(e.total=e.total+1|0,e.create(t))}function rr(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Zs(e.items,t)}class Qa{constructor(t,n){this.create=t,this.clean=n,this.items=Gs(),this.itemOut=0,this.total=0}}function $r(e,t){return new Qa(e,t)}function wt(e){if(e.total>1e3)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,Ki(e.items)>0?Ws(e.items):(e.total=e.total+1|0,e.create())}function be(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Zs(e.items,t)}function ef(e,t){const n=t.getShaderParameter(e,t.COMPILE_STATUS);console.log(ge("Shader compiled successfully"),n);const r=t.getShaderInfoLog(e);console.log(ge("Shader compiler log: "),r)}function tf(e,t){const n=t.getProgramInfoLog(e);console.log(ge("getProgramInfoLog: "),n)}function Do(e,t){t.compileShader(e),ef(e,t)}function zi(e,t,n){const r=n.createShader(35633);n.shaderSource(r,e),Do(r,n);const s=n.createShader(35632);n.shaderSource(s,t),Do(s,n);const o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,s),n.linkProgram(o),tf(o,n),n.detachShader(o,r),n.detachShader(o,s),n.deleteShader(r),n.deleteShader(s),o}function nf(e,t,n,r,s,o){const i=o.createTexture();return o.activeTexture(33984),o.bindTexture(3553,i),o.texParameteri(3553,10242,33071),o.texParameteri(3553,10243,33071),o.texParameteri(3553,10241,9728),o.texParameteri(3553,10240,9728),o.texImage2D(3553,0,n,e,t,0,r,s,fa),i}function rf(e,t){const n=(i,u)=>{e:for(;;){const l=i,c=u;if(!O(l)){const d=T(l)[1];t.texSubImage3D(35866,0,0,0,c,d.Width,d.Height,1,6408,5121,d.Pixels),i=P(l),u=c+1;continue e}break}},r=t.createTexture();t.activeTexture(33984),t.bindTexture(35866,r);let s;if(s=(mn(e)|0)>>>0,O(e))throw new Error("");{const i=T(e)[1];t.texStorage3D(35866,1,32856,i.Width,i.Height,s);const u=i;return t.texSubImage3D(35866,0,0,0,0,u.Width,u.Height,1,6408,5121,u.Pixels),n(P(e),1),t.texParameteri(35866,10242,10497),t.texParameteri(35866,10243,10497),t.texParameteri(35866,10241,9728),t.texParameteri(35866,10240,9728),[r,[i.Width,i.Height],new Map(Vc((l,c)=>[c[0],l>>>0],e))]}}const Fn=qa(e=>e.createBuffer(),e=>{});function Vn(e,t){const n=Ja(Fn,t),r=Float32Array.from(e);return t.bindBuffer(34962,n),t.bufferData(34962,r,35044),t.bindBuffer(34962,Ke()),n}function sf(e,t,n){const r=n.createFramebuffer();return n.bindFramebuffer(e,r),n.drawBuffers(t),r}const zr=[6408,6408,5121],qr=[33190,6402,5125];function ko(e,t,n,r,s,o,i){const u=[e,t],l=nf(u[0],u[1],n,r,s,i);return i.framebufferTexture2D(36160,o,3553,l,0),l}const of=new Float32Array([0,1,0,0,1,1,1,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1]);class qi extends D{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Z=r|0}}class pt extends D{constructor(t,n){super(),this.X=t|0,this.Y=n|0}}function gs(){return qe("Imp.CommonModels.Point",[],pt,()=>[["X",ve],["Y",ve]])}class Fo extends D{constructor(t,n){super(),this.Width=t|0,this.Height=n|0}}class uf extends D{constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}function lf(){return qe("Imp.CommonModels.RectF",[],uf,()=>[["X",Qn],["Y",Qn],["Width",Qn],["Height",Qn]])}function Ji(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}class Qi extends D{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Width=r|0,this.Height=s|0}}function cf(){return qe("Imp.CommonModels.Rect",[],Qi,()=>[["X",ve],["Y",ve],["Width",ve],["Height",ve]])}function Vo(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}function af(e){return e*180/3.141592653589793}function Po(e){return is(e,8)}class Hn extends D{constructor(t,n){super(),this.Angle=t,this.Distance=n}}class j extends D{constructor(t,n){super(),this.X=t,this.Y=n}}function Ys(){return new Hn(0,0)}function Rr(e,t){const n=t.X-e.X,r=t.Y-e.Y,s=(af(Math.atan2(r,n))+450)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return new Hn(is(s,8),is(o,8))}function ff(e){const t=3.141592653589793*(e.Angle/180),n=e.Distance*Math.sin(t),r=0-e.Distance*Math.cos(t);return new j(Math.abs(n)<1e-13?0:n,Math.abs(r)<1e-13?0:r)}function df(e){return new Hn(e.Angle>315&&e.Angle<=360||e.Angle>=0&&e.Angle<45?0:e.Angle>=45&&e.Angle<=135?90:e.Angle>135&&e.Angle<225?180:270,e.Distance)}function hf(e,t){return new j(t.X+e.X,t.Y+e.Y)}function mf(e,t){return new j(e.X*t,e.Y*t)}function js(){return new j(0,0)}function _f(){return $r(xf,e=>{ot(J(e)),ot(de(e))})}const eu=new di(_f);function pf(){return Gs()}const tu=new di(pf);class gf extends D{constructor(t,n,r){super(),this.Texture=t,this.Width=n,this.Height=r}}class Lr extends D{constructor(t,n,r,s,o,i,u){super(),this.Time=t,this.Resolution=n,this.Offset=r,this.VertexBuffer=s,this.TextureDetails=o,this.TextureLayer=i,this.ZRange=u}}class wf{constructor(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.texture="",this.textureX=0,this.textureY=0,this.textureWidth=0,this.textureHeight=0,this.stateData=void 0}}function yf(){return new wf}class Sf extends D{constructor(t,n,r,s,o,i,u,l,c,d,f,h,p){super(),this.Key=t,this.Elements=n,this.X=r|0,this.Y=s|0,this.Z=o|0,this.MouseMove=i,this.MouseEnter=u,this.MouseLeave=l,this.MouseUp=c,this.Width=d|0,this.Height=f|0,this.Blur=h,this.Input=p}}class Xs extends D{constructor(t,n,r){super(),this.Key=t,this.Create=n,this.ViewItems=r}}class bf extends D{constructor(t,n,r){super(),this.Key=t,this.Func=n,this.ViewItems=r}}class Et extends D{constructor(t,n,r,s){super(),this.Key=t,this.Prop=n,this.Compare=r,this.Build=s}}class A extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class Cf{constructor(){this.current=[],this.last=[],this.key="",this.hasSprites=!1,this.hasRenderers=!1,this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.mouseMove=void 0,this.mouseOver=!1,this.mouseEnter=void 0,this.mouseLeave=void 0,this.mouseUp=void 0,this.blur=void 0,this.isActive=!1,this.hasMouseEvents=!1,this.hasInputEvents=!1,this.input=void 0}}function xf(){return new Cf}class Ks{constructor(t,n){this.f=n,this.isStale=!0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){}"Imp.DisplayModels.RendererBase.OnDistory"(){}}class Mf extends D{constructor(t,n,r,s){super(),this.Key=t,this.Renderer=n,this.RenderView=r,this.ParentRender=s}}class Ef extends D{constructor(t,n,r){super(),this.Key=t,this.RenderView=n,this.Callback=r}}class un extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseMove","MouseButton","SyntheticMouseButton","Key","ControllerThumbstick","ControllerButton"]}}class Jr extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ControllerThumbstick","ControllerButton","Key"]}}class Rf extends D{constructor(t,n,r,s,o,i,u,l,c,d,f){super(),this.Key=t,this.Hooks=n,this.CurrentHook=r|0,this.IsStale=s,this.RenderView=o,this.CurrentProp=i,this.Build=u,this.Removed=l,this.ParentComponent=c,this.ParentRender=d,this.Id=f}}class vn extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class Tf extends D{constructor(t){super(),this.Component=t}}class If{constructor(t,n,r){this.currentComponent=t,this.hookIndex=n|0,this.currentComponent.Hooks[this.hookIndex]=r}}function vf(e,t,n){return new If(e,t,n)}class Df extends D{constructor(t,n,r){super(),this.Time=t,this.Call=n,this.Component=r}}class Qr extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Move","Up","SyntheticUp"]}}const kf=eu.Value;function Pn(e){const t=wt(eu.Value);return td(t,e),t}function nu(){return $r(yf,e=>{})}function Ff(e){return e.x}function Vf(e,t){e.x=t|0}function Pf(e){return e.y}function Af(e,t){e.y=t|0}function Of(e){return e.z}function Bf(e,t){e.z=t|0}function $f(e){return e.width}function Lf(e,t){e.width=t|0}function Hf(e){return e.height}function Uf(e,t){e.height=t|0}function Nf(e){return e.texture}function Gf(e,t){e.texture=t}function Wf(e){return e.textureX}function Zf(e,t){e.textureX=t|0}function Yf(e){return e.textureY}function jf(e,t){e.textureY=t|0}function Xf(e){return e.textureWidth}function Kf(e,t){e.textureWidth=t|0}function zf(e){return e.textureHeight}function qf(e,t){e.textureHeight=t|0}function Jf(e,t){e.stateData=t}function Qf(e){be(nu(),e)}function ed(e){return e.key}function td(e,t){e.key=t}function ws(e){return e.hasSprites}function Un(e,t){e.hasSprites=t}function ys(e){return e.hasRenderers}function Hr(e,t){e.hasRenderers=t}function Pt(e){return e.x}function ru(e,t){e.x=t|0}function At(e){return e.y}function su(e,t){e.y=t|0}function On(e){return e.z}function ou(e,t){e.z=t|0}function nd(e){return e.width}function iu(e,t){e.width=t|0}function rd(e){return e.height}function uu(e,t){e.height=t|0}function Ss(e){return e.mouseMove}function lu(e,t){e.mouseMove=t}function Ao(e){return e.mouseOver}function Oo(e,t){e.mouseOver=t}function bs(e){return e.mouseEnter}function cu(e,t){e.mouseEnter=t}function Cs(e){return e.mouseLeave}function au(e,t){e.mouseLeave=t}function xs(e){return e.mouseUp}function fu(e,t){e.mouseUp=t}function du(e){return e.blur}function hu(e,t){e.blur=t}function J(e){return e.current}function de(e){return e.last}function Tr(e){return e.hasMouseEvents}function Ur(e,t){e.hasMouseEvents=t}function Ms(e){return e.hasInputEvents}function zs(e,t){e.hasInputEvents=t}function mu(e){return e.input}function _u(e,t){e.input=t}function pu(e){const t=e.last;e.last=e.current,e.current=t}function fn(e,t){const n=t?de(e):J(e),r=n.length|0;for(let s=0;s<=r-1;s++){const o=n[s];if(o!=null){const i=o;switch(i.tag){case 0:{fn(i.fields[0],!1);break}case 1:{Qf(i.fields[0]);break}case 3:{fn(i.fields[0].RenderView,!1);break}case 4:{const u=i.fields[0];u.Removed=!0,fn(u.RenderView,!1);break}default:id(i.fields[0].Renderer)}}}t||be(kf,e)}function sd(e){return e.isStale}function gu(e,t){e.isStale=t}function od(e,t){e.isStale&&e["Imp.DisplayModels.RendererBase.OnInit1E729EFC"](t),e["Imp.DisplayModels.RendererBase.OnRender1E729EFC"](t),e.isStale=!1}function id(e,t){fn(e.f,!1),e["Imp.DisplayModels.RendererBase.OnDistory"]()}const ud=tu.Value;function ld(e){Zs(tu.Value,e)}function sr(e){return e.currentComponent.Hooks[e.hookIndex]}function es(e,t){const n=t(e.currentComponent.Hooks[e.hookIndex]);e.currentComponent.Hooks[e.hookIndex]=n,e.currentComponent.IsStale=!0,ld(e.currentComponent)}const Fe=$r(()=>[],e=>{ot(e)});class Xn{constructor(){}}function Kn(e){return wt(Fe)}class cd extends Xn{constructor(t,n,r,s,o,i,u,l,c,d,f,h){super(),this.key=t,this.x=n|0,this.y=r|0,this.z=s|0,this.width=o|0,this.height=i|0,this.mouseMove=u,this.mouseEnter=l,this.mouseLeave=c,this.mouseUp=d,this.blur=f,this.input=h}}function ee(e,t,n,r,s,o,i,u,l,c,d,f){return new cd(e,t,n,r,s,o,i,u,l,c,d,f)}function te(e,t){const n=Kn();return t(n),new Sf(e.key,n,e.x,e.y,e.z,e.mouseMove,e.mouseEnter,e.mouseLeave,e.mouseUp,e.width,e.height,e.blur,e.input)}class ad extends Xn{constructor(t,n){super(),this.name=t,this.func=n}}function wu(e,t){return new ad(e,t)}function yu(e,t){const n=Kn();return t(n),new bf(e.name,e.func,n)}function qs(e,t,n,r,s,o,i,u,l,c,d){const f=wt(nu());return Vf(f,e),Af(f,t),Bf(f,n),Lf(f,r),Uf(f,s),Gf(f,o),Zf(f,i),jf(f,u),Kf(f,c),qf(f,l),Jf(f,d!=null?ge(x(d)):void 0),f}let ts=0;function Js(e,t){let n,r,s,o,i,u;ru(e,t.X),su(e,t.Y),ou(e,t.Z),iu(e,t.Width),uu(e,t.Height),lu(e,t.MouseMove),cu(e,t.MouseEnter),au(e,t.MouseLeave),fu(e,t.MouseUp),hu(e,t.Blur),_u(e,t.Input),Ur(e,Tr(e)||(n=Ss(e),n!=null)||(r=bs(e),r!=null)||(s=Cs(e),s!=null)||(o=xs(e),o!=null)?!0:(i=du(e),i!=null)),zs(e,Ms(e)?!0:(u=mu(e),u!=null))}function ns(e){ru(e,0),su(e,0),ou(e,0),iu(e,0),uu(e,0),lu(e,void 0),cu(e,void 0),au(e,void 0),fu(e,void 0),hu(e,void 0),Ur(e,!1),_u(e,void 0),zs(e,!1)}function or(e,t){Un(e,ws(e)?!0:ws(t)),Hr(e,ys(e)?!0:ys(t)),Ur(e,Tr(e)?!0:Tr(t)),zs(e,Ms(e)?!0:Ms(t))}function Su(e,t,n,r,s,o){switch(r.tag){case 0:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<de(n).length;){const f=(h=>{let p,w;if(h!=null){const _=h;_.tag===0&&ed(_.fields[0])===i.Key?(p=0,w=_.fields[0]):p=1}else p=1;switch(p){case 0:return w;default:return}})(de(n)[d]);if(f!=null){const h=f;de(n)[d]=void 0,c=h}d=d+1|0}l=c,u=l??Pn(i.Key),Js(u,i),dr(e,t,u,i.Elements,s,o),or(n,u),J(n).push(new vn(0,[u]));break}case 4:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<de(n).length;){const f=(h=>{let p,w;if(h!=null){const _=h;_.tag===4&&_.fields[0].Key===i.Key?(p=0,w=_.fields[0]):p=1}else p=1;switch(p){case 0:return w;default:return}})(de(n)[d]);if(f!=null){const h=f;de(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null){const f=l;i.Compare(f.CurrentProp,i.Prop)||(f.IsStale=!0),f.IsStale&&(f.CurrentProp=i.Prop),u=f}else{ts=ts+1|0;const f=Pn(i.Key);ns(f),u=new Rf(i.Key,[],0,!0,f,i.Prop,i.Build,!1,s,o,Vr(bi(ts)))}bu(t,u),or(n,u.RenderView),Hr(n,!0),Un(n,!0),J(n).push(new vn(4,[u]));break}case 2:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<de(n).length;){const f=(h=>{let p,w;if(h!=null){const _=h;_.tag===2&&_.fields[0].Key===i.Key?(p=0,w=_.fields[0]):p=1}else p=1;switch(p){case 0:return w;default:return}})(de(n)[d]);if(f!=null){const h=f;de(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null){const f=l;e&&gu(f.Renderer,!0),u=f}else{const f=Pn(i.Key);ns(f),u=new Mf(i.Key,i.Create(t,f),f,o)}dr(e,t,u.RenderView,i.ViewItems,s,u),or(n,u.RenderView),J(n).push(new vn(2,[u]));break}case 3:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<de(n).length;){const f=(h=>{let p,w;if(h!=null){const _=h;_.tag===3&&_.fields[0].Key===i.Key?(p=0,w=_.fields[0]):p=1}else p=1;switch(p){case 0:return w;default:return}})(de(n)[d]);if(f!=null){const h=f;de(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null)u=l;else{const f=Pn(i.Key);ns(f),u=new Ef(i.Key,f,i.Func)}dr(e,t,u.RenderView,i.ViewItems,s,o),or(n,u.RenderView),J(n).push(new vn(3,[u]));break}default:J(n).push(new vn(1,[r.fields[0]])),Un(n,!0)}}function bu(e,t){if(t.IsStale){t.IsStale=!1,t.CurrentHook=0;const n=t.Build(new Tf(t),t.CurrentProp);Js(t.RenderView,n),dr(!0,e,t.RenderView,n.Elements,t.ParentComponent,t.ParentRender),(s=>{e:for(;;){const o=s;if(o!=null){const i=o;if(sd(i.Renderer)===!1){gu(i.Renderer,!0),s=i.ParentRender;continue e}}break}})(t.ParentRender)}}function dr(e,t,n,r,s,o){pu(n),ot(J(n)),Un(n,!1),Hr(n,!1);for(let i=0;i<=r.length-1;i++)Su(e,t,n,r[i],s,o);be(Fe,r),fn(n,!0),ot(de(n))}let rs;function fd(e,t){const n=(r,s,o,i)=>{for(let u=0;u<=r.length-1;u++){const l=r[u];if(l!=null){const c=l;switch(c.tag){case 0:{const d=c.fields[0];ws(d)&&n(J(d),s+Pt(d),o+At(d),i+On(d));break}case 3:{n(J(c.fields[0].RenderView),s,o,i);break}case 4:{const d=c.fields[0];n(J(d.RenderView),Pt(d.RenderView)+s,At(d.RenderView)+o,On(d.RenderView)+i);break}case 2:break;default:t([s,o,i],c.fields[0])}}}};n(J(e),Pt(e),At(e),On(e))}function dn(e,t){let n;if(Pt(e)!==0||At(e)!==0||On(e)!==0){const r=t;n=new Lr(r.Time,r.Resolution,new qi(t.Offset.X+Pt(e),t.Offset.Y+At(e),t.Offset.Z+On(e)),r.VertexBuffer,r.TextureDetails,r.TextureLayer,r.ZRange)}else n=t;for(let r=0;r<=J(e).length-1;r++){const s=J(e)[r];if(s!=null){const o=s;switch(o.tag){case 0:{const i=o.fields[0];ys(i)&&dn(i,n);break}case 3:{const i=o.fields[0];dn(i.RenderView,i.Callback(n));break}case 4:{dn(o.fields[0].RenderView,n);break}case 1:break;default:od(o.fields[0].Renderer,n)}}}}function dd(e,t,n){pu(e),ot(J(e)),Un(e,!1),Hr(e,!1),Js(e,n),Su(!1,t,e,new A(0,[n]),void 0,void 0),fn(e,!0),ot(de(e))}let hr=[],ir=[];const Lt=Ga();class hd extends ce{constructor(){super(),this.tag=0,this.fields=[]}cases(){return["Up"]}}function Qs(e){let t;const n=e.Component.CurrentHook|0;return e.Component.CurrentHook=n+1|0,[n,(t=ua(n,e.Component.Hooks),t!=null?ge(x(t)):void 0)]}function Bo(e,t){let n;const r=Qs(e),s=r[1];return vf(e.Component,r[0],s!=null?x(s):(n=t(),e.Component.Hooks.push(n),n))}function md(e,t){Qs(e)[1]!=null||(t(),on(Lt,new un(2,[!0,e.Component.Id])),e.Component.Hooks.push(!0)),Ur(e.Component.RenderView,!0)}function _d(e,t,n){const r=Qs(e),s=r[1];s!=null?pe(x(s),t)||(n(t),e.Component.Hooks[r[0]]=t):(n(t),e.Component.Hooks.push(t))}function pd(e,t){hr.push(new Df(ic(xr(),e),t,void 0))}function gd(){let e;const t=hr;hr=ir,ir=t;const n=xr();let r=U(ir);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=()=>{lc(n,s.Time)>=0?s.Call():hr.push(s)},i=s.Component;if(i!=null){if(e=i,!e.Removed){const u=i;o()}}else o()}}finally{K(r)}ot(ir)}function wd(e,t){gd();const n=(i,u,l)=>{let c=!1;const d=(f,h,p,w)=>{for(let _=0;_<=h.length-1;_++){const m=h[_],y=(M,C)=>{let v,k,L,H,Z;if(Tr(C)){d(M,J(C),p+Pt(C),w+At(C));const Y=()=>new Qi(p+Pt(C),w+At(C),nd(C),rd(C));switch(l.tag){case 1:{!c&&(v=xs(C),v!=null)&&Vo(Y(),i,u)&&(rs!=null&&x(rs)(new pt(i,u)),(k=xs(C),x(k))(new pt(i,u)),c=!0,rs=du(C));break}case 2:{if(Nl(l.fields[0],M)){const B=Y();on(Lt,new un(1,[!0,B.X,B.Y])),c=!0}break}default:!c&&(L=Ss(C),(L!=null?!0:(H=bs(C),H!=null))?!0:(Z=Cs(C),Z!=null))&&(Vo(Y(),i,u)?(Ao(C)||le(B=>{B(new pt(i,u)),Oo(C,!0)},cn(bs(C))),le(B=>{B(new pt(i,u))},cn(Ss(C)))):Ao(C)&&(le(B=>{B(new pt(i,u))},cn(Cs(C))),Oo(C,!1)))}}};if(m!=null){const M=m;switch(M.tag){case 0:{y(f,M.fields[0]);break}case 4:{const C=M.fields[0];y(C.Id,C.RenderView);break}case 3:{d(f,J(M.fields[0].RenderView),p,w);break}case 2:{const C=M.fields[0];d(f,J(C.RenderView),p+Pt(C.RenderView),w+At(C.RenderView));break}}}}};d(Vr(bi(-1)),J(e),0,0)},r=i=>{let u=!1;const l=c=>{if(!u)for(let d=0;d<=c.length-1;d++){const f=c[d];if(f!=null){const h=f,p=w=>{l(J(w));const _=mu(w);_!=null&&_(i)&&(u=!0)};switch(h.tag){case 4:{p(h.fields[0].RenderView);break}case 0:{p(h.fields[0]);break}case 3:{p(h.fields[0].RenderView);break}case 2:{p(h.fields[0].RenderView);break}}}}};l(J(e))},s=()=>{let i,u=Ke();if(i=[Za(Lt,new se(()=>u,l=>{u=l})),u],i[0]){const l=i[1];switch(l.tag){case 1:{l.fields[0]&&n(l.fields[1],l.fields[2],new Qr(1,[]));break}case 2:{l.fields[0]&&n(0,0,new Qr(2,[l.fields[1]]));break}case 3:{r(new Jr(2,[l.fields[0],l.fields[1]]));break}case 4:{r(new Jr(0,[l.fields[0],l.fields[1]]));break}case 5:{r(new Jr(1,[l.fields[0],l.fields[1]]));break}default:n(l.fields[0],l.fields[1],new Qr(0,[]))}s()}};s();const o=()=>{let i,u=Ke();if(i=[La(ud,new se(()=>u,l=>{u=l})),u],i[0]){const l=i[1];l.IsStale&&bu(t,l),o()}};o()}function $o(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return yd(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function yd(e){return Number(BigInt(e)/10000n)}function Sd(e){return e/1e3}function bd(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return $o(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let s=0,o=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,l=+r[4],c=+r[5];if(r[3]!=null&&(s=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:o=+r[8]*100;break;case 2:o=+r[8]*10;break;case 3:o=+r[8];break;case 4:o=+r[8]/10;break;case 5:o=+r[8]/100;break;case 6:o=+r[8]/1e3;break;case 7:o=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*$o(s,l,c,i,o)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function Cd(e,t){try{return t.contents=bd(e),!0}catch{return!1}}class xd{constructor(){this.textureNames=new Set([])}}function Cu(e){return e.textureNames}class Md{constructor(){}}class Ed extends xd{constructor(t){super(),this.baseUrl=t}"Imp.Setup.DataManager.LoadTexture"(t,n){const r=this,s=document.createElement("img");s.onload=o=>{n(new $l(s,s.width>>>0,s.height>>>0))},s.src=`${r.baseUrl}/${t}`}"Imp.Setup.DataManager.LoadString"(t,n){const r=this;Hl(Zc(Mo,Wc(Mo,()=>aa(`${r.baseUrl}/${t}`,Ce()).then(s=>s.text().then(o=>(n(o),Promise.resolve()))))))}}function Rd(e){return new Ed(e)}function Td(e,t,n,r,s){const o=[],i=pn(Cu(t)),u=()=>{if(o.length<mn(i)){const l=Vi(o.length,i);t["Imp.Setup.DataManager.LoadTexture"](`${l}.png`,c=>{o.push([l,c]),u()})}else{const l=rf(pn(o),e),c=l[1],d=new gf(l[0],c[0],c[1]);let f,h;f=m=>{let y;switch(h!=null?(h[1],h[0]===m?y=0:y=1):y=1,y){case 0:{const M=h[1];return h[0],M}default:{let M,C=0;if(M=[Vs(l[2],m,new se(()=>C,v=>{C=v})),C],M[0]){const v=M[1];return h=[m,v],v}else return}}};const p=Vn(of,e),w=xr(),_=Pn("Root");dd(_,e,n),s(m=>{le(y=>{y()},cn(r)),dn(_,new Lr(Sd(cc(xr(),w)),m,new qi(0,0,0),p,d,f,[0,1]))},m=>{wd(_,e)})}};u()}class Id extends Md{constructor(t,n,r){super();let s,o,i,u;this.resolution=new Fo(0,0),this.tick=()=>{},this.canvas=(s=document.createElement("canvas"),o=document.getElementById(t),o.appendChild(s),i=n,u=r,this.resolution=new Fo(~~i,~~u),s.width=i,s.height=u,s)}"Imp.Setup.Display.AttachView"(t,n,r){const s=this;Td(s.canvas.getContext("webgl2",ge({premultipliedAlpha:!1})),t,n,r,(o,i)=>{s.tick=()=>{i(),o(s.resolution)}})}"Imp.Setup.Display.AttachInputZ2D84AEB6"(t){const n=this;t({AttachKeyboard(){window.addEventListener("keydown",r=>{const s=Lo(n,r.code);s!=null&&on(Lt,new un(3,[!0,s]))}),window.addEventListener("keyup",r=>{const s=Lo(n,r.code);s!=null&&on(Lt,new un(3,[!1,s]))})},AttachMouse(){window.addEventListener("mousemove",r=>{on(Lt,new un(0,[r.clientX,r.clientY]))}),window.addEventListener("mouseup",r=>{on(Lt,new un(1,[!0,r.clientX,r.clientY]))})},AttachGamepad(){}})}"Imp.Setup.Display.Run"(){const t=this,n=()=>{window.requestAnimationFrame(r=>{t.tick(),n()})};n()}}function vd(e,t,n){return new Id(e,t,n)}function Lo(e,t){switch(t){case"KeyA":return 65;case"KeyB":return 66;case"KeyC":return 67;case"KeyD":return 68;case"KeyE":return 69;case"KeyF":return 70;case"KeyG":return 71;case"KeyH":return 72;case"KeyI":return 73;case"KeyJ":return 74;case"KeyK":return 75;case"KeyL":return 76;case"KeyM":return 77;case"KeyN":return 78;case"KeyO":return 79;case"KeyP":return 80;case"KeyQ":return 81;case"KeyR":return 82;case"KeyS":return 83;case"KeyT":return 84;case"KeyU":return 85;case"KeyV":return 86;case"KeyW":return 87;case"KeyX":return 88;case"KeyY":return 89;case"KeyZ":return 90;case"Digit0":return 48;case"Digit1":return 49;case"Digit2":return 50;case"Digit3":return 51;case"Digit4":return 52;case"Digit5":return 53;case"Digit6":return 54;case"Digit7":return 55;case"Digit8":return 56;case"Digit9":return 57;case"Space":return 32;case"ShiftLeft":return 340;case"ShiftRight":return 344;case"Backspace":return 259;case"Delete":return 261;case"Semicolon":return 59;case"ArrowLeft":return 263;case"ArrowRight":return 262;case"ArrowDown":return 264;case"ArrowUp":return 265;case"Backquote":return 96;case"Minus":return 45;case"Equal":return 61;case"BracketLeft":return 91;case"BracketRight":return 93;case"Backslash":return 92;case"Quote":return 39;case"Comma":return 44;case"Period":return 46;case"Slash":return 47;case"CapsLock":return 280;case"Tab":return 258;case"Enter":return 257;case"Escape":return 256;case"ControlLeft":return 341;case"ControlRight":return 345;case"AltLeft":return 342;case"AltRight":return 346;default:{mc(`Key: ${t}`);return}}}class Dd{constructor(t){let n,r,s,o,i,u,l,c,d,f,h,p,w,_,m,y,M,C,v,k,L,H,Z,Y,B,G,q,xe;this.gl=t;const ae=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec3 offset;\r
in vec4 position;\r
in vec4 texturePosition;\r
in float textureLayer;\r
in float depth;\r
uniform vec2 depthRange;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec3 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec3(\r
            mix(vec2(0.0, 0.0), vec2(1.0, 1.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution),\r
            textureLayer);\r
\r
    float x = mix(-1.0, 1.0, (offset.x + position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (offset.y + position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
\r
    float minDepth = depthRange.x;\r
    float maxDepth = depthRange.y;\r
    float d = ((offset.z + depth) - minDepth) / (maxDepth - minDepth);\r
\r
    frag_depth = 1.0f - d;\r
}`,Pe=`#version 300 es\r
precision highp float;\r
\r
in vec3 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2DArray diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=zi(ae,Pe,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.offsetLocation=(l=this.gl,c=this.program,l.getUniformLocation(c,"offset")),this.positionLocation=(d=(f=this.gl,h=this.program,f.getAttribLocation(h,"position")),d>>>0),this.texturePositionLocation=(p=(w=this.gl,_=this.program,w.getAttribLocation(_,"texturePosition")),p>>>0),this.textureLayerLocation=(m=(y=this.gl,M=this.program,y.getAttribLocation(M,"textureLayer")),m>>>0),this.depthLocation=(C=(v=this.gl,k=this.program,v.getAttribLocation(k,"depth")),C>>>0),this.depthRangeLocation=(L=this.gl,H=this.program,L.getUniformLocation(H,"depthRange")),this.outputResolutionLocation=(Z=this.gl,Y=this.program,Z.getUniformLocation(Y,"outputResolution")),this.textureResolutionLocation=(B=this.gl,G=this.program,B.getUniformLocation(G,"textureResolution")),this.diffuseTextureLocation=(q=this.gl,xe=this.program,q.getUniformLocation(xe,"diffuseTexture"))}}function kd(e){return new Dd(e)}function Fd(e){return e.program}function Ho(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation),e.gl.enableVertexAttribArray(e.positionLocation),e.gl.enableVertexAttribArray(e.texturePositionLocation),e.gl.enableVertexAttribArray(e.textureLayerLocation),e.gl.enableVertexAttribArray(e.depthLocation))}function Vd(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=g(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function Pd(e,t,n,r){e.gl.uniform3f(e.offsetLocation,t,n,r)}function Ad(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.positionLocation,4,5126,!1,s,o);const i=g(n,0);return r.vertexAttribDivisor(e.positionLocation,i)}function Od(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.texturePositionLocation,4,5126,!1,s,o);const i=g(n,0);return r.vertexAttribDivisor(e.texturePositionLocation,i)}function Bd(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.textureLayerLocation,1,5126,!1,s,o);const i=g(n,0);return r.vertexAttribDivisor(e.textureLayerLocation,i)}function $d(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.depthLocation,1,5126,!1,s,o);const i=g(n,0);return r.vertexAttribDivisor(e.depthLocation,i)}function Ld(e,t,n){e.gl.uniform2f(e.depthRangeLocation,t,n)}function Hd(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function Ud(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function Nd(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(35866,t)}let ur=Dr(void 0);function Gd(e,t){let n;if(ur()==null){const r=kd(e);Ho(r),t(r),ur(r)}else{const r=ur();pe((n=e,n.getParameter(n.CURRENT_PROGRAM)),Fd(r))||(Ho(r),t(r))}return x(ur())}class Wd{constructor(t){let n,r,s,o,i,u,l,c,d,f,h,p,w,_,m,y,M,C;this.gl=t;const v=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec4 position;\r
uniform vec4 texturePosition;\r
uniform float depth;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec2 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec2(\r
            mix(vec2(0.0, 1.0), vec2(1.0, 0.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution));\r
\r
    float x = mix(-1.0, 1.0, (position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
    frag_depth = depth;\r
}`,k=`#version 300 es\r
precision highp float;\r
\r
in vec2 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2D diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=zi(v,k,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.positionLocation=(l=this.gl,c=this.program,l.getUniformLocation(c,"position")),this.texturePositionLocation=(d=this.gl,f=this.program,d.getUniformLocation(f,"texturePosition")),this.depthLocation=(h=this.gl,p=this.program,h.getUniformLocation(p,"depth")),this.outputResolutionLocation=(w=this.gl,_=this.program,w.getUniformLocation(_,"outputResolution")),this.textureResolutionLocation=(m=this.gl,y=this.program,m.getUniformLocation(y,"textureResolution")),this.diffuseTextureLocation=(M=this.gl,C=this.program,M.getUniformLocation(C,"diffuseTexture"))}}function Zd(e){return new Wd(e)}function Yd(e){return e.program}function Es(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation))}function jd(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=g(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function Xd(e,t,n,r,s){e.gl.uniform4f(e.positionLocation,t,n,r,s)}function Kd(e,t,n,r,s){e.gl.uniform4f(e.texturePositionLocation,t,n,r,s)}function zd(e,t){e.gl.uniform1f(e.depthLocation,t)}function qd(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function Jd(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function Qd(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(3553,t)}let lr=Dr(void 0);function e0(e,t){let n;if(lr()==null){const r=Zd(e);Es(r),t(r),lr(r)}else{const r=lr();pe((n=e,n.getParameter(n.CURRENT_PROGRAM)),Yd(r))||(Es(r),t(r))}return x(lr())}class t0 extends D{constructor(t,n,r){super(),this.R=t|0,this.G=n|0,this.B=r|0}}let n0=class extends Ks{constructor(t,n,r,s){super(r,s),this.backgroundColor=t,this.scale=n|0,this.gl=r,this.view=s,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r;const s=this;if(s.renderResult==null){let o;const i=s.gl;o=i.getParameter(i.FRAMEBUFFER_BINDING);const u=[t.Resolution.Width>>>0,t.Resolution.Height>>>0];s.renderResult=(n=sf(36160,new Int32Array([36064]),s.gl),r=ko(u[0],u[1],zr[0],zr[1],zr[2],36064,s.gl),{DepthTexture:ko(u[0],u[1],qr[0],qr[1],qr[2],36096,s.gl),DiffuseTexture:r,FrameBuffer:n}),s.gl.bindFramebuffer(36160,o)}}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=x(n.renderResult);let s;const o=n.gl;s=o.getParameter(o.FRAMEBUFFER_BINDING),n.gl.bindFramebuffer(36160,r.FrameBuffer),n.gl.disable(3024),n.gl.enable(2929),n.gl.enable(2884),n.gl.cullFace(1029),n.gl.frontFace(2304);const i=t.Resolution.Width>>>0,u=t.Resolution.Height>>>0;n.gl.viewport(0,0,i,u);const l=n.backgroundColor.R/255,c=n.backgroundColor.G/255,d=n.backgroundColor.B/255;n.gl.clearColor(l,c,d,1),n.gl.clearDepth(1);const f=16640;n.gl.clear(f),dn(n.view,t),n.gl.bindFramebuffer(36160,s);const h=e0(n.gl,M=>{});Es(h);const p=t.Resolution.Width>>>0,w=t.Resolution.Height>>>0;n.gl.viewport(0,0,p,w),n.gl.disable(2929),n.gl.disable(2960),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515),jd(h,t.VertexBuffer);const _=t.Resolution.Width*n.scale,m=t.Resolution.Height*n.scale;qd(h,_,m),Jd(h,_,m),Qd(h,r.DiffuseTexture),Xd(h,0,0,_,m),Kd(h,0,0,t.Resolution.Width,t.Resolution.Height),zd(h,1);const y=1;n.gl.drawArraysInstanced(4,0,6,y)}"Imp.DisplayModels.RendererBase.OnDistory"(){s0(this)}};function r0(e,t,n,r){return new n0(e,t,n,r)}function s0(e){le(t=>{e.gl.deleteTexture(t.DiffuseTexture),e.gl.deleteTexture(t.DepthTexture),e.gl.deleteFramebuffer(t.FrameBuffer)},cn(e.renderResult)),e.renderResult=void 0}class o0 extends Xn{constructor(t,n,r){super(),this.backgroundColor=t,this.scale=n|0,this.key=r}}function i0(e,t,n){return new o0(e,t,n)}function u0(e,t){const n=Kn();return t(n),new Xs(e.key,(r,s)=>r0(e.backgroundColor,e.scale,r,s),n)}function l0(e,t,n){return i0(e,g(t,1),g(n,""))}class c0 extends D{constructor(t,n,r){super(),this.Name=t,this.Destructible=n,this.Passable=r}}function a0(){return qe("Client.Common.Models.MapPointType",[],c0,()=>[["Name",Sn],["Destructible",cs],["Passable",cs]])}class f0 extends D{constructor(t){super(),this.Player=t|0}}function d0(){return qe("Client.Common.Models.Cauldron",[],f0,()=>[["Player",ve]])}class xu extends D{constructor(t,n,r){super(),this.Player=t|0,this.Id=n|0,this.Open=r}}function h0(){return qe("Client.Common.Models.Gate",[],xu,()=>[["Player",ve],["Id",ve],["Open",cs]])}class eo extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PlayerMove","PlayerAction"]}}function m0(){return gi("Client.Common.Models.TriggerMode",[],eo,()=>[[],[]])}class _0 extends D{constructor(t,n,r,s){super(),this.Target=t,this.Action=n,this.Player=r,this.Mode=s}}function p0(){return qe("Client.Common.Models.Trigger",[],_0,()=>[["Target",_o(ve)],["Action",Sn],["Player",_o(ve)],["Mode",m0()]])}class Mu extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Cauldron","Gate","Trigger"]}}function g0(){return gi("Client.Common.Models.Interactive",[],Mu,()=>[[["Item1",gs()],["Item2",d0()]],[["Item1",gs()],["Item2",h0()]],[["Item1",lf()],["Item2",p0()]]])}class w0 extends D{constructor(t,n,r,s,o){super(),this.Width=t|0,this.Height=n|0,this.Points=r,this.PointTypes=s,this.Interactives=o}}function y0(){return qe("Client.Common.Models.Map",[],w0,()=>[["Width",ve],["Height",ve],["Points",sn(sn(sn(Sn)))],["PointTypes",sn(a0())],["Interactives",sn(g0())]])}class R extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class Eu extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class Ru extends D{constructor(t,n){super(),this.Hash=t,this.Coders=n}}class S0{constructor(){this.cache=new Map([])}}function b0(){return new S0}function C0(e,t,n){let r,s=Ke();if(r=[Vs(e.cache,t,new se(()=>s,o=>{s=o})),s],r[0])return r[1];{const o=n();return Bl(e.cache,t,o),o}}const x0=b0();function Uo(e){return e.slice(void 0,0+1).toLowerCase()+e.slice(1,e.length)}function M0(e,t){switch(e.tag){case 2:return dc(Uo(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Uo(t)}}const E0=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,No=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,R0=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function T0(e){function t(r){return r.replace(No,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(E0.test(n))return Sc(n,"{","}","(",")");if(No.test(n))return t(n);if(R0.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function I0(e,t){try{return t.contents=T0(e),!0}catch{return!1}}function v0(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}var Rs;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(Rs||(Rs={}));function D0(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function Go(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function k0(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function F0(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function V0(e,t){if(t&Rs.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function Tu(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||V0(o,t),!k0(n).test(i))return D0(s,n)}return null}function P0(e,t,n,r,s){const o=Tu(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[u,l]=Go(!0,r);!n&&o.radix!==10&&i>=u&&i<=l&&(i=i<<32-r>>32-r);const[c,d]=Go(n,r);if(i>=c&&i<=d)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function xn(e,t,n,r,s){try{return s.contents=P0(e,t,n,r),!0}catch{return!1}}function A0(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function O0(e,t,n,r,s){const o=Tu(e,t,s);if(o!=null){const i=(c,d)=>{const f=Math.max(c.length,d.length);return c.padStart(f,"0")<=d.padStart(f,"0")},u=o.sign==="-",l=A0(n||o.radix!==10,o.radix,u);if(i(o.digits.toUpperCase(),l))return e=F0(o.radix)+o.digits,e=u?o.sign+e:e,Zl(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function B0(e,t,n,r,s){try{return s.contents=O0(e,t,n,r),!0}catch{return!1}}function Iu(e,t){$0(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function $0(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function L0(){return Iu(-621355968e5,0)}function H0(e){const[t,n]=xi(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return Iu(t.getTime(),r)}function U0(e,t){try{return t.contents=H0(e),!0}catch{return!1}}class vu{constructor(t){this.k=t}}function Re(e){return new vu(e)}function F(e){return e.k}class $ extends vu{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function Te(e,t,n,r){return new $(e,t,n,r)}function W(e){return e.left}function N(e){return e.right}function ln(e){return e.h}function Du(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=x(n);if(s instanceof $){const o=s;e=W(o),t=Du(N(o),r+1);continue e}else return r+1|0}else return r|0}}function N0(e){return Du(e,0)}function Ye(e,t,n){let r,s,o;const i=e;if(i!=null){const d=x(i);o=d instanceof $?(r=d,ln(r)):1}else o=0;let u;const l=n;if(l!=null){const d=x(l);u=d instanceof $?(s=d,ln(s)):1}else u=0;const c=(o<u?u:o)|0;return c===0?Re(t):Te(t,e,n,c+1)}function Wo(e,t,n){let r,s,o,i,u,l,c,d,f;const h=e;if(h!=null){const _=x(h);f=_ instanceof $?(r=_,ln(r)):1}else f=0;let p;const w=n;if(w!=null){const _=x(w);p=_ instanceof $?(s=_,ln(s)):1}else p=0;if(p>f+2){const _=x(n);if(_ instanceof $){const m=_;if(o=W(m),(o!=null?(i=x(o),i instanceof $?(u=i,ln(u)):1):0)>f+1){const y=x(W(m));if(y instanceof $){const M=y;return Ye(Ye(e,t,W(M)),F(M),Ye(N(M),F(m),N(m)))}else throw new Error("internal error: Set.rebalance")}else return Ye(Ye(e,t,W(m)),F(m),N(m))}else throw new Error("internal error: Set.rebalance")}else if(f>p+2){const _=x(e);if(_ instanceof $){const m=_;if(l=N(m),(l!=null?(c=x(l),c instanceof $?(d=c,ln(d)):1):0)>p+1){const y=x(N(m));if(y instanceof $){const M=y;return Ye(Ye(W(m),F(m),W(M)),F(M),Ye(N(M),t,n))}else throw new Error("internal error: Set.rebalance")}else return Ye(W(m),F(m),Ye(N(m),t,n))}else throw new Error("internal error: Set.rebalance")}else return Ye(e,t,n)}function Nn(e,t,n){if(n!=null){const r=x(n),s=e.Compare(t,F(r))|0;if(r instanceof $){const o=r;return s<0?Wo(Nn(e,t,W(o)),F(o),N(o)):s===0?n:Wo(W(o),F(o),Nn(e,t,N(o)))}else{const o=e.Compare(t,F(r))|0;return o<0?Te(t,void 0,n,2):o===0?n:Te(t,n,void 0,2)}}else return Re(t)}function ku(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=x(o),u=r.Compare(s,F(i))|0;if(i instanceof $){const l=i;if(u<0){e=r,t=s,n=W(l);continue e}else{if(u===0)return!0;e=r,t=s,n=N(l);continue e}}else return u===0}else return!1}}function Fu(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=x(r);if(s instanceof $){const o=s;Fu(n,W(o)),n(F(o)),e=n,t=N(o);continue e}else n(F(s))}break}}class G0 extends D{constructor(t,n){super(),this.stack=t,this.started=n}}function Vu(e){e:for(;;){const t=e;if(O(t))return Ce();{const n=T(t),r=P(t);if(n!=null){const s=x(n);if(s instanceof $){const o=s;e=z([W(o),Re(F(o)),N(o)],r);continue e}else return t}else{e=r;continue e}}}}function Zo(e){return new G0(Vu(ye(e)),!1)}function W0(){throw new Error("Enumeration not started")}function Z0(){throw new Error("Enumeration already started")}function Yo(e){if(e.started){const t=e.stack;if(O(t))return Z0();if(T(t)!=null){const n=x(T(t));return F(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return W0()}function Y0(e){if(e.started){const t=e.stack;if(O(t))return!1;if(T(t)!=null){if(x(T(t))instanceof $)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=Vu(P(t)),!O(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!O(e.stack)}function jo(e){let t=Zo(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Yo(t)},"System.Collections.IEnumerator.get_Current"(){return Yo(t)},"System.Collections.IEnumerator.MoveNext"(){return Y0(t)},"System.Collections.IEnumerator.Reset"(){t=Zo(e)},Dispose(){}}}function j0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(O(s))return O(o)?0:-1;if(O(o))return 1;if(T(o)!=null)if(T(s)!=null){const i=x(T(s)),u=x(T(o));if(i instanceof $){const l=i;if(W(l)==null)if(u instanceof $){const c=u;if(W(c)==null){const d=r.Compare(F(l),F(c))|0;if(d!==0)return d|0;e=r,t=rt(N(l),P(s)),n=rt(N(c),P(o));continue e}else{let d,f,h,p,w;switch(O(s)?O(o)?d=2:T(o)!=null?(d=1,p=P(o),w=x(T(o))):d=2:T(s)!=null?(d=0,f=P(s),h=x(T(s))):O(o)?d=2:T(o)!=null?(d=1,p=P(o),w=x(T(o))):d=2,d){case 0:if(h instanceof $){const _=h;e=r,t=z([W(_),Te(F(_),void 0,N(_),0)],f),n=o;continue e}else{e=r,t=z([void 0,Re(F(h))],f),n=o;continue e}case 1:if(w instanceof $){const _=w;e=r,t=s,n=z([W(_),Te(F(_),void 0,N(_),0)],p);continue e}else{e=r,t=s,n=z([void 0,Re(F(w))],p);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(F(l),F(u))|0;if(c!==0)return c|0;e=r,t=rt(N(l),P(s)),n=rt(void 0,P(o));continue e}else{let c,d,f,h,p;switch(O(s)?O(o)?c=2:T(o)!=null?(c=1,h=P(o),p=x(T(o))):c=2:T(s)!=null?(c=0,d=P(s),f=x(T(s))):O(o)?c=2:T(o)!=null?(c=1,h=P(o),p=x(T(o))):c=2,c){case 0:if(f instanceof $){const w=f;e=r,t=z([W(w),Te(F(w),void 0,N(w),0)],d),n=o;continue e}else{e=r,t=z([void 0,Re(F(f))],d),n=o;continue e}case 1:if(p instanceof $){const w=p;e=r,t=s,n=z([W(w),Te(F(w),void 0,N(w),0)],h);continue e}else{e=r,t=s,n=z([void 0,Re(F(p))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof $){const l=u;if(W(l)==null){const c=r.Compare(F(i),F(l))|0;if(c!==0)return c|0;e=r,t=rt(void 0,P(s)),n=rt(N(l),P(o));continue e}else{let c,d,f,h,p;switch(O(s)?O(o)?c=2:T(o)!=null?(c=1,h=P(o),p=x(T(o))):c=2:T(s)!=null?(c=0,d=P(s),f=x(T(s))):O(o)?c=2:T(o)!=null?(c=1,h=P(o),p=x(T(o))):c=2,c){case 0:if(f instanceof $){const w=f;e=r,t=z([W(w),Te(F(w),void 0,N(w),0)],d),n=o;continue e}else{e=r,t=z([void 0,Re(F(f))],d),n=o;continue e}case 1:if(p instanceof $){const w=p;e=r,t=s,n=z([W(w),Te(F(w),void 0,N(w),0)],h);continue e}else{e=r,t=s,n=z([void 0,Re(F(p))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(F(i),F(u))|0;if(l!==0)return l|0;e=r,t=P(s),n=P(o);continue e}}else{x(T(o));let i,u,l,c,d;switch(O(s)?O(o)?i=2:T(o)!=null?(i=1,c=P(o),d=x(T(o))):i=2:T(s)!=null?(i=0,u=P(s),l=x(T(s))):O(o)?i=2:T(o)!=null?(i=1,c=P(o),d=x(T(o))):i=2,i){case 0:if(l instanceof $){const f=l;e=r,t=z([W(f),Te(F(f),void 0,N(f),0)],u),n=o;continue e}else{e=r,t=z([void 0,Re(F(l))],u),n=o;continue e}case 1:if(d instanceof $){const f=d;e=r,t=s,n=z([W(f),Te(F(f),void 0,N(f),0)],c);continue e}else{e=r,t=s,n=z([void 0,Re(F(d))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(T(s)!=null){x(T(s));let i,u,l,c,d;switch(O(s)?O(o)?i=2:T(o)!=null?(i=1,c=P(o),d=x(T(o))):i=2:T(s)!=null?(i=0,u=P(s),l=x(T(s))):O(o)?i=2:T(o)!=null?(i=1,c=P(o),d=x(T(o))):i=2,i){case 0:if(l instanceof $){const f=l;e=r,t=z([W(f),Te(F(f),void 0,N(f),0)],u),n=o;continue e}else{e=r,t=z([void 0,Re(F(l))],u),n=o;continue e}case 1:if(d instanceof $){const f=d;e=r,t=s,n=z([W(f),Te(F(f),void 0,N(f),0)],c);continue e}else{e=r,t=s,n=z([void 0,Re(F(d))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=P(s),n=P(o);continue e}}}function Xo(e,t,n){return t==null?n==null?0:-1:n==null?1:j0(e,ye(t),ye(n))|0}function X0(e,t,n){let r=n;Fu(s=>{Bt(t,r,s),r=r+1|0},e)}function K0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){e=r,t=Nn(r,o["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=o;continue e}else return s}}function z0(e,t){return Ar((n,r)=>Nn(e,r,n),void 0,t)}function q0(e,t){return it((n,r)=>Nn(e,r,n),void 0,t)}function J0(e,t){if(Ve(t))return z0(e,t);if(t instanceof we)return q0(e,t);{const n=U(t);try{return K0(e,void 0,n)}finally{K(n)}}}class to{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return th(this)|0}Equals(t){let n;const r=this;return t instanceof to&&(n=t,Xo(mr(r),nt(r),nt(n))===0)}toString(){return"set ["+Pr("; ",gt(n=>ze(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return Xo(mr(n),nt(n),nt(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return ku(mr(n),t,nt(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){X0(nt(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return ss(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return ss(this)|0}GetEnumerator(){return jo(nt(this))}[Symbol.iterator](){return wn(U(this))}"System.Collections.IEnumerable.GetEnumerator"(){return jo(nt(this))}get size(){return ss(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return eh(this,t)}keys(){return gt(n=>n,this)}values(){return gt(n=>n,this)}entries(){return gt(n=>[n,n],this)}forEach(t,n){const r=this;le(s=>{t(s,s,r)},r)}}function Q0(e,t){return new to(e,t)}function mr(e){return e.comparer}function nt(e){return e.tree}function ss(e){return N0(nt(e))}function eh(e,t){return ku(mr(e),t,nt(e))}function th(e){let t=0;const n=U(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+St(r)+631|0}}finally{K(n)}return Math.abs(t)|0}function nh(e,t){return Q0(t,J0(t,e))}function Dn(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function rh(e,t){const n=t.tag===2?Dn(t.fields[0],t.fields[1],!0):t.tag===1?Dn(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?Dn(t.fields[0],t.fields[1],!0):t.tag===4?Dn(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+Pr(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:Dn(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function Pu(e,t,n){const r=t(e,n);if(r.tag===1){const s=r.fields[0];return new S(1,[rh(s[0],s[1])])}else return new S(0,[r.fields[0]])}function sh(e,t){try{return Pu("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new S(1,["Given an invalid JSON: "+n.message]);throw n}}function Au(e,t){const n=sh(e,t);if(n.tag===1)throw new Error(n.fields[0]);return n.fields[0]}function Ou(e,t){return typeof t=="string"?new S(0,[t]):new S(1,[[e,new R(0,["a string",t])]])}function oh(e,t){if(typeof t=="string"){const n=t;return n.length===1?new S(0,[n[0]]):new S(1,[[e,new R(0,["a single character string",t])]])}else return new S(1,[[e,new R(0,["a char",t])]])}function ih(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[I0(t,new se(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new R(0,["a guid",t])]])}else return new S(1,[[e,new R(0,["a guid",t])]])}function uh(e,t){return t==null?new S(0,[void 0]):new S(1,[[e,new R(0,["null",t])]])}const Ko=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-128<=s&&s<=127?new S(0,[(s+128&255)-128]):new S(1,[[n,new R(1,["a sbyte",s,"Value was either too large or too small for a sbyte"])]]):new S(1,[[n,new R(1,["a sbyte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[xn(r,511,!1,8,new se(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new R(0,["a sbyte",r])]])}else return new S(1,[[n,new R(0,["a sbyte",r])]])},zo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=255?new S(0,[s&255]):new S(1,[[n,new R(1,["a byte",s,"Value was either too large or too small for a byte"])]]):new S(1,[[n,new R(1,["a byte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[xn(r,511,!0,8,new se(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new R(0,["a byte",r])]])}else return new S(1,[[n,new R(0,["a byte",r])]])},qo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-32768<=s&&s<=32767?new S(0,[(s+32768&65535)-32768]):new S(1,[[n,new R(1,["an int16",s,"Value was either too large or too small for an int16"])]]):new S(1,[[n,new R(1,["an int16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[xn(r,511,!1,16,new se(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new R(0,["an int16",r])]])}else return new S(1,[[n,new R(0,["an int16",r])]])},Jo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=65535?new S(0,[s&65535]):new S(1,[[n,new R(1,["an uint16",s,"Value was either too large or too small for an uint16"])]]):new S(1,[[n,new R(1,["an uint16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[xn(r,511,!0,16,new se(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new R(0,["an uint16",r])]])}else return new S(1,[[n,new R(0,["an uint16",r])]])},Qo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-2147483648<=s&&s<=2147483647?new S(0,[~~s]):new S(1,[[n,new R(1,["an int",s,"Value was either too large or too small for an int"])]]):new S(1,[[n,new R(1,["an int",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[xn(r,511,!1,32,new se(()=>o,i=>{o=i|0})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new R(0,["an int",r])]])}else return new S(1,[[n,new R(0,["an int",r])]])},ei=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=4294967295?new S(0,[s>>>0]):new S(1,[[n,new R(1,["an uint32",s,"Value was either too large or too small for an uint32"])]]):new S(1,[[n,new R(1,["an uint32",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[xn(r,511,!0,32,new se(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new R(0,["an uint32",r])]])}else return new S(1,[[n,new R(0,["an uint32",r])]])},lh=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?po(-9223372036854775808n)<=s&&s<=po(9223372036854775807n)?new S(0,[Vr(Wl(s))]):new S(1,[[n,new R(1,["an int64",s,"Value was either too large or too small for an int64"])]]):new S(1,[[n,new R(1,["an int64",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0n;return s=[B0(r,511,!1,64,new se(()=>o,i=>{o=i})),o],s[0]?new S(0,[s[1]]):new S(1,[[n,new R(0,["an int64",r])]])}else return new S(1,[[n,new R(0,["an int64",r])]])};function ch(e,t){return typeof t=="boolean"?new S(0,[t]):new S(1,[[e,new R(0,["a boolean",t])]])}function ah(e,t){return typeof t=="number"?new S(0,[t]):new S(1,[[e,new R(0,["a float",t])]])}function fh(e,t){return typeof t=="number"?new S(0,[t]):new S(1,[[e,new R(0,["a float32",t])]])}function dh(e,t){if(typeof t=="string"){let n,r=tc();return n=[rc(t,new se(()=>r,s=>{r=s})),r],n[0]?new S(0,[sc(n[1])]):new S(1,[[e,new R(0,["a datetime",t])]])}else return new S(1,[[e,new R(0,["a datetime",t])]])}function hh(e,t){if(typeof t=="string"){let n,r=L0();return n=[U0(t,new se(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new R(0,["a datetimeoffset",t])]])}else return new S(1,[[e,new R(0,["a datetime",t])]])}function mh(e,t){if(typeof t=="string"){let n,r=0;return n=[Cd(t,new se(()=>r,s=>{r=s})),r],n[0]?new S(0,[n[1]]):new S(1,[[e,new R(0,["a timespan",t])]])}else return new S(1,[[e,new R(0,["a timespan",t])]])}function ti(e,t,n,r){let s;const o=n+".["+kt(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(o,V(e,i)):new S(1,[[o,new R(5,["a longer array. Need index `"+kt(e)+"` but there are only `"+(s=i.length,kt(s))+"` entries",r])]])}else return new S(1,[[o,new R(0,["an array",r])]])}function _h(e,t,n){return n==null?new S(0,[void 0]):bt(ge,e(t,n))}function ni(e,t,n){if(Array.isArray(n)){let r=-1;return bt($s,Ar((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+kt(r)+"]",o);return i.tag===0?new S(0,[rt(i.fields[0],s.fields[0])]):new S(1,[i.fields[0]])}else return s},new S(0,[Ce()]),n))}else return new S(1,[[t,new R(0,["a list",n])]])}function ph(e,t,n){if(Array.isArray(n)){let r=-1;return bt(la,Ar((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+kt(r)+"]",o);return i.tag===0?new S(0,[Yn([i.fields[0]],s.fields[0])]):new S(1,[i.fields[0]])}else return s},new S(0,[[]]),n))}else return new S(1,[[t,new R(0,["a seq",n])]])}function ri(e,t,n){if(Array.isArray(n)){let r=-1;const s=n;return Ar((o,i)=>{if(r=r+1|0,o.tag===0){const u=o.fields[0],l=e(t+".["+kt(r)+"]",i);return l.tag===0?(Bt(u,r,l.fields[0]),new S(0,[u])):new S(1,[l.fields[0]])}else return o},new S(0,[bn(new Array(s.length),0,s.length,null)]),s)}else return new S(1,[[t,new R(0,["an array",n])]])}function gh(e,t,n){return((s,o)=>{e:for(;;){const i=s,u=o;if(O(i))return new S(1,[[t,new R(7,[u])]]);{const l=Pu(t,he(T(i)),n);if(l.tag===1){s=P(i),o=Fi(u,ye(l.fields[0]));continue e}else return new S(0,[l.fields[0]])}}})(e,Ce())}function wh(e,t,n){return new S(0,[e])}function si(e,t,n,r){const s=t(n,r);return s.tag===0?e(s.fields[0],n,r):new S(1,[s.fields[0]])}function yh(e,t,n,r){const s=t(n,r);return s.tag===1?new S(1,[s.fields[0]]):new S(0,[e(s.fields[0])])}function Sh(e,t){let n;const r=e;return n=s=>o=>ti(0,r,s,o),s=>o=>si(il(i=>{let u;const l=t;return u=c=>d=>ti(1,l,c,d),c=>d=>si((f,h,p)=>wh([i,f]),he(u),c,d)}),he(n),s,o)}function bh(e){return Pa(e,{Compare:st})}function Ch(e){return nh(e,{Compare:st})}function xh(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?Rc((r,s)=>{const o=r[0];return s.tag===0?bt(i=>rt(i,s.fields[0]),r[1](t+"."+o)(n[o])):s},e,new S(0,[Ce()])):new S(1,[[t,new R(0,["an object",n])]])}function Mh(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?Hi((s,o)=>{if(s.tag===0){const i=e(n,o);if(i.tag===0){const u=t(n+"."+o,r[o]);return u.tag===0?new S(0,[rt([i.fields[0],u.fields[0]],s.fields[0])]):new S(1,[u.fields[0]])}else return new S(1,[i.fields[0]])}else return s},new S(0,[Ce()]),Object.keys(r)):new S(1,[[n,new R(0,["an object",r])]])}function Bu(e,t,n,r){let s;const o=t.length+e|0;if(o!==r.length)return new S(1,[[n,new R(6,[(s=r.length|0,as(Mr("Expected array of length %i but got %i"))(o)(s))])]]);{let i=new S(0,[Ce()]);for(let u=e;u<=r.length-1;u++)if(i.tag===0){const l=i.fields[0],c=as(Mr("%s[%i]"))(n)(u),d=V(u-e,t),f=V(u,r);i=bt(h=>rt(h,l),d(c)(f))}return bt($s,i)}}function oi(e,t,n,r,s,o){const i=Di(u=>Fs(u)===r,Rl(n));if(i!=null){const u=i,l=Bs(c=>je(e,t,!1,c[1]),Dl(u));return bt(c=>kl(u,Ft(c)),l.length===0&&o.length<=1?new S(0,[Ce()]):Bu(1,l,s,o))}else return new S(1,[[s,new R(6,["Cannot find case "+r+" in "+re(n)])]])}function ii(e,t,n,r){let s;const o=new se(Ke());let i;const u=re(r);i=u===""?e:ji(u,o,e);let l;if(vl(r)){const c=Bs(d=>[M0(t,Fs(d)),je(i,t,!1,d[1])],br(r));l=d=>f=>bt(h=>Fl(r,Ft(h)),xh(c,d,f))}else if(Il(r))l=c=>d=>{if(typeof d=="string")return oi(i,t,r,d,c,[]);if(Array.isArray(d)){const f=d;return Uc(h=>oi(i,t,r,h,c,f),Ou(c+"[0]",V(0,f)))}else return new S(1,[[c,new R(0,["a string or array",d])]])};else if(n)l=c=>d=>new S(1,[[c,new R(2,["an extra coder for "+re(r),d])]]);else throw new Error((s=re(r),as(Mr(`Cannot generate auto decoder for %s. Please pass an extra decoder.

Documentation available at: https://thoth-org.github.io/Thoth.Json/documentation/auto/extra-coders.html#ready-to-use-extra-coders`))(s)));return o.contents=l,l}function je(e,t,n,r){let s,o,i,u;const l=re(r),c=ka(l,e);if(c==null)if(bl(r)){const d=je(e,t,!1,kr(r));return f=>h=>ri(he(d),f,h)}else if(wi(r))switch(re(Ml(r))){case"System.SByte":return f=>h=>{const p=r,w=f,_=h,m=Ko(w)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const y=m.fields[0]|0;return tn(y,Qt(p),{Equals:(M,C)=>M===C,GetHashCode:ht})?new S(0,[en(p,y.toString())]):new S(1,[[w,new R(1,[re(p),_,"Unkown value provided for the enum"])]])}};case"System.Byte":return f=>h=>{const p=r,w=f,_=h,m=zo(w)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const y=m.fields[0];return tn(y,Qt(p),{Equals:(M,C)=>M===C,GetHashCode:ht})?new S(0,[en(p,y.toString())]):new S(1,[[w,new R(1,[re(p),_,"Unkown value provided for the enum"])]])}};case"System.Int16":return f=>h=>{const p=r,w=f,_=h,m=qo(w)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const y=m.fields[0]|0;return tn(y,Qt(p),{Equals:(M,C)=>M===C,GetHashCode:ht})?new S(0,[en(p,Qu(y))]):new S(1,[[w,new R(1,[re(p),_,"Unkown value provided for the enum"])]])}};case"System.UInt16":return f=>h=>{const p=r,w=f,_=h,m=Jo(w)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const y=m.fields[0];return tn(y,Qt(p),{Equals:(M,C)=>M===C,GetHashCode:ht})?new S(0,[en(p,y.toString())]):new S(1,[[w,new R(1,[re(p),_,"Unkown value provided for the enum"])]])}};case"System.Int32":return f=>h=>{const p=r,w=f,_=h,m=Qo(w)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const y=m.fields[0]|0;return tn(y,Qt(p),{Equals:(M,C)=>M===C,GetHashCode:ht})?new S(0,[en(p,kt(y))]):new S(1,[[w,new R(1,[re(p),_,"Unkown value provided for the enum"])]])}};case"System.UInt32":return f=>h=>{const p=r,w=f,_=h,m=ei(w)(_);if(m.tag===1)return new S(1,[m.fields[0]]);{const y=m.fields[0];return tn(y,Qt(p),{Equals:(M,C)=>M===C,GetHashCode:ht})?new S(0,[en(p,y.toString())]):new S(1,[[w,new R(1,[re(p),_,"Unkown value provided for the enum"])]])}};default:{const f=re(r),h=_c(Mr(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the following enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(f);return p=>h(p)}}else if(Cl(r))if(yi(r)){const d=Bs(f=>je(e,t,!1,f),Tl(r));return f=>h=>Array.isArray(h)?bt(p=>Vl(Ft(p)),Bu(0,d,f,h)):new S(1,[[f,new R(0,["an array",h])]])}else switch(re(xl(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return s=je(e,t,!0,V(0,_t(r))),f=>h=>_h(he(s),f,h);case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return o=je(e,t,!1,V(0,_t(r))),f=>h=>ni(he(o),f,h);case"System.Collections.Generic.IEnumerable`1[System.Object]":return i=je(e,t,!1,V(0,_t(r))),f=>h=>ph(he(i),f,h);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const f=je(e,t,!1,V(0,_t(r))),h=je(e,t,!1,V(1,_t(r)));let p;const w=Or([_=>m=>Mh(he(f),he(h),_,m),(u=Sh(he(f),he(h)),_=>m=>ni(he(u),_,m))]);return p=_=>m=>gh(w,_,m),_=>m=>yh(bh,he(p),_,m)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const f=je(e,t,!1,V(0,_t(r)));return h=>p=>{const w=ri(he(f),h,p);return w.tag===0?new S(0,[Ch(w.fields[0])]):new S(1,[w.fields[0]])}}default:return ii(e,t,n,r)}else switch(l){case"System.Boolean":return d=>f=>ch(d,f);case"Microsoft.FSharp.Core.Unit":return d=>f=>uh(d,f);case"System.String":return d=>f=>Ou(d,f);case"System.Char":return d=>f=>oh(d,f);case"System.SByte":return Ko;case"System.Byte":return zo;case"System.Int16":return qo;case"System.UInt16":return Jo;case"System.Int32":return Qo;case"System.UInt32":return ei;case"System.Double":return d=>f=>ah(d,f);case"System.Single":return d=>f=>fh(d,f);case"System.DateTime":return d=>f=>dh(d,f);case"System.DateTimeOffset":return d=>f=>hh(d,f);case"System.TimeSpan":return d=>f=>mh(d,f);case"System.Guid":return d=>f=>ih(d,f);case"System.Object":return d=>f=>new S(0,[f]);default:return ii(e,t,n,r)}else{const d=c;return f=>h=>d.contents(f)(h)}}function Eh(e){return e!=null?Fa((t,n)=>new se(n[1]),e.Coders):Xi({Compare:Ds})}function $u(e,t,n){let r,s;const o=g(t,new Eu(0,[]));return C0(x0,(r=(s=re(e),ze(o)+s),g(Si(i=>i.Hash,n),"")+r),()=>je(Eh(n),o,!1,e))}function Rh(e){return String(e)}const Th=new Ru("",Xi({Compare:Ds})),Lu=new Eu(1,[]),Hu=new Ru((()=>v0())(),ji("System.Int64",[Rh,lh],Th.Coders));function Ih(e,t,n,r){const s=st(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const o=s>0;return i=>{const u=st(i,t)|0;return o&&u<=0||!o&&u>=0?[i,r(i,e)]:void 0}}function vh(e,t,n,r,s){const o=Ih(t,n,r,s);return ue(()=>Bi(o,e))}function Ir(e,t,n){return vh(e,t,n,0,(r,s)=>r+s)}class Dh{constructor(){this.defaultFont="Font Small",this.sprites=new Map([])}}function kh(){return new Dh}function Fh(e){return e.sprites}function no(e,t){let n,r=Ke();if(n=[Vs(e.sprites,t,new se(()=>r,s=>{r=s})),r],n[0])return n[1];throw new Error(`Can't find name ${t}`)}function Vh(e){return e.defaultFont}function Ht(e,t,n,r){let s,o;const i=V(n-1,no(e,t).Frames),u=wt(Fe),l=i.Layers.length-1|0;for(let c=0;c<=l;c++){const d=V(c,i.Layers);u.push(new A(1,[(s=d,o=s,qs(r[0]+o.Offset.X,r[1]+o.Offset.Y,0,s.Rect.Width,s.Rect.Height,o.Texture,o.Rect.X,o.Rect.Y,o.Rect.Height,o.Rect.Width))]))}return u}function ui(e,t,n,r,s){return o=>{let i,u,l,c,d,f;const h=g(n,Vh(e)),p=g(r,0)|0,w=g(s,0)|0;let _=0;return te((i=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,ee(g(t,""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,d??void 0,f??void 0)),m=>{le(y=>{let M,C,v,k,L,H,Z,Y,B;(M=y,M===" "?(_=_+4|0,G=>{}):(C=M==="-"?"Minus":M===":"?void 0:M.toUpperCase(),C!=null?(v=V(1-1,no(e,`${h}-${C}`).Frames),k=(L=(H=v,Z=p+_|0,Y=wt(Fe),B=H.Layers.length-1|0,(()=>{let G,q;for(let xe=0;xe<=B;xe++){const ae=V(xe,H.Layers);Y.push(new A(1,[(G=ae,q=G,qs(Z+q.Offset.X,w+q.Offset.Y,0,G.Rect.Width,G.Rect.Height,q.Texture,q.Rect.X,q.Rect.Y,q.Rect.Height,q.Rect.Width))]))}})(),Y),G=>{vt(L,G),be(Fe,L)}),G=>{k(G),(_=_+V(0,v.Layers).Rect.Width+1|0,q=>{})(G)}):G=>{}))(m)},o.split(""))})}}const Uu=10,Xe=kh();class Ph extends D{constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}class Ah extends D{constructor(t,n,r){super(),this.X=t,this.Y=n,this.Radius=r}}function Oh(e,t){let n,r;const s=e.X+e.Width/2,o=e.Y+e.Height/2,i=Math.abs(t.X-s),u=Math.abs(t.Y-o);return i>e.Width/2+t.Radius||u>e.Height/2+t.Radius?!1:i<=e.Width/2||u<=e.Height/2?!0:(n=i-e.Width/2,Math.pow(n,2)+(r=u-e.Height/2,Math.pow(r,2))<=Math.pow(t.Radius,2))}function ke(e,t){if(Math.abs(e+360-(t+360))<15)return ge(void 0)}function Bh(e,t,n,r,s){const o=ff(r),i=l=>{if(!pe(l,js())){const c=hf(mf(l,t),n),d=new Ah(c.X,c.Y,s),f=fs(~~Math.floor(n.X-s),~~Math.floor(c.X-s))|0,h=$n(~~Math.ceil(n.X+s),~~Math.ceil(c.X+s))|0,p=fs(~~Math.floor(n.Y-s),~~Math.floor(c.Y-s))|0,w=$n(~~Math.ceil(n.Y+s),~~Math.ceil(c.Y+s))|0;let _=!0;for(let m=f;m<=h;m++)for(let y=p;y<=w;y++)_&&!e(new pt(m,y))&&Oh(new Ph(m,y,1,1),d)&&(_=!1);return _?c:void 0}},u=i(o);if(u!=null)return u;{let l;const c=(_,m)=>e(new pt(_,m)),d=_=>~~Math.floor(_),f=d(n.X)|0,h=d(n.Y)|0,p=Po(n.X-f),w=Po(n.Y-h);if(l==null){const _=i(new j(o.X,0));if(_!=null){const m=_;Rr(n,m).Distance>.2*t&&(l=m)}else{const m=i(new j(0,o.Y));if(m!=null){const y=m;Rr(n,y).Distance>.2*t&&(l=y)}}}if(l==null){const _=r.Angle;if(ke(90,_)!=null){if(w>=.5&&c(f+1,h)){const m=i(new j(0,-1));m!=null&&(l=m)}else if(w<=.5&&c(f+1,h)){const m=i(new j(0,1));m!=null&&(l=m)}}else if(ke(270,_)!=null){if(w>=.5&&c(f-1,h)){const m=i(new j(0,-1));m!=null&&(l=m)}else if(w<=.5&&c(f-1,h)){const m=i(new j(0,1));m!=null&&(l=m)}}else if(ke(180,_)!=null){if(p>=.5&&c(f,h+1)){const m=i(new j(-1,0));m!=null&&(l=m)}else if(p<=.5&&c(f,h+1)){const m=i(new j(1,0));m!=null&&(l=m)}}else if(ke(0,_)!=null){if(p>=.5&&c(f,h-1)){const m=i(new j(-1,0));m!=null&&(l=m)}else if(p<=.5&&c(f,h-1)){const m=i(new j(1,0));m!=null&&(l=m)}}}if(l==null){const _=r.Angle;let m;switch(ke(90,_)!=null&&w<.4&&c(f,h-1)&&c(f+1,h-1)?m=0:m=1,m){case 0:{const y=i(new j(0,-1));y!=null&&(l=y);break}case 1:{let y;switch(ke(90,_)!=null&&w>.6&&c(f,h+1)&&c(f+1,h+1)?y=0:y=1,y){case 0:{const M=i(new j(0,1));M!=null&&(l=M);break}case 1:{let M;switch(ke(270,_)!=null&&w<.4&&c(f,h-1)&&c(f-1,h-1)?M=0:M=1,M){case 0:{const C=i(new j(0,-1));C!=null&&(l=C);break}case 1:{let C;switch(ke(270,_)!=null&&w>.6&&c(f,h+1)&&c(f-1,h+1)?C=0:C=1,C){case 0:{const v=i(new j(0,1));v!=null&&(l=v);break}case 1:{let v;switch(ke(180,_)!=null&&p<.4&&c(f-1,h)&&c(f-1,h+1)?v=0:v=1,v){case 0:{const k=i(new j(-1,0));k!=null&&(l=k);break}case 1:{let k;switch(ke(180,_)!=null&&p>.6&&c(f+1,h)&&c(f+1,h+1)?k=0:k=1,k){case 0:{const L=i(new j(1,0));L!=null&&(l=L);break}case 1:{let L;switch(ke(0,_)!=null&&p<.4&&c(f-1,h)&&c(f-1,h-1)?L=0:L=1,L){case 0:{const H=i(new j(-1,0));H!=null&&(l=H);break}case 1:{let H;switch(ke(0,_)!=null&&p>.6&&c(f+1,h)&&c(f+1,h-1)?H=0:H=1,H){case 0:{const Z=i(new j(1,0));Z!=null&&(l=Z);break}}break}}break}}break}}break}}break}}break}}break}}}return l??n}}function fe(){return Ce()}function $h(e,t,n,r){return(s=>{const o=g(void 0,()=>()=>pe(a,b));return new Et(g(e,""),void 0,(i,u)=>{try{return o(void 0)(void 0)}catch(l){throw l}},(i,u)=>s(i)(void 0))})(s=>()=>(o=>{const i=Bo(o,()=>new jr(0,[t()])),u=Bo(o,()=>d=>{}),l=d=>{sr(u)(d)};_d(o,void 0,()=>{let d;const f=sr(i);if(f.tag===0)es(i,p=>new jr(1,[f.fields[0][0]])),d=f.fields[0][1];else throw new Error("");es(u,p=>w=>{const _=sr(i);if(_.tag===1){const m=n(w,_.fields[0]);es(i,M=>new jr(1,[m[0]]));const y=U(m[1]);try{for(;y["System.Collections.IEnumerator.MoveNext"]();)y["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{K(y)}}else throw new Error("")});const h=U(d);try{for(;h["System.Collections.IEnumerator.MoveNext"]();)h["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{K(h)}});const c=sr(i);if(c.tag===1)return r(c.fields[0],l);throw new Error("")})(s))}const Mt=$r(()=>[],e=>{ot(e)});class Lh extends Ks{constructor(t,n){super(t,n),this.gl=t,this.view=n,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r,s;const o=this;li(o);const i=wt(Mt),u=wt(Mt),l=wt(Mt),c=wt(Mt);fd(o.view,(d,f)=>{const h=f,p=i;p.push(Ff(h)+d[0]),p.push(Pf(h)+d[1]),p.push($f(h)),p.push(Hf(h));const w=f,_=l;_.push(Wf(w)),_.push(Yf(w)),_.push(Xf(w)),_.push(zf(w));const m=t.TextureLayer(Nf(f));if(m!=null){const y=m;c.push(y)}u.push(Of(f)+d[2])}),o.renderResult=(n=Vn(i,o.gl),r=Vn(l,o.gl),s=Vn(c,o.gl),{DepthBuffer:Vn(u,o.gl),PosBuffer:n,TextureBuffer:r,TextureLayer:s,TotalSprites:~~(i.length/4)}),be(Mt,i),be(Mt,l),be(Mt,c),be(Mt,u)}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=x(n.renderResult),s=t.Resolution.Width>>>0,o=t.Resolution.Height>>>0;n.gl.viewport(0,0,s,o),n.gl.enable(2929),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515);const i=Gd(n.gl,c=>{Vd(c,t.VertexBuffer)});Pd(i,t.Offset.X,t.Offset.Y,t.Offset.Z);const u=t.ZRange;Ld(i,u[0],u[1]),Hd(i,t.Resolution.Width,t.Resolution.Height),Ud(i,t.TextureDetails.Width,t.TextureDetails.Height),Nd(i,t.TextureDetails.Texture),Bd(i,r.TextureLayer,1),Ad(i,r.PosBuffer,1),Od(i,r.TextureBuffer,1),$d(i,r.DepthBuffer,1);const l=r.TotalSprites>>>0;n.gl.drawArraysInstanced(4,0,6,l)}"Imp.DisplayModels.RendererBase.OnDistory"(){li(this)}}function Hh(e,t){return new Lh(e,t)}function li(e){le(t=>{rr(Fn,t.PosBuffer),rr(Fn,t.TextureBuffer),rr(Fn,t.TextureLayer),rr(Fn,t.DepthBuffer)},cn(e.renderResult)),e.renderResult=void 0}class Uh extends Xn{constructor(t){super(),this.name=t}}function Nh(e){return new Uh(e)}function Rt(e,t){const n=Kn();return t(n),new Xs(e.name,Hh,n)}function Tt(e){return Nh(g(e,""))}class Gh extends Ks{constructor(t,n){super(t,n),this.view=n}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){dn(this.view,t)}}function Wh(e,t){return new Gh(e,t)}class Zh extends Xn{constructor(t){super(),this.key=t}}function Yh(e){return new Zh(e)}function jh(e,t){const n=Kn();return t(n),new Xs(e.key,Wh,n)}function Xh(e){return Yh(g(e,""))}class Kh extends D{constructor(t,n,r,s,o){super(),this.Up=t,this.Down=n,this.Left=r,this.Right=s,this.A=o}}class zh extends D{constructor(t,n){super(),this.Thumbstick=t,this.Buttons=n}}class qh extends D{constructor(t,n,r){super(),this.Name=t,this.Passable=n,this.Destructible=r}}class ci extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Interactive","Scenery"]}}class Jh extends D{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Time=r}}function Ts(e){let t;return $n(0,(t=e.Time,~~Math.floor(t)+1))}class Qh extends D{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Fuse=r}}class e1 extends D{constructor(t,n){super(),this.Explosions=t,this.Bombs=n}}class t1 extends D{constructor(t,n){super(),this.Value=t,this.UpdateCounter=n}}function yt(e){e.UpdateCounter=Vr(Gl(e.UpdateCounter,1n))}function nn(e){return[e.Value,e.UpdateCounter]}function _r(e){return new t1(e,0n)}class n1 extends D{constructor(t,n,r){super(),this.Grid=t,this.Interactive=n,this.WorldObjects=r}}class r1 extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Bomb","Ingredient"]}}class s1 extends D{constructor(t,n,r,s,o,i,u){super(),this.Id=t|0,this.Position=n,this.Angle=r,this.Tag=s,this.Frame=o,this.Stunned=i,this.Inventory=u}}function Is(e){return[`Player-${e.Angle}-${e.Tag}`,~~e.Frame+1,~~(e.Position.X*32-16),~~(e.Position.Y*32-16)]}class o1 extends D{constructor(t){super(),this.Player1=t}}class pr extends D{constructor(t,n,r,s){super(),this.Controller=t,this.World=n,this.Players=r,this.IsActive=s}}class Ie extends ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Noop","Input","Focus","Blur","Tick","Action","ArenaLoaded","Trigger"]}}function i1(e,t){let n;return[(n=new o1(_r(new s1(1,new j(1.5,1.5),"South","Idle",0,void 0,Ce()))),new pr(new zh(Ys(),new Kh(!1,!1,!1,!1,!1)),void 0,n,!0)),hs([ye(r=>{r(new Ie(4,[]))}),ye(r=>{e["Imp.Setup.DataManager.LoadString"]("arena.json",s=>{r(new Ie(6,[Au(he($u(y0(),Lu,Hu)),s)]))})})])]}function Nu(e,t){const n=e.World;if(n!=null){const r=n,s=ds(t.Y,r.Grid.Value);if(s!=null){const o=ds(t.X,s);if(o!=null){const i=o;return pn(ue(()=>Yn(kn(u=>new ci(1,[u]),Or(i)),ue(()=>Ns(u=>{let l,c;const d=u;let f;switch(d.tag){case 0:{l=d.fields[0],l.X===t.X&&l.Y===t.Y?(f=0,d.fields[0]):f=1;break}case 1:{c=d.fields[0],c.X===t.X&&c.Y===t.Y?(f=0,d.fields[0]):f=1;break}default:f=1}switch(f){case 0:return _n(new ci(0,[u]));default:return Vt()}},r.Interactive.Value)))))}else return Ce()}else return Ce()}else return Ce()}function u1(e,t,n){return Ai(r=>{if(r.tag===0){let s;switch(r.fields[0].tag===1&&r.fields[0].fields[1].Player===e.Id?(s=0,r.fields[0].fields[1]):s=1,s){case 0:return!0;default:return!1}}else return!!r.fields[0].Passable},Nu(t,n))}function l1(e){let t,n,r,s,o=!1;const i=e.World;if(i!=null){const u=i,l=e.Players.Player1.Value,c=()=>{o=!0,yt(e.Players.Player1)},d=l.Stunned;if(d!=null){const f=d-.1;f<=0?(l.Stunned=void 0,c()):l.Stunned=f}else{const f=(t=l.Position.X,~~Math.floor(t)|0),h=(n=l.Position.Y,~~Math.floor(n)|0);if(Di(p=>p.Time>=0&&p.Time<=7&&p.X===f?p.Y===h:!1,u.WorldObjects.Value.Explosions)!=null)l.Tag="Idle",l.Frame=0,l.Stunned=10,c();else{const p=Is(l);let w;const _=e.Controller.Buttons,m=e.Controller.Thumbstick;let y=Ys(),M=0,C=0;if(_.Up&&(M=M-1),_.Down&&(M=M+1),_.Left&&(C=C-1),_.Right&&(C=C+1),(M!==0||C!==0)&&(y=new Hn(Rr(js(),new j(C,M)).Angle,1)),m.Distance>0&&(y=(r=m,new Hn(r.Angle,(v=>fs(v,1))(r.Distance)))),w=y,w.Distance>0){const v=Uu/200;l.Position=Bh(k=>u1(l,e,k),v,l.Position,w,.4),l.Angle=(s=df(w).Angle,s===0?"North":s===90?"East":s===180?"South":"West"),w.Distance>0?(l.Tag="Run",l.Frame=(l.Frame+w.Distance*v*4)%8):(l.Tag="Idle",l.Frame=0)}else l.Tag!=="Idle"&&(l.Tag="Idle",l.Frame=0);mt(Is(l),p)||c()}}}return o}function c1(e){let t;const n=e.World;if(n!=null){const r=n,s=r.WorldObjects.Value.Explosions;for(let o=0;o<=s.length-1;o++){const i=V(o,s),u=Ts(i)|0;i.Time=i.Time+.2,u!==Ts(i)&&yt(r.WorldObjects)}r.WorldObjects.Value.Explosions.length>0&&(r.WorldObjects.Value.Explosions=(t=r.WorldObjects.Value.Explosions,t.filter(o=>o.Time<=12)))}}const cr=[];function a1(e){let t;const n=e.World;if(n!=null){const r=n;ot(cr);const s=(i,u,l,c,d)=>{if(i>0){const f=()=>{cr.push(new Jh(u,l,-c))},h=Nu(e,new pt(u,l)),p=Ai(_=>{let m;switch(_.tag===1&&_.fields[0].Passable?(m=0,_.fields[0]):m=1,m){case 0:return!0;default:return!1}},h),w=Pc(_=>{let m;switch(_.tag===1&&_.fields[0].Destructible?(m=0,_.fields[0]):m=1,m){case 0:return!0;default:return!1}},h);if(p)f(),d(i-1);else if(w!=null){const _=w|0;f(),V(l,r.Grid.Value)[u]=Ft(Lc(_,Oc(m=>{if(m.tag===1)return m.fields[0]},h))),yt(r.Grid)}}},o=r.WorldObjects.Value.Bombs;for(let i=0;i<=o.length-1;i++){const u=V(i,o);u.Fuse=u.Fuse-.1,u.Fuse<=0&&(yt(r.WorldObjects),s(2,u.X,u.Y,0,l=>{s(l,u.X+1,u.Y,2,c=>{}),s(l,u.X-1,u.Y,2,c=>{}),s(l,u.X,u.Y+1,2,c=>{}),s(l,u.X,u.Y-1,2,c=>{})}))}cr.length>0&&(r.WorldObjects.Value.Explosions=vi(r.WorldObjects.Value.Explosions,$i(cr)),yt(r.WorldObjects)),r.WorldObjects.Value.Bombs.length>0&&(r.WorldObjects.Value.Bombs=(t=r.WorldObjects.Value.Bombs,t.filter(i=>i.Fuse>0)))}}function f1(e){const t=e.World;if(t!=null){const n=t,r=e.Players.Player1.Value;return pn(ue(()=>Ns(s=>{let o;const i=s;let u,l,c;switch(i.tag===2&&pe(i.fields[1].Mode,new eo(0,[]))?(u=0,l=i.fields[0],c=i.fields[1]):u=1,u){case 0:return o=c.Player,(o==null?!1:o===1&&Ji(l,r.Position.X,r.Position.Y))?_n(ye(d=>{d(new Ie(7,[c.Action,c.Target,c.Player]))})):Vt();default:return Vt()}},n.Interactive.Value)))}else return Ce()}function ai(e,t,n){const r=e.World;if(r!=null){const s=r,o=ia(i=>{let u,l;switch(i.tag===1&&i.fields[1].Id===t?(u=0,l=i.fields[1]):u=1,u){case 0:return!0;default:return!1}},s.Interactive.Value);if(o!=null){const i=o|0;let u;const l=s.Interactive.Value[i];if(l.tag===1)u=[l.fields[0],l.fields[1]];else throw new Error("Expected Gate Interactive");const c=u[1];if(c.Open!==n){const d=new xu(c.Player,c.Id,n);s.Interactive.Value[i]=new Mu(1,[u[0],d]),yt(s.Interactive)}}}}function d1(e,t){let n,r,s;const o=t.Inventory;if(!O(o)&&T(o).tag===0){const i=(n=t.Position.X,~~Math.floor(n)|0),u=(r=t.Position.Y,~~Math.floor(r)|0);s=e.WorldObjects.Value.Bombs,!s.some(l=>l.X===i?l.Y===u:!1)&&(e.WorldObjects.Value.Bombs=vi(e.WorldObjects.Value.Bombs,[new Qh(i,u,10)]),yt(e.WorldObjects),t.Inventory=P(o))}}function h1(e,t){const n=e.Players.Player1.Value,r=()=>{yt(e.Players.Player1)},s=n.Inventory;let o,i;switch(O(s)?o=1:T(s).tag===1?(o=0,i=P(s)):o=1,o){case 0:{n.Inventory=i,r();break}case 1:{if(mn(n.Inventory)<4){const u=3-mn(Pi(l=>l.tag===0,n.Inventory))|0;u>0&&(n.Inventory=Fi($c(u,new r1(0,[])),n.Inventory),r())}break}}}function m1(e,t){switch(e.tag){case 4:{const n=l1(t);return c1(t),a1(t),[t,hs(pn(ue(()=>Yn(n?f1(t):Vt(),ue(()=>_n(ye(r=>{pd(Uu,()=>{r((()=>new Ie(4,[]))())})})))))))]}case 7:{const n=e.fields[1],r=e.fields[2],s=e.fields[0];let o;switch(s){case"GateOpen":{n!=null?o=0:o=3;break}case"GateClose":{n!=null?o=1:o=3;break}case"Cauldron":{r!=null?o=2:o=3;break}default:o=3}switch(o){case 0:{ai(t,n,!0);break}case 1:{ai(t,n,!1);break}case 2:{h1(t);break}case 3:throw new Error(`Unknown action ${s}`)}return[t,fe()]}case 1:{const n=e.fields[0];switch(n.tag){case 0:return t.Controller.Thumbstick=Rr(js(),new j(n.fields[0],n.fields[1])),[t,fe()];case 1:{const r=n.fields[0];switch(n.fields[1].tag){case 4:return t.Controller.Buttons.Left=r,[t,fe()];case 3:return t.Controller.Buttons.Down=r,[t,fe()];case 5:return t.Controller.Buttons.Right=r,[t,fe()];case 0:case 1:return r?[t,ye(o=>{o(new Ie(5,[]))})]:[t,fe()];default:return t.Controller.Buttons.Up=r,[t,fe()]}}default:{const r=n.fields[0];switch(n.fields[1]|0){case 32:return r?[t,ye(o=>{o(new Ie(5,[]))})]:[t,fe()];case 65:case 263:return t.Controller.Buttons.Left=r,[t,fe()];case 68:case 262:return t.Controller.Buttons.Right=r,[t,fe()];case 83:case 264:return t.Controller.Buttons.Down=r,[t,fe()];case 87:case 265:return t.Controller.Buttons.Up=r,[t,fe()];default:return[t,fe()]}}}}case 2:{const n=new pr(t.Controller,t.World,t.Players,!0);return yt(n.Players.Player1),[n,fe()]}case 3:{const n=new pr(t.Controller,t.World,t.Players,!1),r=n.Controller.Buttons;return r.Up=!1,r.Left=!1,r.Down=!1,r.Right=!1,r.A=!1,n.Controller.Thumbstick=Ys(),[n,fe()]}case 5:{const n=t.World;if(n!=null){const r=n,s=t.Players.Player1.Value,o=pn(ue(()=>Ns(i=>{let u;const l=i;let c,d,f;switch(l.tag===2&&pe(l.fields[1].Mode,new eo(1,[]))?(c=0,d=l.fields[0],f=l.fields[1]):c=1,c){case 0:return u=f.Player,(u==null?!1:u===1&&Ji(d,s.Position.X,s.Position.Y))?_n(ye(h=>{h(new Ie(7,[f.Action,f.Target,f.Player]))})):Vt();default:return Vt()}},r.Interactive.Value)));return mn(o)>0?[t,hs(o)]:(d1(r,s),[t,ye(i=>{i(new Ie(0,[]))})])}else return[t,ye(r=>{r(new Ie(0,[]))})]}case 6:{const n=e.fields[0],r=Va(kn(s=>[s.Name,s],n.PointTypes),{Compare:Ds});return[new pr(t.Controller,new n1(_r(Ft(kn(s=>Ft(kn(o=>Ft(kn(i=>{const u=i,l=Da(u,r);return new qh(u,l.Passable,l.Destructible)},o)),s)),n.Points))),_r(Array.from(n.Interactives)),_r(new e1([],[]))),t.Players,t.IsActive),ye(s=>{s(new Ie(0,[]))})]}default:return[t,fe()]}}function rn(e,t,n,r){return pe(t,r)}function _1(e){let t,n,r,s,o,i;return te((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,ee(g(void 0,""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0)),u=>{const l=Rt(Tt(),c=>{le(d=>{let f,h,p,w,_,m,y;const M=d|0,C=te((f=M*32,h=void 0,p=void 0,w=void 0,_=void 0,m=void 0,y=void 0,ee(g(void 0,""),g(void 0,0),g(void 0,0),g(f,0),g(void 0,0),g(void 0,0),h??void 0,p??void 0,w??void 0,_??void 0,m??void 0,y??void 0)),v=>{const k=V(M,e),L=M*32|0;le(H=>{const Z=H|0,Y=Z*32|0;le(B=>{const G=Ht(Xe,B.Name,1,[Y,L]);vt(G,v),be(Fe,G)},V(Z,k))},Ir(0,1,k.length-1))});c.push(new A(0,[C]))},Ir(0,1,e.length-1))});u.push(new A(2,[l]))})}function p1(e){let t,n,r,s,o,i;return te((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,ee(g(void 0,""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0)),u=>{const l=Rt(Tt(),c=>{le(d=>{let f,h,p,w,_,m,y,M,C,v,k,L,H,Z,Y,B,G,q,xe;(f=d,f.tag===1?(h=f.fields[0],p=te((w=h.Y*32,_=void 0,m=void 0,y=void 0,M=void 0,C=void 0,v=void 0,ee(g(void 0,""),g(void 0,0),g(void 0,0),g(w,0),g(void 0,0),g(void 0,0),_??void 0,m??void 0,y??void 0,M??void 0,C??void 0,v??void 0)),ae=>{const Pe=Ht(Xe,f.fields[1].Open?"Gate Open":"Gate",1,[h.X*32,h.Y*32]);vt(Pe,ae),be(Fe,Pe)}),ae=>{ae.push(new A(0,[p]))}):f.tag===2?ae=>{}:(k=f.fields[0],L=te((H=k.Y*32,Z=void 0,Y=void 0,B=void 0,G=void 0,q=void 0,xe=void 0,ee(g(void 0,""),g(void 0,0),g(void 0,0),g(H,0),g(void 0,0),g(void 0,0),Z??void 0,Y??void 0,B??void 0,G??void 0,q??void 0,xe??void 0)),ae=>{const Pe=Ht(Xe,"Cauldron",1,[k.X*32,k.Y*32]);vt(Pe,ae),be(Fe,Pe)}),ae=>{ae.push(new A(0,[L]))}))(c)},e)});u.push(new A(2,[l]))})}function g1(e){let t,n,r,s,o,i,u;const l=Is(e),c=V(l[1]-1,no(Xe,l[0]).Frames);let d;const f=e.Inventory;return d=O(f)?"Normal":T(f).tag===1?"Ingredient":"Bomb",te((t=~~((e.Position.Y+.4)*32),n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,ee(g("Player",""),g(l[2],0),g(l[3],0),g(t,0),g(void 0,0),g(void 0,0),n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),h=>{const p=Rt(Tt("Player batchRenderer"),w=>{le(_=>{let m,y,M,C;(m=V(_,c.Layers),Cc(d,m.MetaData,{Equals:(v,k)=>v===k,GetHashCode:vr})?(y=(M=m,C=M,qs(0+C.Offset.X,0+C.Offset.Y,0,M.Rect.Width,M.Rect.Height,C.Texture,C.Rect.X,C.Rect.Y,C.Rect.Height,C.Rect.Width)),v=>{v.push(new A(1,[y]))}):v=>{})(w)},Ir(0,1,c.Layers.length-1))});h.push(new A(2,[p]))})}function w1(e,t){let n,r,s,o,i,u,l,c,d,f,h,p,w,_;const m=e.World;if(m==null)return te((n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,ee(g("Small world root view None",""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),y=>{const M=Rt(Tt(),C=>{let v,k,L,H,Z,Y;const B=te((v=void 0,k=void 0,L=void 0,H=void 0,Z=void 0,Y=void 0,ee(g(void 0,""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),v??void 0,k??void 0,L??void 0,H??void 0,Z??void 0,Y??void 0)),G=>{const q=ui(Xe)("Loading");G.push(new A(0,[q]))});C.push(new A(0,[B]))});y.push(new A(2,[M]))});{const y=m,M=y.Grid.Value.length|0,C=~~((~~(1920/2)-V(0,y.Grid.Value).length*32)/2)|0,v=~~((~~(1080/2)-y.Grid.Value.length*32)/2)+32|0;return te((l=y.Grid.Value.length*32,c=V(0,y.Grid.Value).length*32,d=void 0,f=void 0,h=void 0,p=k=>{t(new Ie(2,[]))},w=k=>{t(new Ie(3,[]))},_=void 0,ee(g("Small world root view",""),g(C,0),g(v,0),g(2,0),g(l,0),g(c,0),d??void 0,f??void 0,h??void 0,p??void 0,w??void 0,_??void 0)),k=>{const L=jh(Xh("worldRenderer"),H=>{const Z=yu(wu(g("context",""),Y=>{const B=Y;return new Lr(B.Time,B.Resolution,B.Offset,B.VertexBuffer,B.TextureDetails,B.TextureLayer,[0,M*32])}),Y=>{let B,G,q,xe,ae,Pe,Nr,Gr;const ro=Y;(B=(G=g(void 0,ut=>Ct=>ut===Ct),new Et(g("input",""),e.IsActive,(ut,Ct)=>{try{return G(ut)(Ct)}catch(Gt){throw Gt}},(ut,Ct)=>((Gt,Mn)=>{let Wt,Zt,Yt,jt,Xt,Kt;return md(Gt,()=>new hd),te((Wt=void 0,Zt=void 0,Yt=void 0,jt=void 0,Xt=void 0,Kt=zt=>Mn?(t(new Ie(1,[zt])),!0):!1,ee(g("input view",""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),Wt??void 0,Zt??void 0,Yt??void 0,jt??void 0,Xt??void 0,Kt??void 0)),zt=>{const zn=Rt(Tt("input batchRenderer"),qn=>{const Jn=ui(Xe,"input text label")(Mn?"Active":"Click on the world to activate");qn.push(new A(0,[Jn]))});zt.push(new A(2,[zn]))})})(ut,Ct))),ut=>{ut.push(new A(4,[B]))})(ro);const Wu=te((q=void 0,xe=void 0,ae=void 0,Pe=void 0,Nr=void 0,Gr=void 0,ee(g("world holder",""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),q??void 0,xe??void 0,ae??void 0,Pe??void 0,Nr??void 0,Gr??void 0)),ut=>{let Ct,Gt,Mn,Wt,Zt,Yt,jt,Xt,Kt,zt,zn,qn,Jn,so,oo;const io=ut;(Ct=(Gt=nn(y.Grid),Mn=g(E=>I=>rn(E[0],E[1],I[0],I[1]),E=>I=>mt(E,I)),new Et(g("world",""),Gt,(E,I)=>{try{return Mn(E)(I)}catch(ie){throw ie}},(E,I)=>((ie,Ae)=>_1(Ae[0]))(E,I))),E=>{E.push(new A(4,[Ct]))})(io);const uo=io;(Wt=(Zt=nn(y.Interactive),Yt=g(E=>I=>rn(E[0],E[1],I[0],I[1]),E=>I=>mt(E,I)),new Et(g("Interactive",""),Zt,(E,I)=>{try{return Yt(E)(I)}catch(ie){throw ie}},(E,I)=>((ie,Ae)=>p1(Ae[0]))(E,I))),E=>{E.push(new A(4,[Wt]))})(uo);const lo=uo;(jt=(Xt=nn(e.Players.Player1),Kt=g(E=>I=>rn(E[0],E[1],I[0],I[1]),E=>I=>mt(E,I)),new Et(g("player",""),Xt,(E,I)=>{try{return Kt(E)(I)}catch(ie){throw ie}},(E,I)=>((ie,Ae)=>g1(Ae[0]))(E,I))),E=>{E.push(new A(4,[jt]))})(lo);const co=lo;(zt=(zn=nn(e.Players.Player1),qn=g(E=>I=>rn(E[0],E[1],I[0],I[1]),E=>I=>mt(E,I)),new Et(g("player-inv",""),zn,(E,I)=>{try{return qn(E)(I)}catch(ie){throw ie}},(E,I)=>((ie,Ae)=>{let Oe,Be,$e,Le,He,Ue;const qt=Ae[0];return te((Oe=void 0,Be=void 0,$e=void 0,Le=void 0,He=void 0,Ue=void 0,ee(g(void 0,""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),Oe??void 0,Be??void 0,$e??void 0,Le??void 0,He??void 0,Ue??void 0)),En=>{const Rn=Rt(Tt(),Tn=>{let Ne,Je,lt,Qe,et,tt,Ge;const ct=te((Ne=-42,Je=void 0,lt=void 0,Qe=void 0,et=void 0,tt=void 0,Ge=void 0,ee(g(void 0,""),g(Ne,0),g(0,0),g(void 0,0),g(void 0,0),g(void 0,0),Je??void 0,lt??void 0,Qe??void 0,et??void 0,tt??void 0,Ge??void 0)),at=>{le(ft=>{let dt,xt,We,Jt,Wr;(dt=ft|0,xt=Vi(dt,qt.Inventory),We=dt*42|0,xt.tag===1?(Jt=Ht(Xe,"Ingredient",1,[0,We]),Zr=>{vt(Jt,Zr),be(Fe,Jt)}):(Wr=Ht(Xe,"Bomb",1,[0,We]),Zr=>{vt(Wr,Zr),be(Fe,Wr)}))(at)},Ir(0,1,mn(qt.Inventory)-1))});Tn.push(new A(0,[ct]))});En.push(new A(2,[Rn]))})})(E,I))),E=>{E.push(new A(4,[zt]))})(co);const ao=co;(Jn=(so=nn(y.WorldObjects),oo=g(E=>I=>rn(E[0],E[1],I[0],I[1]),E=>I=>mt(E,I)),new Et(g("Explosion",""),so,(E,I)=>{try{return oo(E)(I)}catch(ie){throw ie}},(E,I)=>((ie,Ae)=>{let Oe,Be,$e,Le,He,Ue;return te((Oe=void 0,Be=void 0,$e=void 0,Le=void 0,He=void 0,Ue=void 0,ee(g("Explosion view",""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),Oe??void 0,Be??void 0,$e??void 0,Le??void 0,He??void 0,Ue??void 0)),qt=>{const En=Rt(Tt("Explosion batchRenderer"),Rn=>{le(Tn=>{let Ne,Je,lt,Qe,et,tt,Ge,ct,at,ft,dt,xt;(Ne=Tn,Je=Ts(Ne)|0,Je>=1?(lt=te((Qe=Ne.X*32,et=Ne.Y*32,tt=Ne.Y*32+31,Ge=void 0,ct=void 0,at=void 0,ft=void 0,dt=void 0,xt=void 0,ee(g("Explosion3 holder",""),g(Qe,0),g(et,0),g(tt,0),g(void 0,0),g(void 0,0),Ge??void 0,ct??void 0,at??void 0,ft??void 0,dt??void 0,xt??void 0)),We=>{const Jt=Ht(Xe,"Explosion",Je,[0,0]);vt(Jt,We),be(Fe,Jt)}),We=>{We.push(new A(0,[lt]))}):We=>{})(Rn)},Ae[0].Explosions)});qt.push(new A(2,[En]))})})(E,I))),E=>{E.push(new A(4,[Jn]))})(ao);let fo;const Zu=nn(y.WorldObjects),Yu=g(E=>I=>rn(E[0],E[1],I[0],I[1]),E=>I=>mt(E,I));fo=new Et(g("Bombs",""),Zu,(E,I)=>{try{return Yu(E)(I)}catch(ie){throw ie}},(E,I)=>((ie,Ae)=>{let Oe,Be,$e,Le,He,Ue;return te((Oe=void 0,Be=void 0,$e=void 0,Le=void 0,He=void 0,Ue=void 0,ee(g(void 0,""),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),g(void 0,0),Oe??void 0,Be??void 0,$e??void 0,Le??void 0,He??void 0,Ue??void 0)),qt=>{const En=Rt(Tt("Bombs Renderer"),Rn=>{le(Tn=>{let Ne,Je,lt,Qe,et,tt,Ge,ct,at;const ft=Tn,dt=te((Ne=ft.X*32,Je=ft.Y*32,lt=ft.Y*32+31,Qe=void 0,et=void 0,tt=void 0,Ge=void 0,ct=void 0,at=void 0,ee(g(void 0,""),g(Ne,0),g(Je,0),g(lt,0),g(void 0,0),g(void 0,0),Qe??void 0,et??void 0,tt??void 0,Ge??void 0,ct??void 0,at??void 0)),xt=>{const We=Ht(Xe,"Bomb",1,[0,0]);vt(We,xt),be(Fe,We)});Rn.push(new A(0,[dt]))},Ae[0].Bombs)});qt.push(new A(2,[En]))})})(E,I)),ao.push(new A(4,[fo]))});ro.push(new A(0,[Wu]))});H.push(new A(3,[Z]))});k.push(new A(2,[L]))})}}function y1(e,t){return $h(e,()=>i1(t),m1,w1)}let fi=Dr(0);class S1 extends D{constructor(t,n,r,s){super(),this.Texture=t,this.Rect=n,this.Offset=r,this.MetaData=s}}function b1(e){return qe("Imp.SpriteHelpers.Models.Layer`1",[e],S1,()=>[["Texture",Sn],["Rect",cf()],["Offset",gs()],["MetaData",e]])}class C1 extends D{constructor(t){super(),this.Layers=t}}function x1(e){return qe("Imp.SpriteHelpers.Models.Frame`1",[e],C1,()=>[["Layers",ks(b1(e))]])}class M1 extends D{constructor(t,n){super(),this.Name=t,this.Frames=n}}function E1(e){return qe("Imp.SpriteHelpers.Models.SpriteInfo`1",[e],M1,()=>[["Name",Sn],["Frames",ks(x1(e))]])}let Gu=Dr(1);function R1(e){let t,n,r,s,o,i;return te((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,ee(g("Views.rootView",""),g(void 0,0),g(void 0,0),g(1,0),g(void 0,0),g(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0)),u=>{const l=yu(wu(g(void 0,""),c=>{const d=c;return new Lr(d.Time,d.Resolution,d.Offset,d.VertexBuffer,d.TextureDetails,d.TextureLayer,[0,10])}),c=>{const d=u0(l0(new t0(36,33,47),Gu(),"sceneRenderer"),f=>{const h=y1("SmallWorld",e);f.push(new A(4,[h]))});c.push(new A(2,[d]))});u.push(new A(3,[l]))})}function T1(){fi(fi()+1)}function I1(e,t){const n=Fh(Xe),r=e;r["Imp.Setup.DataManager.LoadString"]("sprites.json",s=>{const o=U(Au(he($u(sn(E1(ks(Sn))),Lu,Hu)),s));try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();n.set(i.Name,i);const u=i.Frames;for(let l=0;l<=u.length-1;l++){const c=V(l,u).Layers;for(let d=0;d<=c.length-1;d++)Ol(V(d,c).Texture,Cu(r))}}}finally{K(o)}(()=>{t["Imp.Setup.Display.AttachInputZ2D84AEB6"](u=>{u.AttachKeyboard(),u.AttachGamepad(),u.AttachMouse()});const i=R1(e);t["Imp.Setup.Display.AttachView"](e,i,()=>{T1()}),t["Imp.Setup.Display.Run"]()})()})}const v1=Rd("data"),D1=vd("App",1920,1080);Gu(2);I1(v1,D1);
