(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Ae(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Eu(e){return e!=null&&typeof e.GetEnumerator=="function"}function Mu(e){return e!=null&&typeof e.CompareTo=="function"}function xu(e){return e!=null&&typeof e.Equals=="function"}function Yo(e){return e!=null&&typeof e.GetHashCode=="function"}function Ru(e){return e!=null&&typeof e.Dispose=="function"}function Y(e){Ru(e)&&e.Dispose()}function Oe(){return null}function dr(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class Tu{constructor(t){this.iter=t,this.current=Oe()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function H(e){return Eu(e)?e.GetEnumerator():new Tu(e[Symbol.iterator]())}function dn(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class Ko{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function j(e,t){return e.toString(10).padStart(t,"0")}function Ys(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function Du(e,t){return e=e<0&&t!=null&&t!==10?65535+e+1:e,e.toString(t)}function kt(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class wt{static id(t){return wt.idMap.has(t)||wt.idMap.set(t,++wt.count),wt.idMap.get(t)}}wt.idMap=new WeakMap;wt.count=0;function Gn(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function qe(e){return e*2654435761|0}function Xo(e){return Gn(e.toString(32))}function Nn(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function ku(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return qe(e);case"bigint":return Xo(e);case"string":return Gn(e);default:return qe(wt.id(e))}}function Iu(e){return Yo(e)?e.GetHashCode():ku(e)}function vu(e){return e.getTime()}function Vu(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=St(e[r]);return Nn(n)}function St(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return qe(e);case"bigint":return Xo(e);case"string":return Gn(e);default:{if(Yo(e))return e.GetHashCode();if(Ae(e))return Vu(e);if(e instanceof Date)return vu(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>St(n));return Nn(t)}else return qe(wt.id(e))}}}function hr(e){return Iu(e)}function qr(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function xt(e,t){return qr(e,t,re)}function Fu(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!re(e[n[s]],t[r[s]]))return!1;return!0}function re(e,t){return e===t?!0:e==null?t==null:t==null?!1:xu(e)?e.Equals(t):Ae(e)?Ae(t)&&xt(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&gs(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&Fu(e,t)}function gs(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+Ys(e),r=t.getTime()+Ys(t)),n===r?0:n<r?-1:1}function qo(e,t){return e===t?0:e<t?-1:1}function Au(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function zo(e,t){return Au(e,t,ct)}function Ou(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=ct(e[i],t[i]),o!==0)return o}return 0}function ct(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:Mu(e)?e.CompareTo(t):Ae(e)?Ae(t)?zo(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?gs(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?Ou(e,t):-1}function Jo(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}function zr(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),o=r-s,i=1e-8,u=o>.5-i&&o<.5+i?s%2===0?s:s+1:Math.round(r);return t?u/n:u}function at(e){Ae(e)?e.splice(0):e.clear()}const Qo=new WeakMap;function ue(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return Qo.set(t,e),t}function Pu(e){if(e==null)return null;const t=(n,r,s)=>e(n)(r)(s);return Qo.set(t,e),t}function Bu(e,t,n,r,s){if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))n.set(e.subarray(t,t+s),r);else for(let o=0;o<s;++o)n[r+o]=e[t+o]}function $u(e){let t=0,n="[";for(const r of e){if(t===0)n+=Je(r);else if(t===100){n+="; ...";break}else n+="; "+Je(r);t++}return n+"]"}function Je(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return $u(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,s])=>r+" = "+Je(s,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function Lu(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=Je(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>Je(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class Ce{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return Lu(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>St(n));return t.splice(0,0,qe(this.tag)),Nn(t)}Equals(t){return this===t?!0:dr(this,t)&&this.tag===t.tag?xt(this.fields,t.fields):!1}CompareTo(t){return this===t?0:dr(this,t)?this.tag===t.tag?zo(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function Hu(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function Gu(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+Je(n)).join(`
  `)+" }"}function Nu(e){const t=Object.values(e).map(n=>St(n));return Nn(t)}function Uu(e,t){if(e===t)return!0;if(dr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!re(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function Wu(e,t){if(e===t)return 0;if(dr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=ct(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class V{toJSON(){return Hu(this)}toString(){return Gu(this)}GetHashCode(){return Nu(this)}Equals(t){return Uu(this,t)}CompareTo(t){return Wu(this,t)}}class oe{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}class Zu{constructor(t){this.message=t}}function ju(e){return e instanceof Zu||e instanceof Error}function Yu(e){return e instanceof Promise}function Ks(e){return ju(e)||Yu(e)?e:new Error(String(e))}const hn=Symbol("numeric");function ei(e){return typeof e=="number"||typeof e=="bigint"||e?.[hn]}function Ku(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Jr(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[hn]().multiply(t)}function ir(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[hn]().toFixed(t)}function _r(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[hn]().toPrecision(t)}function mr(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[hn]().toExponential(t)}function pr(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[hn]().toHex()}class Qe{constructor(t,n,r,s,o,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=o,this.cases=i,this.enumCases=u}toString(){return se(this)}GetHashCode(){return ti(this)}Equals(t){return Qr(this,t)}}function gt(e){return e.generics!=null?e.generics:[]}function ti(e){const t=Gn(e.fullname),n=gt(e).map(ti);return Nn([t,...n])}function Qr(e,t){return e.fullname===""?t.fullname===""&&qr(gr(e),gr(t),([n,r],[s,o])=>n===s&&Qr(r,o)):e.fullname===t.fullname&&qr(gt(e),gt(t),Qr)}function Nt(e,t,n,r){return new Qe(e,t,n,void 0,r)}function Tn(e){return new Qe("Microsoft.FSharp.Collections.FSharpList`1",[e])}function ws(e){return new Qe("[]",[e])}const Xu=new Qe("System.Object"),Un=new Qe("System.String"),Xs=new Qe("System.Boolean"),Rt=new Qe("System.Int32");function ys(e){if(Array.isArray(e))return e[0];if(e instanceof Qe){const t=xr(e);if(t!=null)return ys(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function se(e){const t=xr(e);return t!=null?se(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>se(n)).join(",")+"]"}function qu(e){return xr(e)!=null}function xr(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function zu(e){return e.generics!=null&&e.generics.length>0}function ni(e){return e.enumCases!=null&&e.enumCases.length>0}function Ju(e){return e.generics==null?e:new Qe(e.fullname,e.generics.map(()=>Xu))}function Qu(e){return e.generics?.[0]}function Jt(e){if(ni(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function el(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function Qt(e,t){const n=parseInt(t,10);return el(e,isNaN(n)?t:n)[1]}function tl(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function gr(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function nl(e){if(ri(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function rl(e){return e instanceof Qe?e.cases!=null:e instanceof Ce}function sl(e){return e instanceof Qe?e.fields!=null:e instanceof V}function ri(e){return e.fullname.startsWith("System.Tuple")}function ol(e){return e.fields==null?[]:e.fields}function il(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function ul(e,t){const n=gr(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,o],i)=>(r[s]=t[i],r),{})}function ll(e,t){return e}const Pt={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function $r(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function cl(e,t){switch(t){case Pt.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Pt.SnakeCase:return $r(e,"_");case Pt.SnakeCaseAllCaps:return $r(e,"_").toUpperCase();case Pt.KebabCase:return $r(e,"-");case Pt.None:default:return e}}function al(e,t=Pt.None){const n={},r=t;function s(i){throw new Error("Cannot infer key and value of "+String(i))}function o(i,u,l){i=cl(i,u),n[i]=l}for(let i of e){let u=Pt.None;if(i==null&&s(i),i instanceof Ce){const l=i.cases()[i.tag];i=i.fields.length===0?l:[l].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:s(i);break;case 1:o(i[0],u,!0);break;case 2:const l=i[1];o(i[0],u,l);break;default:o(i[0],u,i.slice(1))}else typeof i=="string"?o(i,u,!0):s(i)}return n}function Ss(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function fl(e,t){return t.has(e)?!1:(t.add(e),!0)}function dl(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}class hl extends V{constructor(t,n,r){super(),this.Pixels=t,this.Width=n,this.Height=r}}class Rr extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Rr.prototype)}}function _l(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Rr);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(n){t.onError(Ks(n))}});else try{e(t)}catch(n){t.onError(Ks(n))}}}class cn{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return St(this.value)}Equals(t){return t==null?!1:re(this.value,t instanceof cn?t.value:t)}CompareTo(t){return t==null?1:ct(this.value,t instanceof cn?t.value:t)}}function E(e){if(e==null)throw new Error("Option has no value");return e instanceof cn?e.value:e}function he(e){return e==null||e instanceof cn?new cn(e):e}function vn(e){return e==null?[]:[E(e)]}function y(e,t){return e!=null?E(e):t}function si(e,t){return t!=null?he(e(E(t))):void 0}class Lr extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Choice1Of2","Choice2Of2"]}}function ml(e){return pl(t=>e.then(t[0]).catch(n=>(n instanceof Rr?t[2]:t[1])(n)))}function pl(e){return _l(t=>e([t.onSuccess,t.onError,t.onCancel]))}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function gl(e,t){return e===t}function wl(e,t){return e+t}function oi(e){return BigInt(e)}function yl(e){return BigInt(Math.trunc(e))}function Sl(e){return BigInt(e)}function Tr(e){return BigInt.asIntN(64,e)}function qs(e){return Number(e)}const bl=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Cl=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],El=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ml=["January","February","March","April","May","June","July","August","September","October","November","December"];function Te(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function zs(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function xl(e,t){let n=t;const r=e[t];let s="",o=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){o=!0;break}else if(i==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=i}if(!o)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function bs(e,t,n){let r=0,s=0,o="";const i=n?Vt(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(s=Te(t,r,"d"),r+=s,s){case 1:o+=Qs(i);break;case 2:o+=j(Qs(i),2);break;case 3:o+=bl[no(i)];break;case 4:o+=Cl[no(i)];break}break;case"f":if(s=Te(t,r,"f"),r+=s,s<=3){const g=10**(3-s);o+=j(Math.floor(Jn(i)/g),s)}else s<=7&&(o+=(""+Jn(i)).padEnd(s,"0"));break;case"F":if(s=Te(t,r,"F"),r+=s,s<=3){const g=10**(3-s),S=Math.floor(Jn(i)/g);S!=0&&(o+=j(S,s))}else if(s<=7){const g=Jn(i);g!=0&&(o+=j(g,3))}break;case"g":s=Te(t,r,"g"),r+=s,s<=2&&(o+="A.D.");break;case"h":switch(s=Te(t,r,"h"),r+=s,s){case 1:o+=zn(i)%12;break;case 2:o+=j(zn(i)%12,2);break}break;case"H":switch(s=Te(t,r,"H"),r+=s,s){case 1:o+=zn(i);break;case 2:o+=j(zn(i),2);break}break;case"K":switch(s=Te(t,r,"K"),r+=s,s){case 1:switch(Js(i)){case 1:o+="Z";break;case 2:o+=sn(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=Te(t,r,"m"),r+=s,s){case 1:o+=eo(i);break;case 2:o+=j(eo(i),2);break}break;case"M":switch(s=Te(t,r,"M"),r+=s,s){case 1:o+=Qn(i);break;case 2:o+=j(Qn(i),2);break;case 3:o+=El[Qn(i)-1];break;case 4:o+=Ml[Qn(i)-1];break}break;case"s":switch(s=Te(t,r,"s"),r+=s,s){case 1:o+=to(i);break;case 2:o+=j(to(i),2);break}break;case"t":switch(s=Te(t,r,"t"),r+=s,s){case 1:o+=i.getHours()<12?"A":"P";break;case 2:o+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(s=Te(t,r,"y"),r+=s,s){case 1:o+=i.getFullYear()%100;break;case 2:o+=j(i.getFullYear()%100,2);break;case 3:o+=j(i.getFullYear(),3);break;case 4:o+=j(i.getFullYear(),4);break;case 5:o+=j(i.getFullYear(),5);break}break;case"z":s=Te(t,r,"z"),r+=s;let l="";switch(Js(i)){case 1:l="+00:00";break;case 2:l=sn(i.getTimezoneOffset()*-6e4);break;case 0:l=sn(Al(i).getTimezoneOffset()*-6e4);break}const c=l[0]==="-"?"-":"+",d=parseInt(l.substring(1,3),10),f=parseInt(l.substring(4,6),10);switch(s){case 1:o+=`${c}${d}`;break;case 2:o+=`${c}${j(d,2)}`;break;default:o+=`${c}${j(d,2)}:${j(f,2)}`;break}break;case":":o+=":",r++;break;case"/":o+="/",r++;break;case"'":case'"':const[h,_]=xl(t,r);o+=h,r+=_;break;case"%":const m=zs(t,r);if(m>=0&&m!=="%".charCodeAt(0))r+=2,o+=bs(i,String.fromCharCode(m),n);else throw new Error("Invalid format string");break;case"\\":const p=zs(t,r);if(p>=0)r+=2,o+=String.fromCharCode(p);else throw new Error("Invalid format string");break;default:r++,o+=u;break}}return o}function Js(e){return e.kind||0}function sn(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+j(n,2)+":"+j(r,2)}function wr(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Rl(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return j(e.getFullYear(),4)+"-"+j(e.getMonth()+1,2)+"-"+j(e.getDate(),2)+"T"+j(e.getHours(),2)+":"+j(e.getMinutes(),2)+":"+j(e.getSeconds(),2)+"."+j(e.getMilliseconds(),3)+(n?sn(e.getTimezoneOffset()*-6e4):"")}}function Tl(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+sn(t)}function Dl(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+sn(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return wr(n,"first");case"T":case"t":return wr(n,"second");case"O":case"o":return Tl(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return bs(n,t,!0)}function kl(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?wr(e,"first"):e.toLocaleDateString();case"T":case"t":return n?wr(e,"second"):e.toLocaleTimeString();case"O":case"o":return Rl(e,n);default:throw new Error("Unrecognized Date print format")}else return bs(e,t,n)}function ii(e,t,n){return e.offset!=null?Dl(e,t):kl(e,t)}function Vt(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function Il(){return Vt(-621355968e5,0)}function ui(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let o,i=0;if(s[2]!=null){const u=s[2].split(":"),l=parseInt(u[0],10);i=l*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&l<12&&(i+=720)}if(s[4]!=null){if(s[1]!=null)o=new Date(s[1]+" UTC");else{const u=new Date;o=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(s[4]==="Z")r="Z";else{let u=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(s[1]!=null)o=new Date(s[1]);else{const u=new Date;o=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(o.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-o.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function vl(e,t=!1){const[n,r]=ui(e),s=r!=null?t&&r==="Z"?1:2:0;return Vt(n.getTime(),s)}function Vl(e,t){try{return t.contents=vl(e),!0}catch{return!1}}function yr(){return Vt(Date.now(),1)}function Fl(e){return e.kind===1?e:Vt(e.getTime(),1)}function Al(e){return e.kind===2?e:Vt(e.getTime(),2)}function Qs(e){return e.kind===1?e.getUTCDate():e.getDate()}function zn(e){return e.kind===1?e.getUTCHours():e.getHours()}function Jn(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function eo(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function Qn(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function to(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function no(e){return e.kind===1?e.getUTCDay():e.getDay()}function li(e,t){const n=Vt(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?Vt(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function Ol(e,t){return li(e,t)}function Pl(e,t){return typeof t=="number"?li(e,-t):e.getTime()-t.getTime()}const Bl=gs;function $l(e,t){return Pl(e,t)}function Ll(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function Hl(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function ro(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let s,o=-1;for(;(s=e.exec(t))!=null;)s.index===o?e.lastIndex++:(o=s.index,r.push(s));return r}function Gl(e,t,n,r,s=0){function o(){let i=arguments[0];if(r){r--;const u=[],l=arguments.length,c=typeof arguments[l-1]!="string";let d=c?l-3:l-2;for(let f=0;f<d;f++)u.push(arguments[f]);u.index=arguments[d++],u.input=arguments[d++],c&&(u.groups=arguments[d]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=Ll(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,s)+t.substring(s).replace(e,o);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(s),l=ro(e,u),c=ro.length>r?(i=l[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,s)+c.replace(e,n)+t.substring(s+c.length)}else return t.replace(e,n)}const Cn=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,Nl=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function ci(e,t){return Ku(e,t)<0}function Sr(e){return{input:e,cont:jl(e)}}function Cs(e,t){return typeof t=="string"?e(t):t.cont(e)}function Ul(e){return Cs(t=>console.log(t),e)}function es(e){return Cs(t=>t,e)}function Wl(e){return Cs(t=>{throw new Error(t)},e)}function Zl(e,t,n,r,s){let o="";if(t=t||"",s=s||"",ei(e))switch(s.toLowerCase()!=="x"&&(ci(e,0)?(e=Jr(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=ir(e,r);break;case"g":case"G":e=r!=null?_r(e,r):_r(e);break;case"e":case"E":e=r!=null?mr(e,r):mr(e);break;case"x":e=pr(e);break;case"X":e=pr(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=ii(e):e=Je(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!i?" ":"0";l==="0"?(e=An(e,n-o.length,l,u),e=o+e):e=An(o+e,n,l,u)}return e}function ai(e,t,n,r="",s=-1){return(...o)=>{let i=r;const u=t.slice(),l=n.slice();for(const c of o){const[,,d,f,h,_]=l[0];let m=f;if(s>=0)m=s,s=-1;else if(m==="*"){if(c<0)throw new Error("Non-negative number required");s=c;continue}i+=u[0],i+=Zl(c,d,m,h,_),u.splice(0,1),l.splice(0,1)}return l.length===0?(i+=u[0],e(i)):ai(e,u,l,i,s)}}function jl(e){return t=>{Cn.lastIndex=0;const n=[],r=[];let s=0,o=Cn.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=Cn.lastIndex,Cn.lastIndex-=1,o=Cn.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),ai(t,n,r))}}function Yl(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(Nl,(r,s,o,i,u,l)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let c=t[s];if(ei(c))switch(u=u==null?null:parseInt(u,10),i){case"f":case"F":u=u??2,c=ir(c,u);break;case"g":case"G":c=u!=null?_r(c,u):_r(c);break;case"e":case"E":c=u!=null?mr(c,u):mr(c);break;case"p":case"P":u=u??2,c=ir(Jr(c,100),u)+" %";break;case"d":case"D":c=u!=null?Hr(String(c),u,"0"):String(c);break;case"x":case"X":c=u!=null?Hr(pr(c),u,"0"):pr(c),i==="X"&&(c=c.toUpperCase());break;default:if(l){let d="";c=l.replace(/([0#,]+)(\.[0#]+)?/,(f,h,_)=>{ci(c,0)&&(c=Jr(c,-1),d="-"),_=_==null?"":_.substring(1),c=ir(c,Math.max(_.length,0));let[m,p]=c.split(".");p||(p="");const g=h.replace(/,/g,"").replace(/^#+/,"").length;m=Hr(m,g,"0");const S=_.replace(/#+$/,"").length;if(S>p.length?p=Kl(p,S,"0"):S<p.length&&(p=p.substring(0,S)+p.substring(S).replace(/0+$/,"")),h.indexOf(",")>0){const M=m.length%3,C=Math.floor(m.length/3);let I=M>0?m.substr(0,M)+(C>0?",":""):"";for(let B=0;B<C;B++)I+=m.substr(M+B*3,3)+(B<C-1?",":"");m=I}return p.length>0?m+"."+p:m}),c=d+c}}else c instanceof Date?c=ii(c,l||i):c=Je(c);return o=parseInt((o||" ").substring(1),10),isNaN(o)||(c=An(String(c),Math.abs(o)," ",o<0)),c})}function Dr(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function An(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function Hr(e,t,n){return An(e,t,n)}function Kl(e,t,n){return An(e,t,n,!0)}function Xl(e,...t){if(t.length===0)return e.trim();const n="["+Hl(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}const ql="The index was outside the range of elements in the collection.",fi="Collection was empty.";function Es(e,t){return typeof e=="function"?new e(t):new Array(t)}function On(e,t){return e>t?e:t}function ts(e,t){return e<t?e:t}function di(e,t,n){const r=e.length|0,s=t.length|0,o=Es(n,r+s);for(let i=0;i<=r-1;i++)Ft(o,i,v(i,e));for(let i=0;i<=s-1;i++)Ft(o,i+r,v(i,t));return o}function _n(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function Ms(e,t,n){const r=t.length|0,s=Es(n,r);for(let o=0;o<=r-1;o++)Ft(s,o,e(v(o,t)));return s}function zl(e,t,n,r,s){const o=y(n,0)|0,i=y(si(l=>o+l,r),e.length)|0;return(l=>{e:for(;;){const c=l;if(c>=i)return-1;if(s.Equals(t,v(c,e)))return c|0;l=c+1;continue e}})(o)|0}function Pn(e,t,n){return zl(t,e,void 0,void 0,n)>=0}function Jl(e,t){const n=Es(t,1);return Ft(n,0,e),n}function ur(e,t,n,r,s){Bu(e,t,n,r,s)}function Ql(e){return e.slice().reverse()}function ec(e,t){t.push(e)}function Fe(e,t){const n=H(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)ec(n["System.Collections.Generic.IEnumerator`1.get_Current"](),t)}finally{Y(n)}}function hi(e,t){return t.find(e)}function kr(e,t,n){const r=e;return n.reduce(r,t)}function _i(e,t,n){if(t==null)return n==null;if(n==null)return!1;{let r=0,s=!0;const o=t.length|0,i=n.length|0;if(o>i)return!1;if(o<i)return!1;for(;r<o&&s;)s=e(v(r,t),v(r,n)),r=r+1|0;return s}}function v(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function Ft(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function ns(e,t){if(!(e<0||e>=t.length))return he(t[e])}function tc(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class be extends V{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+Dr("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const d=E(l),f=E(c);if(re(i.head,u.head)){s=d,o=f;continue e}else return!1}else return!1;else return c==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,u=s,l=o,c=l.tail;if(c!=null){const d=E(c);if(i>18)return u|0;r=i+1,s=(u<<1)+St(l.head)+631*i,o=d;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const d=E(l),f=E(c),h=ct(i.head,u.head)|0;if(h===0){s=d,o=f;continue e}else return h|0}else return 1;else return c!=null?-1:0}})(this,t)|0}GetEnumerator(){return rc(this)}[Symbol.iterator](){return dn(H(this))}"System.Collections.IEnumerable.GetEnumerator"(){return H(this)}}class nc{constructor(t){this.xs=t,this.it=this.xs,this.current=Oe()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=E(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=Oe()}Dispose(){}}function rc(e){return new nc(e)}function _e(){return new be(Oe(),void 0)}function Wn(e,t){return new be(e,t)}function mn(e){return e.tail==null}function mi(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=E(i);continue e}else return s|0}})(0,e)|0}function Zn(e){if(e.tail!=null)return e.head;throw new Error(fi+"\\nParameter name: list")}function Pe(e){const t=e.tail;if(t!=null)return E(t);throw new Error(fi+"\\nParameter name: list")}function sc(e,t){return((r,s)=>{e:for(;;){const o=r,i=s,u=i.tail;if(u!=null){if(o===t)return i.head;r=o+1,s=E(u);continue e}else throw new Error(ql+"\\nParameter name: index")}})(0,e)}function et(){return _e()}function it(e,t){return Wn(e,t)}function xe(e){return Wn(e,_e())}function P(e){return mn(e)}function on(e){return mi(e)}function R(e){return Zn(e)}function O(e){return Pe(e)}function Ht(e){const t=mi(e)|0,n=_n(new Array(t),0,t,null);return((s,o)=>{e:for(;;){const i=s,u=o;if(!mn(u)){Ft(n,i,Zn(u)),s=i+1,o=Pe(u);continue e}break}})(0,e),n}function At(e,t,n){let r=t,s=n;for(;!mn(s);)r=e(r,R(s)),s=Pe(s);return r}function xs(e){return At((t,n)=>Wn(n,t),_e(),e)}function oc(e,t,n){return((s,o,i)=>{e:for(;;){const u=s,l=o,c=i;if(mn(c))return l;s=u+1,o=e(u,l,Zn(c)),i=Pe(c);continue e}})(0,t,n)}function ic(e,t){At((n,r)=>{e(r)},void 0,t)}function K(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Wn(v(r,e),n);return n}function Rs(e){return K(e,_e())}function uc(e){let t,n;if(Ae(e))return Rs(e);if(e instanceof be)return e;{const r=_e();let s=r;const o=H(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const l=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new be(l,void 0),t.tail=n,n)}}finally{Y(o)}const i=s,u=_e();return i.tail=u,Pe(r)}}function lc(e){const t=_e();let n=t;const r=i=>{n=At((u,l)=>{const c=new be(l,void 0);return u.tail=c,c},n,i)};if(Ae(e))e.forEach(r);else if(e instanceof be)ic(r,e);else{const i=H(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();)r(i["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{Y(i)}}const s=n,o=_e();return s.tail=o,Pe(t)}function rs(e,t){return At((n,r)=>Wn(r,n),t,xs(e))}function cc(e,t){const n=_e(),r=oc((o,i,u)=>{const l=new be(e(o,u),void 0);return i.tail=l,l},n,t),s=_e();return r.tail=s,Pe(n)}function Gr(e,t){const n=_e(),r=At((o,i)=>{const u=new be(e(i),void 0);return o.tail=u,u},n,t),s=_e();return r.tail=s,Pe(n)}function ac(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(mn(i))return;if(e(Zn(i)))return o;r=o+1,s=Pe(i);continue e}})(0,t)}function fc(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(mn(i))return;if(o===e)return he(Zn(i));r=o+1,s=Pe(i);continue e}})(0,t)}function pi(e,t){return sc(t,e)}function dc(e,t){const n=_e(),r=At((o,i)=>{if(e(i)){const u=new be(i,void 0);return o.tail=u,u}else return o},n,t),s=_e();return r.tail=s,Pe(n)}function hc(e,t){let n,r;const s=_e();let o=s;for(let l=0;l<=e-1;l++)o=(n=o,r=new be(t(l),void 0),n.tail=r,r);const i=o,u=_e();return i.tail=u,Pe(s)}function _c(e,t){return hc(e,n=>t)}function mc(e,t){return ac(e,t)!=null}function pc(e){return new w(0,[e])}function gi(e){return new w(1,[e])}class w extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function bt(e,t){return t.tag===0?pc(e(t.fields[0])):gi(t.fields[0])}function gc(e,t){return t.tag===0?e(t.fields[0]):gi(t.fields[0])}class wc{constructor(){}}function yc(){return new wc}function Sc(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function bc(e,t){return t.then(n=>n)}const so=yc();function Cc(e){throw new Error(e)}const Ec="Enumeration already finished.",Mc="Enumeration has not started. Call MoveNext.",xc="Reset is not supported on this enumerator.";function Rc(){throw new Error(xc)}function Ts(){throw new Error(Mc)}function ss(){throw new Error(Ec)}class Tc{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=H(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+Je(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{Y(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return dn(H(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function Dc(e){return new Tc(e)}class kc{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){Rc()}Dispose(){this.dispose()}}function Ds(e,t,n){return new kc(e,t,n)}function Ic(e){let t,n,r=!1,s=!1,o;const i=()=>{if(s=!0,n!=null){const u=E(n);try{Y(u)}finally{n=void 0}}if(t!=null){const u=E(t);try{Y(u)}finally{t=void 0}}};return Ds(()=>(r?s&&ss():Ts(),o!=null?E(o):ss()),()=>{let u;if(r||(r=!0),s)return!1;{let l;for(;l==null;){const c=t,d=n;if(c!=null)if(d!=null){const f=E(d);if(f["System.Collections.IEnumerator.MoveNext"]())o=he(f["System.Collections.Generic.IEnumerator`1.get_Current"]()),l=!0;else try{Y(f)}finally{n=void 0}}else{const f=E(c);f["System.Collections.IEnumerator.MoveNext"]()?n=(u=f["System.Collections.Generic.IEnumerator`1.get_Current"](),H(u)):(i(),l=!1)}else t=H(e)}return E(l)}},()=>{s||i()})}function vc(e,t,n){let r=!1,s,o=he(e());const i=()=>{if(o!=null){const l=E(o);try{n(l)}finally{o=void 0}}},u=()=>{try{i()}finally{s=void 0}};return Ds(()=>(r||Ts(),s!=null?E(s):ss()),()=>{if(r||(r=!0),o!=null){const l=E(o);let c;try{c=t(l)}catch(d){throw u(),d}return c!=null?(s=c,!0):(u(),!1)}else return!1},i)}function Vc(e,t){let n,r=t;return Ds(()=>{if(n!=null){const s=E(n)[0];return E(n)[1],s}else return Ts()},()=>(n=e(r),n!=null?(E(n)[0],r=E(n)[1],!0):!1),()=>{})}function Fc(e,t){t==null&&Cc(e)}function Ir(e){return Dc(e)}function an(e){return Fc("source",e),H(e)}function ut(e){return Ir(()=>H(e()))}function wi(e){return Ir(()=>Ic(e))}function yi(e,t){return Ir(()=>Vc(e,t))}function Si(){return ut(()=>new Array(0))}function bi(e){return ut(()=>Jl(e))}function Ci(e){return e instanceof be?Ht(e):Array.from(e)}function oo(e){return Ae(e)?Rs(e):e instanceof be?e:uc(e)}function Ac(e,t,n){return Ir(()=>vc(e,t,n))}function ks(e,t){return wi([e,t])}function Oc(e,t,n){const r=an(t);try{const s=an(n);try{let o=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]();for(;o===0&&i&&u;)o=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,o===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]());return(o!==0?o:i?1:u?-1:0)|0}finally{Y(s)}}finally{Y(r)}}function en(e,t,n){const r=an(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{Y(r)}}function Ei(e,t){return wi(yi(n=>e()?[t,n+1]:void 0,0))}function Mi(e,t,n){const r=an(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{Y(r)}}function Pc(e,t){if(Ae(t))return ns(e,t);if(t instanceof be)return fc(e,t);{const n=an(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(o===0)return he(n["System.Collections.Generic.IEnumerator`1.get_Current"]());s=o-1;continue e}else return;break}})(e)}finally{Y(n)}}}function Se(e,t){Mi((n,r)=>{e(r)},void 0,t)}function Tt(e,t){return Ac(()=>an(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?he(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{Y(n)})}function Bc(e){return ut(()=>Ql(Ci(e)))}function $c(e){return kt(e.status)+" "+e.statusText+" for URL "+e.url}function Lc(e,t){return fetch(e,al(t,1)).then(r=>{if(r.ok)return r;throw new Error($c(r))})}class xi{constructor(t,n){this.k=t,this.v=n}}function Bn(e,t){return new xi(e,t)}function ne(e){return e.k}function we(e){return e.v}class ee extends xi{constructor(t,n,r,s,o){super(t,n),this.left=r,this.right=s,this.h=o|0}}function Vn(e,t,n,r,s){return new ee(e,t,n,r,s)}function ae(e){return e.left}function fe(e){return e.right}function Dt(e){return e.h}function Ri(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=E(r);if(s instanceof ee){const o=s;e=Ri(n+1,ae(o)),t=fe(o);continue e}else return n+1|0}else return n|0}}function Hc(e){return Ri(0,e)}function je(e,t,n,r){let s,o,i;const u=e;if(u!=null){const f=E(u);i=f instanceof ee?(s=f,Dt(s)):1}else i=0;let l;const c=r;if(c!=null){const f=E(c);l=f instanceof ee?(o=f,Dt(o)):1}else l=0;const d=(i<l?l:i)|0;return d===0?Bn(t,n):Vn(t,n,e,r,d+1)}function io(e,t,n,r){let s,o,i,u,l,c,d,f,h;const _=e;if(_!=null){const g=E(_);h=g instanceof ee?(s=g,Dt(s)):1}else h=0;let m;const p=r;if(p!=null){const g=E(p);m=g instanceof ee?(o=g,Dt(o)):1}else m=0;if(m>h+2){const g=E(r);if(g instanceof ee){const S=g;if(i=ae(S),(i!=null?(u=E(i),u instanceof ee?(l=u,Dt(l)):1):0)>h+1){const M=E(ae(S));if(M instanceof ee){const C=M;return je(je(e,t,n,ae(C)),ne(C),we(C),je(fe(C),ne(S),we(S),fe(S)))}else throw new Error("internal error: Map.rebalance")}else return je(je(e,t,n,ae(S)),ne(S),we(S),fe(S))}else throw new Error("internal error: Map.rebalance")}else if(h>m+2){const g=E(e);if(g instanceof ee){const S=g;if(c=fe(S),(c!=null?(d=E(c),d instanceof ee?(f=d,Dt(f)):1):0)>m+1){const M=E(fe(S));if(M instanceof ee){const C=M;return je(je(ae(S),ne(S),we(S),ae(C)),ne(C),we(C),je(fe(C),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return je(ae(S),ne(S),we(S),je(fe(S),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return je(e,t,n,r)}function fn(e,t,n,r){if(r!=null){const s=E(r),o=e.Compare(t,ne(s))|0;if(s instanceof ee){const i=s;return o<0?io(fn(e,t,n,ae(i)),ne(i),we(i),fe(i)):o===0?Vn(t,n,ae(i),fe(i),Dt(i)):io(ae(i),ne(i),we(i),fn(e,t,n,fe(i)))}else return o<0?Vn(t,n,void 0,r,2):o===0?Bn(t,n):Vn(t,n,r,void 0,2)}else return Bn(t,n)}function Ti(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=E(o),u=r.Compare(s,ne(i))|0;if(u===0)return he(we(i));if(i instanceof ee){const l=i;e=r,t=s,n=u<0?ae(l):fe(l);continue e}else return}else return}}function Gc(e,t,n){const r=Ti(e,t,n);if(r==null)throw new Error;return E(r)}function Nc(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=E(o),u=r.Compare(s,ne(i))|0;if(i instanceof ee){const l=i;if(u<0){e=r,t=s,n=ae(l);continue e}else{if(u===0)return!0;e=r,t=s,n=fe(l);continue e}}else return u===0}else return!1}}function Di(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=E(r);if(s instanceof ee){const o=s;Di(n,ae(o)),n(ne(o),we(o)),e=n,t=fe(o);continue e}else n(ne(s),we(s))}break}}function Uc(e,t){Di(e,t)}function os(e,t){if(t!=null){const n=E(t);if(n instanceof ee){const r=n,s=os(e,ae(r)),o=e(ne(r),we(r)),i=os(e,fe(r));return Vn(ne(r),o,s,i,Dt(r))}else return Bn(ne(n),e(ne(n),we(n)))}else return void 0}function Wc(e,t){return os(e,t)}function Zc(e,t,n){let r=n;Uc((s,o)=>{Ft(t,r,[s,o]),r=r+1|0},e)}function jc(e,t){return At((n,r)=>fn(e,r[0],r[1],n),void 0,t)}function Yc(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=fn(r,i[0],i[1],s),n=o;continue e}else return s}}function Kc(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=v(r,t);n=fn(e,s[0],s[1],n)}return n}function Xc(e,t){if(Ae(t))return Kc(e,t);if(t instanceof be)return jc(e,t);{const n=H(t);try{return Yc(e,void 0,n)}finally{Y(n)}}}class qc extends V{constructor(t,n){super(),this.stack=t,this.started=n}}function ki(e){e:for(;;){const t=e;if(P(t))return et();{const n=O(t),r=R(t);if(r!=null){const s=E(r);if(s instanceof ee){const o=s;e=K([ae(o),Bn(ne(o),we(o)),fe(o)],n);continue e}else return t}else{e=n;continue e}}}}function uo(e){return new qc(ki(xe(e)),!1)}function zc(){throw new Error("enumeration not started")}function Jc(){throw new Error("enumeration already finished")}function lo(e){if(e.started){const t=e.stack;if(P(t))return Jc();if(R(t)!=null){const n=E(R(t));if(n instanceof ee)throw new Error("Please report error: Map iterator, unexpected stack for current");return[ne(n),we(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return zc()}function Qc(e){if(e.started){const t=e.stack;if(P(t))return!1;if(R(t)!=null){if(E(R(t))instanceof ee)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=ki(O(t)),!P(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!P(e.stack)}function co(e){let t=uo(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return lo(t)},"System.Collections.IEnumerator.get_Current"(){return lo(t)},"System.Collections.IEnumerator.MoveNext"(){return Qc(t)},"System.Collections.IEnumerator.Reset"(){t=uo(e)},Dispose(){}}}class br{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return sa(this)|0}Equals(t){const n=this;if(t instanceof br){const r=t,s=H(n);try{const o=H(r);try{const i=()=>{const u=s["System.Collections.IEnumerator.MoveNext"]();if(u===o["System.Collections.IEnumerator.MoveNext"]())if(u){const l=s["System.Collections.Generic.IEnumerator`1.get_Current"](),c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();return re(l[0],c[0])&&re(l[1],c[1])?i():!1}else return!0;else return!1};return i()}finally{Y(o)}}finally{Y(s)}}else return!1}toString(){return"map ["+Dr("; ",Tt(n=>Yl("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return co(this.tree)}[Symbol.iterator](){return dn(H(this))}"System.Collections.IEnumerable.GetEnumerator"(){return co(this.tree)}CompareTo(t){const n=this;if(t instanceof br)return Oc((s,o)=>{const i=n.comparer.Compare(s[0],o[0])|0;return(i!==0?i:ct(s[1],o[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return fo(n,t[0])&&re(ao(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){Zc(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Nr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Nr(this)|0}get size(){return Nr(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return Tt(n=>[n[0],n[1]],this)}get(t){return ao(this,t)}has(t){return fo(this,t)}keys(){return Tt(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return Tt(n=>n[1],this)}forEach(t,n){const r=this;Se(s=>{t(s[1],s[0],r)},r)}}function vr(e,t){return new br(e,t)}function ea(e){return vr(e,void 0)}function ta(e,t,n){return vr(e.comparer,fn(e.comparer,t,n,e.tree))}function ao(e,t){return Gc(e.comparer,t,e.tree)}function na(e,t){return vr(e.comparer,Wc(t,e.tree))}function Nr(e){return Hc(e.tree)}function fo(e,t){return Nc(e.comparer,t,e.tree)}function ra(e,t){return Ti(e.comparer,t,e.tree)}function sa(e){const t=(s,o)=>(s<<1)+o+631;let n=0;const r=H(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,St(s[0]))|0,n=t(n,St(s[1]))|0}}finally{Y(r)}return n|0}function Ii(e,t,n){return ta(n,e,t)}function oa(e,t){return ra(t,e)}function ia(e,t){return na(t,e)}function ua(e,t){return vr(t,Xc(t,e))}function vi(e){return ea(e)}class la{constructor(t,n){this.contents=t,this.count=n|0}GetEnumerator(){const t=this;return H(ut(()=>{let n=t.count-1;return Ei(()=>n>=0,ut(()=>ks(bi(v(n,t.contents)),ut(()=>(n=n-1|0,Si())))))}))}[Symbol.iterator](){return dn(H(this))}"System.Collections.IEnumerable.GetEnumerator"(){return H(this)}}function ca(e,t){return new la(e,t)}function aa(e){return ca(_n(new Array(e),0,e,null),0)}function Is(){return aa(4)}function fa(e,t){const n=e.contents.length|0;if(t>n){const r=e.contents;e.contents=_n(new Array(On(t,n*2)),0,On(t,n*2),null),ur(r,0,e.contents,0,e.count)}}function Vi(e){return e.count}function vs(e){return e.count=e.count-1|0,v(e.count,e.contents)}function da(e,t){return e.count>0?(t.contents=vs(e),!0):!1}function Vs(e,t){fa(e,e.count+1),e.contents[e.count]=t,e.count=e.count+1|0}class ha{constructor(t,n){this.contents=t,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return H(ba(this))}[Symbol.iterator](){return dn(H(this))}"System.Collections.IEnumerable.GetEnumerator"(){return H(this)}}function _a(e,t){return new ha(e,t)}function ma(e){if(e<0)throw new Error("capacity is less than 0");return _a(_n(new Array(e),0,e,null),0)}function pa(){return ma(4)}function tn(e,t){e.count===Gt(e)&&Sa(e,e.count+1),e.contents[e.tail]=t,e.tail=(e.tail+1)%Gt(e)|0,e.count=e.count+1|0}function ga(e){if(e.count===0)throw new Error("Queue is empty");const t=v(e.head,e.contents);return e.head=(e.head+1)%Gt(e)|0,e.count=e.count-1|0,t}function wa(e,t){return e.count===0?!1:(t.contents=ga(e),!0)}function Gt(e){return e.contents.length}function ya(e,t){return(e.head+t)%Gt(e)}function Sa(e,t){const n=_n(new Array(t),0,t,null);e.head<e.tail?ur(e.contents,e.head,n,0,e.count):(ur(e.contents,e.head,n,0,Gt(e)-e.head),ur(e.contents,0,n,Gt(e)-e.head,e.tail)),e.head=0,e.contents=n,e.tail=(e.count===Gt(e)?0:e.count)|0}function ba(e){return ut(()=>{let t=0;return Ei(()=>t<e.count,ut(()=>ks(bi(v(ya(e,t),e.contents)),ut(()=>(t=t+1|0,Si())))))})}const Ca=1e4;class Ea{constructor(t,n){this.create=t,this.clean=n,this.items=Is(),this.itemOut=0,this.total=0}}function Ma(e,t){return new Ea(e,t)}function xa(e,t){if(e.total>Ca)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,Vi(e.items)>0?vs(e.items):(e.total=e.total+1|0,e.create(t))}function er(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Vs(e.items,t)}class Ra{constructor(t,n){this.create=t,this.clean=n,this.items=Is(),this.itemOut=0,this.total=0}}function Vr(e,t){return new Ra(e,t)}function yt(e){if(e.total>1e3)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,Vi(e.items)>0?vs(e.items):(e.total=e.total+1|0,e.create())}function te(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),Vs(e.items,t)}function Ta(e,t){const n=t.getShaderParameter(e,t.COMPILE_STATUS);console.log(he("Shader compiled successfully"),n);const r=t.getShaderInfoLog(e);console.log(he("Shader compiler log: "),r)}function Da(e,t){const n=t.getProgramInfoLog(e);console.log(he("getProgramInfoLog: "),n)}function ho(e,t){t.compileShader(e),Ta(e,t)}function ka(e,t,n){const r=n.createShader(35633);n.shaderSource(r,e),ho(r,n);const s=n.createShader(35632);n.shaderSource(s,t),ho(s,n);const o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,s),n.linkProgram(o),Da(o,n),n.detachShader(o,r),n.detachShader(o,s),n.deleteShader(r),n.deleteShader(s),o}function Ia(e,t){const n=(i,u)=>{e:for(;;){const l=i,c=u;if(!P(l)){const d=R(l)[1];t.texSubImage3D(35866,0,0,0,c,d.Width,d.Height,1,6408,5121,d.Pixels),i=O(l),u=c+1;continue e}break}},r=t.createTexture();t.activeTexture(33984),t.bindTexture(35866,r);let s;if(s=(on(e)|0)>>>0,P(e))throw new Error("");{const i=R(e)[1];t.texStorage3D(35866,1,32856,i.Width,i.Height,s);const u=i;return t.texSubImage3D(35866,0,0,0,0,u.Width,u.Height,1,6408,5121,u.Pixels),n(O(e),1),t.texParameteri(35866,10242,10497),t.texParameteri(35866,10243,10497),t.texParameteri(35866,10241,9728),t.texParameteri(35866,10240,9728),[r,[i.Width,i.Height],new Map(cc((l,c)=>[c[0],l>>>0],e))]}}const Dn=Ma(e=>e.createBuffer(),e=>{});function kn(e,t){const n=xa(Dn,t),r=Float32Array.from(e);return t.bindBuffer(34962,n),t.bufferData(34962,r,35044),t.bindBuffer(34962,Oe()),n}const va=new Float32Array([0,1,0,0,1,1,1,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1]);class Fi extends V{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Z=r|0}}class ye extends V{constructor(t,n){super(),this.X=t|0,this.Y=n|0}}function Va(){return Nt("Imp.CommonModels.Point",[],ye,()=>[["X",Rt],["Y",Rt]])}class _o extends V{constructor(t,n){super(),this.Width=t|0,this.Height=n|0}}class Ai extends V{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Width=r|0,this.Height=s|0}}function Fa(){return Nt("Imp.CommonModels.Rect",[],Ai,()=>[["X",Rt],["Y",Rt],["Width",Rt],["Height",Rt]])}function mo(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}function Aa(e){return e*180/3.141592653589793}function po(e){return zr(e,8)}class $n extends V{constructor(t,n){super(),this.Angle=t,this.Distance=n}}class Z extends V{constructor(t,n){super(),this.X=t,this.Y=n}}function Fs(){return new $n(0,0)}function Cr(e,t){const n=t.X-e.X,r=t.Y-e.Y,s=(Aa(Math.atan2(r,n))+450)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return new $n(zr(s,8),zr(o,8))}function Oa(e){const t=3.141592653589793*(e.Angle/180),n=e.Distance*Math.sin(t),r=0-e.Distance*Math.cos(t);return new Z(Math.abs(n)<1e-13?0:n,Math.abs(r)<1e-13?0:r)}function Pa(e){return new $n(e.Angle>315&&e.Angle<=360||e.Angle>=0&&e.Angle<45?0:e.Angle>=45&&e.Angle<=135?90:e.Angle>135&&e.Angle<225?180:270,e.Distance)}function Ba(e,t){return new Z(t.X+e.X,t.Y+e.Y)}function $a(e,t){return new Z(e.X*t,e.Y*t)}function As(){return new Z(0,0)}function La(){return Vr(Ya,e=>{at(J(e)),at(ie(e))})}const Oi=new Ko(La);function Ha(){return Is()}const Pi=new Ko(Ha);class Ga extends V{constructor(t,n,r){super(),this.Texture=t,this.Width=n,this.Height=r}}class Fr extends V{constructor(t,n,r,s,o,i,u){super(),this.Time=t,this.Resolution=n,this.Offset=r,this.VertexBuffer=s,this.TextureDetails=o,this.TextureLayer=i,this.ZRange=u}}class Na{constructor(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.texture="",this.textureX=0,this.textureY=0,this.textureWidth=0,this.textureHeight=0,this.stateData=void 0}}function Ua(){return new Na}class Wa extends V{constructor(t,n,r,s,o,i,u,l,c,d,f,h,_){super(),this.Key=t,this.Elements=n,this.X=r|0,this.Y=s|0,this.Z=o|0,this.MouseMove=i,this.MouseEnter=u,this.MouseLeave=l,this.MouseUp=c,this.Width=d|0,this.Height=f|0,this.Blur=h,this.Input=_}}class Os extends V{constructor(t,n,r){super(),this.Key=t,this.Create=n,this.ViewItems=r}}class Za extends V{constructor(t,n,r){super(),this.Key=t,this.Func=n,this.ViewItems=r}}class Ot extends V{constructor(t,n,r,s){super(),this.Key=t,this.Prop=n,this.Compare=r,this.Build=s}}class $ extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class ja{constructor(){this.current=[],this.last=[],this.key="",this.hasSprites=!1,this.hasRenderers=!1,this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.mouseMove=void 0,this.mouseOver=!1,this.mouseEnter=void 0,this.mouseLeave=void 0,this.mouseUp=void 0,this.blur=void 0,this.isActive=!1,this.hasMouseEvents=!1,this.hasInputEvents=!1,this.input=void 0}}function Ya(){return new ja}class Ps{constructor(t,n){this.f=n,this.isStale=!0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){}"Imp.DisplayModels.RendererBase.OnDistory"(){}}class Ka extends V{constructor(t,n,r,s){super(),this.Key=t,this.Renderer=n,this.RenderView=r,this.ParentRender=s}}class Xa extends V{constructor(t,n,r){super(),this.Key=t,this.RenderView=n,this.Callback=r}}class nn extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseMove","MouseButton","SyntheticMouseButton","Key","ControllerThumbstick","ControllerButton"]}}class Ur extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ControllerThumbstick","ControllerButton","Key"]}}class qa extends V{constructor(t,n,r,s,o,i,u,l,c,d,f){super(),this.Key=t,this.Hooks=n,this.CurrentHook=r|0,this.IsStale=s,this.RenderView=o,this.CurrentProp=i,this.Build=u,this.Removed=l,this.ParentComponent=c,this.ParentRender=d,this.Id=f}}class En extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class za extends V{constructor(t){super(),this.Component=t}}class Ja{constructor(t,n,r){this.currentComponent=t,this.hookIndex=n|0,this.currentComponent.Hooks[this.hookIndex]=r}}function Qa(e,t,n){return new Ja(e,t,n)}class ef extends V{constructor(t,n,r){super(),this.Time=t,this.Call=n,this.Component=r}}class Wr extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Move","Up","SyntheticUp"]}}const tf=Oi.Value;function In(e){const t=yt(Oi.Value);return Rf(t,e),t}function Bi(){return Vr(Ua,e=>{})}function nf(e){return e.x}function rf(e,t){e.x=t|0}function sf(e){return e.y}function of(e,t){e.y=t|0}function uf(e){return e.z}function lf(e,t){e.z=t|0}function cf(e){return e.width}function af(e,t){e.width=t|0}function ff(e){return e.height}function df(e,t){e.height=t|0}function hf(e){return e.texture}function _f(e,t){e.texture=t}function mf(e){return e.textureX}function pf(e,t){e.textureX=t|0}function gf(e){return e.textureY}function wf(e,t){e.textureY=t|0}function yf(e){return e.textureWidth}function Sf(e,t){e.textureWidth=t|0}function bf(e){return e.textureHeight}function Cf(e,t){e.textureHeight=t|0}function Ef(e,t){e.stateData=t}function Mf(e){te(Bi(),e)}function xf(e){return e.key}function Rf(e,t){e.key=t}function is(e){return e.hasSprites}function Ln(e,t){e.hasSprites=t}function us(e){return e.hasRenderers}function Ar(e,t){e.hasRenderers=t}function It(e){return e.x}function $i(e,t){e.x=t|0}function vt(e){return e.y}function Li(e,t){e.y=t|0}function Fn(e){return e.z}function Hi(e,t){e.z=t|0}function Tf(e){return e.width}function Gi(e,t){e.width=t|0}function Df(e){return e.height}function Ni(e,t){e.height=t|0}function ls(e){return e.mouseMove}function Ui(e,t){e.mouseMove=t}function go(e){return e.mouseOver}function wo(e,t){e.mouseOver=t}function cs(e){return e.mouseEnter}function Wi(e,t){e.mouseEnter=t}function as(e){return e.mouseLeave}function Zi(e,t){e.mouseLeave=t}function fs(e){return e.mouseUp}function ji(e,t){e.mouseUp=t}function Yi(e){return e.blur}function Ki(e,t){e.blur=t}function J(e){return e.current}function ie(e){return e.last}function Er(e){return e.hasMouseEvents}function Or(e,t){e.hasMouseEvents=t}function ds(e){return e.hasInputEvents}function Bs(e,t){e.hasInputEvents=t}function Xi(e){return e.input}function qi(e,t){e.input=t}function zi(e){const t=e.last;e.last=e.current,e.current=t}function un(e,t){const n=t?ie(e):J(e),r=n.length|0;for(let s=0;s<=r-1;s++){const o=n[s];if(o!=null){const i=o;switch(i.tag){case 0:{un(i.fields[0],!1);break}case 1:{Mf(i.fields[0]);break}case 3:{un(i.fields[0].RenderView,!1);break}case 4:{const u=i.fields[0];u.Removed=!0,un(u.RenderView,!1);break}default:vf(i.fields[0].Renderer)}}}t||te(tf,e)}function kf(e){return e.isStale}function Ji(e,t){e.isStale=t}function If(e,t){e.isStale&&e["Imp.DisplayModels.RendererBase.OnInit1E729EFC"](t),e["Imp.DisplayModels.RendererBase.OnRender1E729EFC"](t),e.isStale=!1}function vf(e,t){un(e.f,!1),e["Imp.DisplayModels.RendererBase.OnDistory"]()}const Vf=Pi.Value;function Ff(e){Vs(Pi.Value,e)}function tr(e){return e.currentComponent.Hooks[e.hookIndex]}function Zr(e,t){const n=t(e.currentComponent.Hooks[e.hookIndex]);e.currentComponent.Hooks[e.hookIndex]=n,e.currentComponent.IsStale=!0,Ff(e.currentComponent)}const de=Vr(()=>[],e=>{at(e)});class jn{constructor(){}}function Yn(e){return yt(de)}class Af extends jn{constructor(t,n,r,s,o,i,u,l,c,d,f,h){super(),this.key=t,this.x=n|0,this.y=r|0,this.z=s|0,this.width=o|0,this.height=i|0,this.mouseMove=u,this.mouseEnter=l,this.mouseLeave=c,this.mouseUp=d,this.blur=f,this.input=h}}function le(e,t,n,r,s,o,i,u,l,c,d,f){return new Af(e,t,n,r,s,o,i,u,l,c,d,f)}function ce(e,t){const n=Yn();return t(n),new Wa(e.key,n,e.x,e.y,e.z,e.mouseMove,e.mouseEnter,e.mouseLeave,e.mouseUp,e.width,e.height,e.blur,e.input)}class Of extends jn{constructor(t,n){super(),this.name=t,this.func=n}}function Qi(e,t){return new Of(e,t)}function eu(e,t){const n=Yn();return t(n),new Za(e.name,e.func,n)}function $s(e,t,n,r,s,o,i,u,l,c,d){const f=yt(Bi());return rf(f,e),of(f,t),lf(f,n),af(f,r),df(f,s),_f(f,o),pf(f,i),wf(f,u),Sf(f,c),Cf(f,l),Ef(f,d!=null?he(E(d)):void 0),f}let jr=0;function Ls(e,t){let n,r,s,o,i,u;$i(e,t.X),Li(e,t.Y),Hi(e,t.Z),Gi(e,t.Width),Ni(e,t.Height),Ui(e,t.MouseMove),Wi(e,t.MouseEnter),Zi(e,t.MouseLeave),ji(e,t.MouseUp),Ki(e,t.Blur),qi(e,t.Input),Or(e,Er(e)||(n=ls(e),n!=null)||(r=cs(e),r!=null)||(s=as(e),s!=null)||(o=fs(e),o!=null)?!0:(i=Yi(e),i!=null)),Bs(e,ds(e)?!0:(u=Xi(e),u!=null))}function Yr(e){$i(e,0),Li(e,0),Hi(e,0),Gi(e,0),Ni(e,0),Ui(e,void 0),Wi(e,void 0),Zi(e,void 0),ji(e,void 0),Ki(e,void 0),Or(e,!1),qi(e,void 0),Bs(e,!1)}function nr(e,t){Ln(e,is(e)?!0:is(t)),Ar(e,us(e)?!0:us(t)),Or(e,Er(e)?!0:Er(t)),Bs(e,ds(e)?!0:ds(t))}function tu(e,t,n,r,s,o){switch(r.tag){case 0:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<ie(n).length;){const f=(h=>{let _,m;if(h!=null){const p=h;p.tag===0&&xf(p.fields[0])===i.Key?(_=0,m=p.fields[0]):_=1}else _=1;switch(_){case 0:return m;default:return}})(ie(n)[d]);if(f!=null){const h=f;ie(n)[d]=void 0,c=h}d=d+1|0}l=c,u=l??In(i.Key),Ls(u,i),lr(e,t,u,i.Elements,s,o),nr(n,u),J(n).push(new En(0,[u]));break}case 4:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<ie(n).length;){const f=(h=>{let _,m;if(h!=null){const p=h;p.tag===4&&p.fields[0].Key===i.Key?(_=0,m=p.fields[0]):_=1}else _=1;switch(_){case 0:return m;default:return}})(ie(n)[d]);if(f!=null){const h=f;ie(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null){const f=l;i.Compare(f.CurrentProp,i.Prop)||(f.IsStale=!0),f.IsStale&&(f.CurrentProp=i.Prop),u=f}else{jr=jr+1|0;const f=In(i.Key);Yr(f),u=new qa(i.Key,[],0,!0,f,i.Prop,i.Build,!1,s,o,Tr(oi(jr)))}nu(t,u),nr(n,u.RenderView),Ar(n,!0),Ln(n,!0),J(n).push(new En(4,[u]));break}case 2:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<ie(n).length;){const f=(h=>{let _,m;if(h!=null){const p=h;p.tag===2&&p.fields[0].Key===i.Key?(_=0,m=p.fields[0]):_=1}else _=1;switch(_){case 0:return m;default:return}})(ie(n)[d]);if(f!=null){const h=f;ie(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null){const f=l;e&&Ji(f.Renderer,!0),u=f}else{const f=In(i.Key);Yr(f),u=new Ka(i.Key,i.Create(t,f),f,o)}lr(e,t,u.RenderView,i.ViewItems,s,u),nr(n,u.RenderView),J(n).push(new En(2,[u]));break}case 3:{const i=r.fields[0];let u,l,c,d=0;for(;c==null&&d<ie(n).length;){const f=(h=>{let _,m;if(h!=null){const p=h;p.tag===3&&p.fields[0].Key===i.Key?(_=0,m=p.fields[0]):_=1}else _=1;switch(_){case 0:return m;default:return}})(ie(n)[d]);if(f!=null){const h=f;ie(n)[d]=void 0,c=h}d=d+1|0}if(l=c,l!=null)u=l;else{const f=In(i.Key);Yr(f),u=new Xa(i.Key,f,i.Func)}lr(e,t,u.RenderView,i.ViewItems,s,o),nr(n,u.RenderView),J(n).push(new En(3,[u]));break}default:J(n).push(new En(1,[r.fields[0]])),Ln(n,!0)}}function nu(e,t){if(t.IsStale){t.IsStale=!1,t.CurrentHook=0;const n=t.Build(new za(t),t.CurrentProp);Ls(t.RenderView,n),lr(!0,e,t.RenderView,n.Elements,t.ParentComponent,t.ParentRender),(s=>{e:for(;;){const o=s;if(o!=null){const i=o;if(kf(i.Renderer)===!1){Ji(i.Renderer,!0),s=i.ParentRender;continue e}}break}})(t.ParentRender)}}function lr(e,t,n,r,s,o){zi(n),at(J(n)),Ln(n,!1),Ar(n,!1);for(let i=0;i<=r.length-1;i++)tu(e,t,n,r[i],s,o);te(de,r),un(n,!0),at(ie(n))}let Kr;function Pf(e,t){const n=(r,s,o,i)=>{for(let u=0;u<=r.length-1;u++){const l=r[u];if(l!=null){const c=l;switch(c.tag){case 0:{const d=c.fields[0];is(d)&&n(J(d),s+It(d),o+vt(d),i+Fn(d));break}case 3:{n(J(c.fields[0].RenderView),s,o,i);break}case 4:{const d=c.fields[0];n(J(d.RenderView),It(d.RenderView)+s,vt(d.RenderView)+o,Fn(d.RenderView)+i);break}case 2:break;default:t([s,o,i],c.fields[0])}}}};n(J(e),It(e),vt(e),Fn(e))}function ln(e,t){let n;if(It(e)!==0||vt(e)!==0||Fn(e)!==0){const r=t;n=new Fr(r.Time,r.Resolution,new Fi(t.Offset.X+It(e),t.Offset.Y+vt(e),t.Offset.Z+Fn(e)),r.VertexBuffer,r.TextureDetails,r.TextureLayer,r.ZRange)}else n=t;for(let r=0;r<=J(e).length-1;r++){const s=J(e)[r];if(s!=null){const o=s;switch(o.tag){case 0:{const i=o.fields[0];us(i)&&ln(i,n);break}case 3:{const i=o.fields[0];ln(i.RenderView,i.Callback(n));break}case 4:{ln(o.fields[0].RenderView,n);break}case 1:break;default:If(o.fields[0].Renderer,n)}}}}function Bf(e,t,n){zi(e),at(J(e)),Ln(e,!1),Ar(e,!1),Ls(e,n),tu(!1,t,e,new $(0,[n]),void 0,void 0),un(e,!0),at(ie(e))}let cr=[],rr=[];const Lt=pa();class $f extends Ce{constructor(){super(),this.tag=0,this.fields=[]}cases(){return["Up"]}}function Hs(e){let t;const n=e.Component.CurrentHook|0;return e.Component.CurrentHook=n+1|0,[n,(t=Pc(n,e.Component.Hooks),t!=null?he(E(t)):void 0)]}function yo(e,t){let n;const r=Hs(e),s=r[1];return Qa(e.Component,r[0],s!=null?E(s):(n=t(),e.Component.Hooks.push(n),n))}function Lf(e,t){Hs(e)[1]!=null||(t(),tn(Lt,new nn(2,[!0,e.Component.Id])),e.Component.Hooks.push(!0)),Or(e.Component.RenderView,!0)}function Hf(e,t,n){const r=Hs(e),s=r[1];s!=null?re(E(s),t)||(n(t),e.Component.Hooks[r[0]]=t):(n(t),e.Component.Hooks.push(t))}function Gf(e,t){cr.push(new ef(Ol(yr(),e),t,void 0))}function Nf(){let e;const t=cr;cr=rr,rr=t;const n=yr();let r=H(rr);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=()=>{Bl(n,s.Time)>=0?s.Call():cr.push(s)},i=s.Component;if(i!=null){if(e=i,!e.Removed){const u=i;o()}}else o()}}finally{Y(r)}at(rr)}function Uf(e,t){Nf();const n=(i,u,l)=>{let c=!1;const d=(f,h,_,m)=>{for(let p=0;p<=h.length-1;p++){const g=h[p],S=(M,C)=>{let I,B,F,A,X;if(Er(C)){d(M,J(C),_+It(C),m+vt(C));const N=()=>new Ai(_+It(C),m+vt(C),Tf(C),Df(C));switch(l.tag){case 1:{!c&&(I=fs(C),I!=null)&&mo(N(),i,u)&&(Kr!=null&&E(Kr)(new ye(i,u)),(B=fs(C),E(B))(new ye(i,u)),c=!0,Kr=Yi(C));break}case 2:{if(gl(l.fields[0],M)){const q=N();tn(Lt,new nn(1,[!0,q.X,q.Y])),c=!0}break}default:!c&&(F=ls(C),(F!=null?!0:(A=cs(C),A!=null))?!0:(X=as(C),X!=null))&&(mo(N(),i,u)?(go(C)||Se(q=>{q(new ye(i,u)),wo(C,!0)},vn(cs(C))),Se(q=>{q(new ye(i,u))},vn(ls(C)))):go(C)&&(Se(q=>{q(new ye(i,u))},vn(as(C))),wo(C,!1)))}}};if(g!=null){const M=g;switch(M.tag){case 0:{S(f,M.fields[0]);break}case 4:{const C=M.fields[0];S(C.Id,C.RenderView);break}case 3:{d(f,J(M.fields[0].RenderView),_,m);break}case 2:{const C=M.fields[0];d(f,J(C.RenderView),_+It(C.RenderView),m+vt(C.RenderView));break}}}}};d(Tr(oi(-1)),J(e),0,0)},r=i=>{let u=!1;const l=c=>{if(!u)for(let d=0;d<=c.length-1;d++){const f=c[d];if(f!=null){const h=f,_=m=>{l(J(m));const p=Xi(m);p!=null&&p(i)&&(u=!0)};switch(h.tag){case 4:{_(h.fields[0].RenderView);break}case 0:{_(h.fields[0]);break}case 3:{_(h.fields[0].RenderView);break}case 2:{_(h.fields[0].RenderView);break}}}}};l(J(e))},s=()=>{let i,u=Oe();if(i=[wa(Lt,new oe(()=>u,l=>{u=l})),u],i[0]){const l=i[1];switch(l.tag){case 1:{l.fields[0]&&n(l.fields[1],l.fields[2],new Wr(1,[]));break}case 2:{l.fields[0]&&n(0,0,new Wr(2,[l.fields[1]]));break}case 3:{r(new Ur(2,[l.fields[0],l.fields[1]]));break}case 4:{r(new Ur(0,[l.fields[0],l.fields[1]]));break}case 5:{r(new Ur(1,[l.fields[0],l.fields[1]]));break}default:n(l.fields[0],l.fields[1],new Wr(0,[]))}s()}};s();const o=()=>{let i,u=Oe();if(i=[da(Vf,new oe(()=>u,l=>{u=l})),u],i[0]){const l=i[1];l.IsStale&&nu(t,l),o()}};o()}function So(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return Wf(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function Wf(e){return Number(BigInt(e)/10000n)}function Zf(e){return e/1e3}function jf(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return So(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let s=0,o=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,l=+r[4],c=+r[5];if(r[3]!=null&&(s=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:o=+r[8]*100;break;case 2:o=+r[8]*10;break;case 3:o=+r[8];break;case 4:o=+r[8]/10;break;case 5:o=+r[8]/100;break;case 6:o=+r[8]/1e3;break;case 7:o=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*So(s,l,c,i,o)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function Yf(e,t){try{return t.contents=jf(e),!0}catch{return!1}}class Kf{constructor(){this.textureNames=new Set([])}}function ru(e){return e.textureNames}class Xf{constructor(){}}class qf extends Kf{constructor(t){super(),this.baseUrl=t}"Imp.Setup.DataManager.LoadTexture"(t,n){const r=this,s=document.createElement("img");s.onload=o=>{n(new hl(s,s.width>>>0,s.height>>>0))},s.src=`${r.baseUrl}/${t}`}"Imp.Setup.DataManager.LoadString"(t,n){const r=this;ml(bc(so,Sc(so,()=>Lc(`${r.baseUrl}/${t}`,et()).then(s=>s.text().then(o=>(n(o),Promise.resolve()))))))}}function zf(e){return new qf(e)}function Jf(e,t,n,r,s){const o=[],i=oo(ru(t)),u=()=>{if(o.length<on(i)){const l=pi(o.length,i);t["Imp.Setup.DataManager.LoadTexture"](`${l}.png`,c=>{o.push([l,c]),u()})}else{const l=Ia(oo(o),e),c=l[1],d=new Ga(l[0],c[0],c[1]);let f,h;f=g=>{let S;switch(h!=null?(h[1],h[0]===g?S=0:S=1):S=1,S){case 0:{const M=h[1];return h[0],M}default:{let M,C=0;if(M=[Ss(l[2],g,new oe(()=>C,I=>{C=I})),C],M[0]){const I=M[1];return h=[g,I],I}else return}}};const _=kn(va,e),m=yr(),p=In("Root");Bf(p,e,n),s(g=>{Se(S=>{S()},vn(r)),ln(p,new Fr(Zf($l(yr(),m)),g,new Fi(0,0,0),_,d,f,[0,1]))},g=>{Uf(p,e)})}};u()}class Qf extends Xf{constructor(t,n,r){super();let s,o,i,u;this.resolution=new _o(0,0),this.tick=()=>{},this.canvas=(s=document.createElement("canvas"),o=document.getElementById(t),o.appendChild(s),i=n,u=r,this.resolution=new _o(~~i,~~u),s.width=i,s.height=u,s)}"Imp.Setup.Display.AttachView"(t,n,r){const s=this;Jf(s.canvas.getContext("webgl2",he({premultipliedAlpha:!1})),t,n,r,(o,i)=>{s.tick=()=>{i(),o(s.resolution)}})}"Imp.Setup.Display.AttachInputZ2D84AEB6"(t){const n=this;t({AttachKeyboard(){window.addEventListener("keydown",r=>{const s=bo(n,r.code);s!=null&&tn(Lt,new nn(3,[!0,s]))}),window.addEventListener("keyup",r=>{const s=bo(n,r.code);s!=null&&tn(Lt,new nn(3,[!1,s]))})},AttachMouse(){window.addEventListener("mousemove",r=>{tn(Lt,new nn(0,[r.clientX,r.clientY]))}),window.addEventListener("mouseup",r=>{tn(Lt,new nn(1,[!0,r.clientX,r.clientY]))})},AttachGamepad(){}})}"Imp.Setup.Display.Run"(){const t=this,n=()=>{window.requestAnimationFrame(r=>{t.tick(),n()})};n()}}function ed(e,t,n){return new Qf(e,t,n)}function bo(e,t){switch(t){case"KeyA":return 65;case"KeyB":return 66;case"KeyC":return 67;case"KeyD":return 68;case"KeyE":return 69;case"KeyF":return 70;case"KeyG":return 71;case"KeyH":return 72;case"KeyI":return 73;case"KeyJ":return 74;case"KeyK":return 75;case"KeyL":return 76;case"KeyM":return 77;case"KeyN":return 78;case"KeyO":return 79;case"KeyP":return 80;case"KeyQ":return 81;case"KeyR":return 82;case"KeyS":return 83;case"KeyT":return 84;case"KeyU":return 85;case"KeyV":return 86;case"KeyW":return 87;case"KeyX":return 88;case"KeyY":return 89;case"KeyZ":return 90;case"Digit0":return 48;case"Digit1":return 49;case"Digit2":return 50;case"Digit3":return 51;case"Digit4":return 52;case"Digit5":return 53;case"Digit6":return 54;case"Digit7":return 55;case"Digit8":return 56;case"Digit9":return 57;case"Space":return 32;case"ShiftLeft":return 340;case"ShiftRight":return 344;case"Backspace":return 259;case"Delete":return 261;case"Semicolon":return 59;case"ArrowLeft":return 263;case"ArrowRight":return 262;case"ArrowDown":return 264;case"ArrowUp":return 265;case"Backquote":return 96;case"Minus":return 45;case"Equal":return 61;case"BracketLeft":return 91;case"BracketRight":return 93;case"Backslash":return 92;case"Quote":return 39;case"Comma":return 44;case"Period":return 46;case"Slash":return 47;case"CapsLock":return 280;case"Tab":return 258;case"Enter":return 257;case"Escape":return 256;case"ControlLeft":return 341;case"ControlRight":return 345;case"AltLeft":return 342;case"AltRight":return 346;default:{Ul(`Key: ${t}`);return}}}class td extends V{constructor(t,n,r){super(),this.R=t|0,this.G=n|0,this.B=r|0}}let nd=class extends Ps{constructor(t,n,r){super(n,r),this.backgroundColor=t,this.gl=n,this.view=r}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this;n.gl.disable(3024),n.gl.enable(2884),n.gl.cullFace(1029),n.gl.frontFace(2304);const r=t.Resolution.Width>>>0,s=t.Resolution.Height>>>0;n.gl.viewport(0,0,r,s);const o=n.backgroundColor.R/255,i=n.backgroundColor.G/255,u=n.backgroundColor.B/255;n.gl.clearColor(o,i,u,1),n.gl.clearDepth(1);const l=16640;n.gl.clear(l),ln(n.view,t)}};function rd(e,t,n){return new nd(e,t,n)}class sd extends jn{constructor(t,n){super(),this.backgroundColor=t,this.key=n}}function od(e,t){return new sd(e,t)}function id(e,t){const n=Yn();return t(n),new Os(e.key,(r,s)=>rd(e.backgroundColor,r,s),n)}function ud(e,t){return od(e,y(t,""))}class ld extends V{constructor(t,n,r){super(),this.Name=t,this.Destructible=n,this.Passable=r}}function cd(){return Nt("Client.Common.Models.MapPointType",[],ld,()=>[["Name",Un],["Destructible",Xs],["Passable",Xs]])}class ad extends V{constructor(t,n,r,s){super(),this.Width=t|0,this.Height=n|0,this.Points=r,this.PointTypes=s}}function fd(){return Nt("Client.Common.Models.Map",[],ad,()=>[["Width",Rt],["Height",Rt],["Points",Tn(Tn(Tn(Un)))],["PointTypes",Tn(cd())]])}class x extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class su extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class ou extends V{constructor(t,n){super(),this.Hash=t,this.Coders=n}}class dd{constructor(){this.cache=new Map([])}}function hd(){return new dd}function _d(e,t,n){let r,s=Oe();if(r=[Ss(e.cache,t,new oe(()=>s,o=>{s=o})),s],r[0])return r[1];{const o=n();return dl(e.cache,t,o),o}}const md=hd();function Co(e){return e.slice(void 0,0+1).toLowerCase()+e.slice(1,e.length)}function pd(e,t){switch(e.tag){case 2:return Gl(Co(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Co(t)}}const gd=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,Eo=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,wd=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function yd(e){function t(r){return r.replace(Eo,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(gd.test(n))return Xl(n,"{","}","(",")");if(Eo.test(n))return t(n);if(wd.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Sd(e,t){try{return t.contents=yd(e),!0}catch{return!1}}function bd(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}var hs;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(hs||(hs={}));function Cd(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function Mo(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Ed(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function Md(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function xd(e,t){if(t&hs.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function iu(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||xd(o,t),!Ed(n).test(i))return Cd(s,n)}return null}function Rd(e,t,n,r,s){const o=iu(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[u,l]=Mo(!0,r);!n&&o.radix!==10&&i>=u&&i<=l&&(i=i<<32-r>>32-r);const[c,d]=Mo(n,r);if(i>=c&&i<=d)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function pn(e,t,n,r,s){try{return s.contents=Rd(e,t,n,r),!0}catch{return!1}}function Td(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function Dd(e,t,n,r,s){const o=iu(e,t,s);if(o!=null){const i=(c,d)=>{const f=Math.max(c.length,d.length);return c.padStart(f,"0")<=d.padStart(f,"0")},u=o.sign==="-",l=Td(n||o.radix!==10,o.radix,u);if(i(o.digits.toUpperCase(),l))return e=Md(o.radix)+o.digits,e=u?o.sign+e:e,Sl(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function kd(e,t,n,r,s){try{return s.contents=Dd(e,t,n,r),!0}catch{return!1}}function uu(e,t){Id(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function Id(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function vd(){return uu(-621355968e5,0)}function Vd(e){const[t,n]=ui(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return uu(t.getTime(),r)}function Fd(e,t){try{return t.contents=Vd(e),!0}catch{return!1}}class lu{constructor(t){this.k=t}}function De(e){return new lu(e)}function k(e){return e.k}class L extends lu{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function ke(e,t,n,r){return new L(e,t,n,r)}function W(e){return e.left}function U(e){return e.right}function rn(e){return e.h}function cu(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=E(n);if(s instanceof L){const o=s;e=W(o),t=cu(U(o),r+1);continue e}else return r+1|0}else return r|0}}function Ad(e){return cu(e,0)}function Ye(e,t,n){let r,s,o;const i=e;if(i!=null){const d=E(i);o=d instanceof L?(r=d,rn(r)):1}else o=0;let u;const l=n;if(l!=null){const d=E(l);u=d instanceof L?(s=d,rn(s)):1}else u=0;const c=(o<u?u:o)|0;return c===0?De(t):ke(t,e,n,c+1)}function xo(e,t,n){let r,s,o,i,u,l,c,d,f;const h=e;if(h!=null){const p=E(h);f=p instanceof L?(r=p,rn(r)):1}else f=0;let _;const m=n;if(m!=null){const p=E(m);_=p instanceof L?(s=p,rn(s)):1}else _=0;if(_>f+2){const p=E(n);if(p instanceof L){const g=p;if(o=W(g),(o!=null?(i=E(o),i instanceof L?(u=i,rn(u)):1):0)>f+1){const S=E(W(g));if(S instanceof L){const M=S;return Ye(Ye(e,t,W(M)),k(M),Ye(U(M),k(g),U(g)))}else throw new Error("internal error: Set.rebalance")}else return Ye(Ye(e,t,W(g)),k(g),U(g))}else throw new Error("internal error: Set.rebalance")}else if(f>_+2){const p=E(e);if(p instanceof L){const g=p;if(l=U(g),(l!=null?(c=E(l),c instanceof L?(d=c,rn(d)):1):0)>_+1){const S=E(U(g));if(S instanceof L){const M=S;return Ye(Ye(W(g),k(g),W(M)),k(M),Ye(U(M),t,n))}else throw new Error("internal error: Set.rebalance")}else return Ye(W(g),k(g),Ye(U(g),t,n))}else throw new Error("internal error: Set.rebalance")}else return Ye(e,t,n)}function Hn(e,t,n){if(n!=null){const r=E(n),s=e.Compare(t,k(r))|0;if(r instanceof L){const o=r;return s<0?xo(Hn(e,t,W(o)),k(o),U(o)):s===0?n:xo(W(o),k(o),Hn(e,t,U(o)))}else{const o=e.Compare(t,k(r))|0;return o<0?ke(t,void 0,n,2):o===0?n:ke(t,n,void 0,2)}}else return De(t)}function au(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=E(o),u=r.Compare(s,k(i))|0;if(i instanceof L){const l=i;if(u<0){e=r,t=s,n=W(l);continue e}else{if(u===0)return!0;e=r,t=s,n=U(l);continue e}}else return u===0}else return!1}}function fu(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=E(r);if(s instanceof L){const o=s;fu(n,W(o)),n(k(o)),e=n,t=U(o);continue e}else n(k(s))}break}}class Od extends V{constructor(t,n){super(),this.stack=t,this.started=n}}function du(e){e:for(;;){const t=e;if(P(t))return et();{const n=R(t),r=O(t);if(n!=null){const s=E(n);if(s instanceof L){const o=s;e=K([W(o),De(k(o)),U(o)],r);continue e}else return t}else{e=r;continue e}}}}function Ro(e){return new Od(du(xe(e)),!1)}function Pd(){throw new Error("Enumeration not started")}function Bd(){throw new Error("Enumeration already started")}function To(e){if(e.started){const t=e.stack;if(P(t))return Bd();if(R(t)!=null){const n=E(R(t));return k(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return Pd()}function $d(e){if(e.started){const t=e.stack;if(P(t))return!1;if(R(t)!=null){if(E(R(t))instanceof L)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=du(O(t)),!P(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!P(e.stack)}function Do(e){let t=Ro(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return To(t)},"System.Collections.IEnumerator.get_Current"(){return To(t)},"System.Collections.IEnumerator.MoveNext"(){return $d(t)},"System.Collections.IEnumerator.Reset"(){t=Ro(e)},Dispose(){}}}function Ld(e,t,n){e:for(;;){const r=e,s=t,o=n;if(P(s))return P(o)?0:-1;if(P(o))return 1;if(R(o)!=null)if(R(s)!=null){const i=E(R(s)),u=E(R(o));if(i instanceof L){const l=i;if(W(l)==null)if(u instanceof L){const c=u;if(W(c)==null){const d=r.Compare(k(l),k(c))|0;if(d!==0)return d|0;e=r,t=it(U(l),O(s)),n=it(U(c),O(o));continue e}else{let d,f,h,_,m;switch(P(s)?P(o)?d=2:R(o)!=null?(d=1,_=O(o),m=E(R(o))):d=2:R(s)!=null?(d=0,f=O(s),h=E(R(s))):P(o)?d=2:R(o)!=null?(d=1,_=O(o),m=E(R(o))):d=2,d){case 0:if(h instanceof L){const p=h;e=r,t=K([W(p),ke(k(p),void 0,U(p),0)],f),n=o;continue e}else{e=r,t=K([void 0,De(k(h))],f),n=o;continue e}case 1:if(m instanceof L){const p=m;e=r,t=s,n=K([W(p),ke(k(p),void 0,U(p),0)],_);continue e}else{e=r,t=s,n=K([void 0,De(k(m))],_);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(k(l),k(u))|0;if(c!==0)return c|0;e=r,t=it(U(l),O(s)),n=it(void 0,O(o));continue e}else{let c,d,f,h,_;switch(P(s)?P(o)?c=2:R(o)!=null?(c=1,h=O(o),_=E(R(o))):c=2:R(s)!=null?(c=0,d=O(s),f=E(R(s))):P(o)?c=2:R(o)!=null?(c=1,h=O(o),_=E(R(o))):c=2,c){case 0:if(f instanceof L){const m=f;e=r,t=K([W(m),ke(k(m),void 0,U(m),0)],d),n=o;continue e}else{e=r,t=K([void 0,De(k(f))],d),n=o;continue e}case 1:if(_ instanceof L){const m=_;e=r,t=s,n=K([W(m),ke(k(m),void 0,U(m),0)],h);continue e}else{e=r,t=s,n=K([void 0,De(k(_))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof L){const l=u;if(W(l)==null){const c=r.Compare(k(i),k(l))|0;if(c!==0)return c|0;e=r,t=it(void 0,O(s)),n=it(U(l),O(o));continue e}else{let c,d,f,h,_;switch(P(s)?P(o)?c=2:R(o)!=null?(c=1,h=O(o),_=E(R(o))):c=2:R(s)!=null?(c=0,d=O(s),f=E(R(s))):P(o)?c=2:R(o)!=null?(c=1,h=O(o),_=E(R(o))):c=2,c){case 0:if(f instanceof L){const m=f;e=r,t=K([W(m),ke(k(m),void 0,U(m),0)],d),n=o;continue e}else{e=r,t=K([void 0,De(k(f))],d),n=o;continue e}case 1:if(_ instanceof L){const m=_;e=r,t=s,n=K([W(m),ke(k(m),void 0,U(m),0)],h);continue e}else{e=r,t=s,n=K([void 0,De(k(_))],h);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(k(i),k(u))|0;if(l!==0)return l|0;e=r,t=O(s),n=O(o);continue e}}else{E(R(o));let i,u,l,c,d;switch(P(s)?P(o)?i=2:R(o)!=null?(i=1,c=O(o),d=E(R(o))):i=2:R(s)!=null?(i=0,u=O(s),l=E(R(s))):P(o)?i=2:R(o)!=null?(i=1,c=O(o),d=E(R(o))):i=2,i){case 0:if(l instanceof L){const f=l;e=r,t=K([W(f),ke(k(f),void 0,U(f),0)],u),n=o;continue e}else{e=r,t=K([void 0,De(k(l))],u),n=o;continue e}case 1:if(d instanceof L){const f=d;e=r,t=s,n=K([W(f),ke(k(f),void 0,U(f),0)],c);continue e}else{e=r,t=s,n=K([void 0,De(k(d))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(R(s)!=null){E(R(s));let i,u,l,c,d;switch(P(s)?P(o)?i=2:R(o)!=null?(i=1,c=O(o),d=E(R(o))):i=2:R(s)!=null?(i=0,u=O(s),l=E(R(s))):P(o)?i=2:R(o)!=null?(i=1,c=O(o),d=E(R(o))):i=2,i){case 0:if(l instanceof L){const f=l;e=r,t=K([W(f),ke(k(f),void 0,U(f),0)],u),n=o;continue e}else{e=r,t=K([void 0,De(k(l))],u),n=o;continue e}case 1:if(d instanceof L){const f=d;e=r,t=s,n=K([W(f),ke(k(f),void 0,U(f),0)],c);continue e}else{e=r,t=s,n=K([void 0,De(k(d))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=O(s),n=O(o);continue e}}}function ko(e,t,n){return t==null?n==null?0:-1:n==null?1:Ld(e,xe(t),xe(n))|0}function Hd(e,t,n){let r=n;fu(s=>{Ft(t,r,s),r=r+1|0},e)}function Gd(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){e=r,t=Hn(r,o["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=o;continue e}else return s}}function Nd(e,t){return kr((n,r)=>Hn(e,r,n),void 0,t)}function Ud(e,t){return At((n,r)=>Hn(e,r,n),void 0,t)}function Wd(e,t){if(Ae(t))return Nd(e,t);if(t instanceof be)return Ud(e,t);{const n=H(t);try{return Gd(e,void 0,n)}finally{Y(n)}}}class Gs{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return Yd(this)|0}Equals(t){let n;const r=this;return t instanceof Gs&&(n=t,ko(ar(r),ot(r),ot(n))===0)}toString(){return"set ["+Dr("; ",Tt(n=>Je(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return ko(ar(n),ot(n),ot(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return au(ar(n),t,ot(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){Hd(ot(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Xr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Xr(this)|0}GetEnumerator(){return Do(ot(this))}[Symbol.iterator](){return dn(H(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Do(ot(this))}get size(){return Xr(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return jd(this,t)}keys(){return Tt(n=>n,this)}values(){return Tt(n=>n,this)}entries(){return Tt(n=>[n,n],this)}forEach(t,n){const r=this;Se(s=>{t(s,s,r)},r)}}function Zd(e,t){return new Gs(e,t)}function ar(e){return e.comparer}function ot(e){return e.tree}function Xr(e){return Ad(ot(e))}function jd(e,t){return au(ar(e),t,ot(e))}function Yd(e){let t=0;const n=H(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+St(r)+631|0}}finally{Y(n)}return Math.abs(t)|0}function Kd(e,t){return Zd(t,Wd(t,e))}function Mn(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function Xd(e,t){const n=t.tag===2?Mn(t.fields[0],t.fields[1],!0):t.tag===1?Mn(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?Mn(t.fields[0],t.fields[1],!0):t.tag===4?Mn(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+Dr(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:Mn(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function hu(e,t,n){const r=t(e,n);if(r.tag===1){const s=r.fields[0];return new w(1,[Xd(s[0],s[1])])}else return new w(0,[r.fields[0]])}function qd(e,t){try{return hu("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new w(1,["Given an invalid JSON: "+n.message]);throw n}}function _u(e,t){const n=qd(e,t);if(n.tag===1)throw new Error(n.fields[0]);return n.fields[0]}function mu(e,t){return typeof t=="string"?new w(0,[t]):new w(1,[[e,new x(0,["a string",t])]])}function zd(e,t){if(typeof t=="string"){const n=t;return n.length===1?new w(0,[n[0]]):new w(1,[[e,new x(0,["a single character string",t])]])}else return new w(1,[[e,new x(0,["a char",t])]])}function Jd(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[Sd(t,new oe(()=>r,s=>{r=s})),r],n[0]?new w(0,[n[1]]):new w(1,[[e,new x(0,["a guid",t])]])}else return new w(1,[[e,new x(0,["a guid",t])]])}function Qd(e,t){return t==null?new w(0,[void 0]):new w(1,[[e,new x(0,["null",t])]])}const Io=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-128<=s&&s<=127?new w(0,[(s+128&255)-128]):new w(1,[[n,new x(1,["a sbyte",s,"Value was either too large or too small for a sbyte"])]]):new w(1,[[n,new x(1,["a sbyte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!1,8,new oe(()=>o,i=>{o=i|0})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new x(0,["a sbyte",r])]])}else return new w(1,[[n,new x(0,["a sbyte",r])]])},vo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=255?new w(0,[s&255]):new w(1,[[n,new x(1,["a byte",s,"Value was either too large or too small for a byte"])]]):new w(1,[[n,new x(1,["a byte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!0,8,new oe(()=>o,i=>{o=i})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new x(0,["a byte",r])]])}else return new w(1,[[n,new x(0,["a byte",r])]])},Vo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-32768<=s&&s<=32767?new w(0,[(s+32768&65535)-32768]):new w(1,[[n,new x(1,["an int16",s,"Value was either too large or too small for an int16"])]]):new w(1,[[n,new x(1,["an int16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!1,16,new oe(()=>o,i=>{o=i|0})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new x(0,["an int16",r])]])}else return new w(1,[[n,new x(0,["an int16",r])]])},Fo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=65535?new w(0,[s&65535]):new w(1,[[n,new x(1,["an uint16",s,"Value was either too large or too small for an uint16"])]]):new w(1,[[n,new x(1,["an uint16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!0,16,new oe(()=>o,i=>{o=i})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new x(0,["an uint16",r])]])}else return new w(1,[[n,new x(0,["an uint16",r])]])},Ao=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-2147483648<=s&&s<=2147483647?new w(0,[~~s]):new w(1,[[n,new x(1,["an int",s,"Value was either too large or too small for an int"])]]):new w(1,[[n,new x(1,["an int",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!1,32,new oe(()=>o,i=>{o=i|0})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new x(0,["an int",r])]])}else return new w(1,[[n,new x(0,["an int",r])]])},Oo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=4294967295?new w(0,[s>>>0]):new w(1,[[n,new x(1,["an uint32",s,"Value was either too large or too small for an uint32"])]]):new w(1,[[n,new x(1,["an uint32",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!0,32,new oe(()=>o,i=>{o=i})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new x(0,["an uint32",r])]])}else return new w(1,[[n,new x(0,["an uint32",r])]])},e0=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?qs(-9223372036854775808n)<=s&&s<=qs(9223372036854775807n)?new w(0,[Tr(yl(s))]):new w(1,[[n,new x(1,["an int64",s,"Value was either too large or too small for an int64"])]]):new w(1,[[n,new x(1,["an int64",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0n;return s=[kd(r,511,!1,64,new oe(()=>o,i=>{o=i})),o],s[0]?new w(0,[s[1]]):new w(1,[[n,new x(0,["an int64",r])]])}else return new w(1,[[n,new x(0,["an int64",r])]])};function t0(e,t){return typeof t=="boolean"?new w(0,[t]):new w(1,[[e,new x(0,["a boolean",t])]])}function n0(e,t){return typeof t=="number"?new w(0,[t]):new w(1,[[e,new x(0,["a float",t])]])}function r0(e,t){return typeof t=="number"?new w(0,[t]):new w(1,[[e,new x(0,["a float32",t])]])}function s0(e,t){if(typeof t=="string"){let n,r=Il();return n=[Vl(t,new oe(()=>r,s=>{r=s})),r],n[0]?new w(0,[Fl(n[1])]):new w(1,[[e,new x(0,["a datetime",t])]])}else return new w(1,[[e,new x(0,["a datetime",t])]])}function o0(e,t){if(typeof t=="string"){let n,r=vd();return n=[Fd(t,new oe(()=>r,s=>{r=s})),r],n[0]?new w(0,[n[1]]):new w(1,[[e,new x(0,["a datetimeoffset",t])]])}else return new w(1,[[e,new x(0,["a datetime",t])]])}function i0(e,t){if(typeof t=="string"){let n,r=0;return n=[Yf(t,new oe(()=>r,s=>{r=s})),r],n[0]?new w(0,[n[1]]):new w(1,[[e,new x(0,["a timespan",t])]])}else return new w(1,[[e,new x(0,["a timespan",t])]])}function Po(e,t,n,r){let s;const o=n+".["+kt(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(o,v(e,i)):new w(1,[[o,new x(5,["a longer array. Need index `"+kt(e)+"` but there are only `"+(s=i.length,kt(s))+"` entries",r])]])}else return new w(1,[[o,new x(0,["an array",r])]])}function u0(e,t,n){return n==null?new w(0,[void 0]):bt(he,e(t,n))}function Bo(e,t,n){if(Array.isArray(n)){let r=-1;return bt(xs,kr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+kt(r)+"]",o);return i.tag===0?new w(0,[it(i.fields[0],s.fields[0])]):new w(1,[i.fields[0]])}else return s},new w(0,[et()]),n))}else return new w(1,[[t,new x(0,["a list",n])]])}function l0(e,t,n){if(Array.isArray(n)){let r=-1;return bt(Bc,kr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+kt(r)+"]",o);return i.tag===0?new w(0,[ks([i.fields[0]],s.fields[0])]):new w(1,[i.fields[0]])}else return s},new w(0,[[]]),n))}else return new w(1,[[t,new x(0,["a seq",n])]])}function $o(e,t,n){if(Array.isArray(n)){let r=-1;const s=n;return kr((o,i)=>{if(r=r+1|0,o.tag===0){const u=o.fields[0],l=e(t+".["+kt(r)+"]",i);return l.tag===0?(Ft(u,r,l.fields[0]),new w(0,[u])):new w(1,[l.fields[0]])}else return o},new w(0,[_n(new Array(s.length),0,s.length,null)]),s)}else return new w(1,[[t,new x(0,["an array",n])]])}function c0(e,t,n){return((s,o)=>{e:for(;;){const i=s,u=o;if(P(i))return new w(1,[[t,new x(7,[u])]]);{const l=hu(t,ue(R(i)),n);if(l.tag===1){s=O(i),o=rs(u,xe(l.fields[0]));continue e}else return new w(0,[l.fields[0]])}}})(e,et())}function a0(e,t,n){return new w(0,[e])}function Lo(e,t,n,r){const s=t(n,r);return s.tag===0?e(s.fields[0],n,r):new w(1,[s.fields[0]])}function f0(e,t,n,r){const s=t(n,r);return s.tag===1?new w(1,[s.fields[0]]):new w(0,[e(s.fields[0])])}function d0(e,t){let n;const r=e;return n=s=>o=>Po(0,r,s,o),s=>o=>Lo(Pu(i=>{let u;const l=t;return u=c=>d=>Po(1,l,c,d),c=>d=>Lo((f,h,_)=>a0([i,f]),ue(u),c,d)}),ue(n),s,o)}function h0(e){return ua(e,{Compare:ct})}function _0(e){return Kd(e,{Compare:ct})}function m0(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?tc((r,s)=>{const o=r[0];return s.tag===0?bt(i=>it(i,s.fields[0]),r[1](t+"."+o)(n[o])):s},e,new w(0,[et()])):new w(1,[[t,new x(0,["an object",n])]])}function p0(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?Mi((s,o)=>{if(s.tag===0){const i=e(n,o);if(i.tag===0){const u=t(n+"."+o,r[o]);return u.tag===0?new w(0,[it([i.fields[0],u.fields[0]],s.fields[0])]):new w(1,[u.fields[0]])}else return new w(1,[i.fields[0]])}else return s},new w(0,[et()]),Object.keys(r)):new w(1,[[n,new x(0,["an object",r])]])}function pu(e,t,n,r){let s;const o=t.length+e|0;if(o!==r.length)return new w(1,[[n,new x(6,[(s=r.length|0,es(Sr("Expected array of length %i but got %i"))(o)(s))])]]);{let i=new w(0,[et()]);for(let u=e;u<=r.length-1;u++)if(i.tag===0){const l=i.fields[0],c=es(Sr("%s[%i]"))(n)(u),d=v(u-e,t),f=v(u,r);i=bt(h=>it(h,l),d(c)(f))}return bt(xs,i)}}function Ho(e,t,n,r,s,o){const i=hi(u=>ys(u)===r,tl(n));if(i!=null){const u=i,l=Ms(c=>Ke(e,t,!1,c[1]),ol(u));return bt(c=>il(u,Ht(c)),l.length===0&&o.length<=1?new w(0,[et()]):pu(1,l,s,o))}else return new w(1,[[s,new x(6,["Cannot find case "+r+" in "+se(n)])]])}function Go(e,t,n,r){let s;const o=new oe(Oe());let i;const u=se(r);i=u===""?e:Ii(u,o,e);let l;if(sl(r)){const c=Ms(d=>[pd(t,ys(d)),Ke(i,t,!1,d[1])],gr(r));l=d=>f=>bt(h=>ul(r,Ht(h)),m0(c,d,f))}else if(rl(r))l=c=>d=>{if(typeof d=="string")return Ho(i,t,r,d,c,[]);if(Array.isArray(d)){const f=d;return gc(h=>Ho(i,t,r,h,c,f),mu(c+"[0]",v(0,f)))}else return new w(1,[[c,new x(0,["a string or array",d])]])};else if(n)l=c=>d=>new w(1,[[c,new x(2,["an extra coder for "+se(r),d])]]);else throw new Error((s=se(r),es(Sr(`Cannot generate auto decoder for %s. Please pass an extra decoder.

Documentation available at: https://thoth-org.github.io/Thoth.Json/documentation/auto/extra-coders.html#ready-to-use-extra-coders`))(s)));return o.contents=l,l}function Ke(e,t,n,r){let s,o,i,u;const l=se(r),c=oa(l,e);if(c==null)if(qu(r)){const d=Ke(e,t,!1,xr(r));return f=>h=>$o(ue(d),f,h)}else if(ni(r))switch(se(Qu(r))){case"System.SByte":return f=>h=>{const _=r,m=f,p=h,g=Io(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const S=g.fields[0]|0;return en(S,Jt(_),{Equals:(M,C)=>M===C,GetHashCode:qe})?new w(0,[Qt(_,S.toString())]):new w(1,[[m,new x(1,[se(_),p,"Unkown value provided for the enum"])]])}};case"System.Byte":return f=>h=>{const _=r,m=f,p=h,g=vo(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const S=g.fields[0];return en(S,Jt(_),{Equals:(M,C)=>M===C,GetHashCode:qe})?new w(0,[Qt(_,S.toString())]):new w(1,[[m,new x(1,[se(_),p,"Unkown value provided for the enum"])]])}};case"System.Int16":return f=>h=>{const _=r,m=f,p=h,g=Vo(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const S=g.fields[0]|0;return en(S,Jt(_),{Equals:(M,C)=>M===C,GetHashCode:qe})?new w(0,[Qt(_,Du(S))]):new w(1,[[m,new x(1,[se(_),p,"Unkown value provided for the enum"])]])}};case"System.UInt16":return f=>h=>{const _=r,m=f,p=h,g=Fo(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const S=g.fields[0];return en(S,Jt(_),{Equals:(M,C)=>M===C,GetHashCode:qe})?new w(0,[Qt(_,S.toString())]):new w(1,[[m,new x(1,[se(_),p,"Unkown value provided for the enum"])]])}};case"System.Int32":return f=>h=>{const _=r,m=f,p=h,g=Ao(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const S=g.fields[0]|0;return en(S,Jt(_),{Equals:(M,C)=>M===C,GetHashCode:qe})?new w(0,[Qt(_,kt(S))]):new w(1,[[m,new x(1,[se(_),p,"Unkown value provided for the enum"])]])}};case"System.UInt32":return f=>h=>{const _=r,m=f,p=h,g=Oo(m)(p);if(g.tag===1)return new w(1,[g.fields[0]]);{const S=g.fields[0];return en(S,Jt(_),{Equals:(M,C)=>M===C,GetHashCode:qe})?new w(0,[Qt(_,S.toString())]):new w(1,[[m,new x(1,[se(_),p,"Unkown value provided for the enum"])]])}};default:{const f=se(r),h=Wl(Sr(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the following enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(f);return _=>h(_)}}else if(zu(r))if(ri(r)){const d=Ms(f=>Ke(e,t,!1,f),nl(r));return f=>h=>Array.isArray(h)?bt(_=>ll(Ht(_)),pu(0,d,f,h)):new w(1,[[f,new x(0,["an array",h])]])}else switch(se(Ju(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return s=Ke(e,t,!0,v(0,gt(r))),f=>h=>u0(ue(s),f,h);case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return o=Ke(e,t,!1,v(0,gt(r))),f=>h=>Bo(ue(o),f,h);case"System.Collections.Generic.IEnumerable`1[System.Object]":return i=Ke(e,t,!1,v(0,gt(r))),f=>h=>l0(ue(i),f,h);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const f=Ke(e,t,!1,v(0,gt(r))),h=Ke(e,t,!1,v(1,gt(r)));let _;const m=Rs([p=>g=>p0(ue(f),ue(h),p,g),(u=d0(ue(f),ue(h)),p=>g=>Bo(ue(u),p,g))]);return _=p=>g=>c0(m,p,g),p=>g=>f0(h0,ue(_),p,g)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const f=Ke(e,t,!1,v(0,gt(r)));return h=>_=>{const m=$o(ue(f),h,_);return m.tag===0?new w(0,[_0(m.fields[0])]):new w(1,[m.fields[0]])}}default:return Go(e,t,n,r)}else switch(l){case"System.Boolean":return d=>f=>t0(d,f);case"Microsoft.FSharp.Core.Unit":return d=>f=>Qd(d,f);case"System.String":return d=>f=>mu(d,f);case"System.Char":return d=>f=>zd(d,f);case"System.SByte":return Io;case"System.Byte":return vo;case"System.Int16":return Vo;case"System.UInt16":return Fo;case"System.Int32":return Ao;case"System.UInt32":return Oo;case"System.Double":return d=>f=>n0(d,f);case"System.Single":return d=>f=>r0(d,f);case"System.DateTime":return d=>f=>s0(d,f);case"System.DateTimeOffset":return d=>f=>o0(d,f);case"System.TimeSpan":return d=>f=>i0(d,f);case"System.Guid":return d=>f=>Jd(d,f);case"System.Object":return d=>f=>new w(0,[f]);default:return Go(e,t,n,r)}else{const d=c;return f=>h=>d.contents(f)(h)}}function g0(e){return e!=null?ia((t,n)=>new oe(n[1]),e.Coders):vi({Compare:qo})}function gu(e,t,n){let r,s;const o=y(t,new su(0,[]));return _d(md,(r=(s=se(e),Je(o)+s),y(si(i=>i.Hash,n),"")+r),()=>Ke(g0(n),o,!1,e))}function w0(e){return String(e)}const y0=new ou("",vi({Compare:qo})),wu=new su(1,[]),yu=new ou((()=>bd())(),Ii("System.Int64",[w0,e0],y0.Coders));function S0(e,t,n,r){const s=ct(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const o=s>0;return i=>{const u=ct(i,t)|0;return o&&u<=0||!o&&u>=0?[i,r(i,e)]:void 0}}function b0(e,t,n,r,s){const o=S0(t,n,r,s);return ut(()=>yi(o,e))}function Mr(e,t,n){return b0(e,t,n,0,(r,s)=>r+s)}class C0{constructor(){this.defaultFont="Font Small",this.sprites=new Map([])}}function E0(){return new C0}function M0(e){return e.sprites}function Ns(e,t){let n,r=Oe();if(n=[Ss(e.sprites,t,new oe(()=>r,s=>{r=s})),r],n[0])return n[1];throw new Error(`Can't find name ${t}`)}function x0(e){return e.defaultFont}function Xe(e,t,n,r){let s,o;const i=v(n-1,Ns(e,t).Frames),u=yt(de),l=i.Layers.length-1|0;for(let c=0;c<=l;c++){const d=v(c,i.Layers);u.push(new $(1,[(s=d,o=s,$s(r[0]+o.Offset.X,r[1]+o.Offset.Y,0,s.Rect.Width,s.Rect.Height,o.Texture,o.Rect.X,o.Rect.Y,o.Rect.Height,o.Rect.Width))]))}return u}function No(e,t,n,r,s){return o=>{let i,u,l,c,d,f;const h=y(n,x0(e)),_=y(r,0)|0,m=y(s,0)|0;let p=0;return ce((i=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,le(y(t,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,d??void 0,f??void 0)),g=>{Se(S=>{let M,C,I,B,F,A,X,N,q;(M=S,M===" "?(p=p+4|0,G=>{}):(C=M==="-"?"Minus":M===":"?void 0:M.toUpperCase(),C!=null?(I=v(1-1,Ns(e,`${h}-${C}`).Frames),B=(F=(A=I,X=_+p|0,N=yt(de),q=A.Layers.length-1|0,(()=>{let G,z;for(let Ee=0;Ee<=q;Ee++){const Be=v(Ee,A.Layers);N.push(new $(1,[(G=Be,z=G,$s(X+z.Offset.X,m+z.Offset.Y,0,G.Rect.Width,G.Rect.Height,z.Texture,z.Rect.X,z.Rect.Y,z.Rect.Height,z.Rect.Width))]))}})(),N),G=>{Fe(F,G),te(de,F)}),G=>{B(G),(p=p+v(0,I.Layers).Rect.Width+1|0,z=>{})(G)}):G=>{}))(g)},o.split(""))})}}const Su=10,ge=E0();class R0 extends V{constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}class T0 extends V{constructor(t,n,r){super(),this.X=t,this.Y=n,this.Radius=r}}function D0(e,t){let n,r;const s=e.X+e.Width/2,o=e.Y+e.Height/2,i=Math.abs(t.X-s),u=Math.abs(t.Y-o);return i>e.Width/2+t.Radius||u>e.Height/2+t.Radius?!1:i<=e.Width/2||u<=e.Height/2?!0:(n=i-e.Width/2,Math.pow(n,2)+(r=u-e.Height/2,Math.pow(r,2))<=Math.pow(t.Radius,2))}function Ve(e,t){if(Math.abs(e+360-(t+360))<15)return he(void 0)}function k0(e,t,n,r,s){const o=Oa(r),i=l=>{if(!re(l,As())){const c=Ba($a(l,t),n),d=new T0(c.X,c.Y,s),f=ts(~~Math.floor(n.X-s),~~Math.floor(c.X-s))|0,h=On(~~Math.ceil(n.X+s),~~Math.ceil(c.X+s))|0,_=ts(~~Math.floor(n.Y-s),~~Math.floor(c.Y-s))|0,m=On(~~Math.ceil(n.Y+s),~~Math.ceil(c.Y+s))|0;let p=!0;for(let g=f;g<=h;g++)for(let S=_;S<=m;S++)p&&!e(new ye(g,S))&&D0(new R0(g,S,1,1),d)&&(p=!1);return p?c:void 0}},u=i(o);if(u!=null)return u;{let l;const c=(p,g)=>e(new ye(p,g)),d=p=>~~Math.floor(p),f=d(n.X)|0,h=d(n.Y)|0,_=po(n.X-f),m=po(n.Y-h);if(l==null){const p=i(new Z(o.X,0));if(p!=null){const g=p;Cr(n,g).Distance>.2*t&&(l=g)}else{const g=i(new Z(0,o.Y));if(g!=null){const S=g;Cr(n,S).Distance>.2*t&&(l=S)}}}if(l==null){const p=r.Angle;if(Ve(90,p)!=null){if(m>=.5&&c(f+1,h)){const g=i(new Z(0,-1));g!=null&&(l=g)}else if(m<=.5&&c(f+1,h)){const g=i(new Z(0,1));g!=null&&(l=g)}}else if(Ve(270,p)!=null){if(m>=.5&&c(f-1,h)){const g=i(new Z(0,-1));g!=null&&(l=g)}else if(m<=.5&&c(f-1,h)){const g=i(new Z(0,1));g!=null&&(l=g)}}else if(Ve(180,p)!=null){if(_>=.5&&c(f,h+1)){const g=i(new Z(-1,0));g!=null&&(l=g)}else if(_<=.5&&c(f,h+1)){const g=i(new Z(1,0));g!=null&&(l=g)}}else if(Ve(0,p)!=null){if(_>=.5&&c(f,h-1)){const g=i(new Z(-1,0));g!=null&&(l=g)}else if(_<=.5&&c(f,h-1)){const g=i(new Z(1,0));g!=null&&(l=g)}}}if(l==null){const p=r.Angle;let g;switch(Ve(90,p)!=null&&m<.4&&c(f,h-1)&&c(f+1,h-1)?g=0:g=1,g){case 0:{const S=i(new Z(0,-1));S!=null&&(l=S);break}case 1:{let S;switch(Ve(90,p)!=null&&m>.6&&c(f,h+1)&&c(f+1,h+1)?S=0:S=1,S){case 0:{const M=i(new Z(0,1));M!=null&&(l=M);break}case 1:{let M;switch(Ve(270,p)!=null&&m<.4&&c(f,h-1)&&c(f-1,h-1)?M=0:M=1,M){case 0:{const C=i(new Z(0,-1));C!=null&&(l=C);break}case 1:{let C;switch(Ve(270,p)!=null&&m>.6&&c(f,h+1)&&c(f-1,h+1)?C=0:C=1,C){case 0:{const I=i(new Z(0,1));I!=null&&(l=I);break}case 1:{let I;switch(Ve(180,p)!=null&&_<.4&&c(f-1,h)&&c(f-1,h+1)?I=0:I=1,I){case 0:{const B=i(new Z(-1,0));B!=null&&(l=B);break}case 1:{let B;switch(Ve(180,p)!=null&&_>.6&&c(f+1,h)&&c(f+1,h+1)?B=0:B=1,B){case 0:{const F=i(new Z(1,0));F!=null&&(l=F);break}case 1:{let F;switch(Ve(0,p)!=null&&_<.4&&c(f-1,h)&&c(f-1,h-1)?F=0:F=1,F){case 0:{const A=i(new Z(-1,0));A!=null&&(l=A);break}case 1:{let A;switch(Ve(0,p)!=null&&_>.6&&c(f+1,h)&&c(f+1,h-1)?A=0:A=1,A){case 0:{const X=i(new Z(1,0));X!=null&&(l=X);break}}break}}break}}break}}break}}break}}break}}break}}}return l??n}}function me(){return et()}function I0(e,t,n,r){return(s=>{const o=y(void 0,()=>()=>re(a,b));return new Ot(y(e,""),void 0,(i,u)=>{try{return o(void 0)(void 0)}catch(l){throw l}},(i,u)=>s(i)(void 0))})(s=>()=>(o=>{const i=yo(o,()=>new Lr(0,[t()])),u=yo(o,()=>d=>{}),l=d=>{tr(u)(d)};Hf(o,void 0,()=>{let d;const f=tr(i);if(f.tag===0)Zr(i,_=>new Lr(1,[f.fields[0][0]])),d=f.fields[0][1];else throw new Error("");Zr(u,_=>m=>{const p=tr(i);if(p.tag===1){const g=n(m,p.fields[0]);Zr(i,M=>new Lr(1,[g[0]]));const S=H(g[1]);try{for(;S["System.Collections.IEnumerator.MoveNext"]();)S["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{Y(S)}}else throw new Error("")});const h=H(d);try{for(;h["System.Collections.IEnumerator.MoveNext"]();)h["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{Y(h)}});const c=tr(i);if(c.tag===1)return r(c.fields[0],l);throw new Error("")})(s))}class v0{constructor(t){let n,r,s,o,i,u,l,c,d,f,h,_,m,p,g,S,M,C,I,B,F,A,X,N,q,G,z,Ee;this.gl=t;const Be=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec3 offset;\r
in vec4 position;\r
in vec4 texturePosition;\r
in float textureLayer;\r
in float depth;\r
uniform vec2 depthRange;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec3 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec3(\r
            mix(vec2(0.0, 0.0), vec2(1.0, 1.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution),\r
            textureLayer);\r
\r
    float x = mix(-1.0, 1.0, (offset.x + position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (offset.y + position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
\r
    float minDepth = depthRange.x;\r
    float maxDepth = depthRange.y;\r
    float d = ((offset.z + depth) - minDepth) / (maxDepth - minDepth);\r
\r
    frag_depth = 1.0f - d;\r
}`,Ct=`#version 300 es\r
precision highp float;\r
\r
in vec3 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2DArray diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=ka(Be,Ct,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.offsetLocation=(l=this.gl,c=this.program,l.getUniformLocation(c,"offset")),this.positionLocation=(d=(f=this.gl,h=this.program,f.getAttribLocation(h,"position")),d>>>0),this.texturePositionLocation=(_=(m=this.gl,p=this.program,m.getAttribLocation(p,"texturePosition")),_>>>0),this.textureLayerLocation=(g=(S=this.gl,M=this.program,S.getAttribLocation(M,"textureLayer")),g>>>0),this.depthLocation=(C=(I=this.gl,B=this.program,I.getAttribLocation(B,"depth")),C>>>0),this.depthRangeLocation=(F=this.gl,A=this.program,F.getUniformLocation(A,"depthRange")),this.outputResolutionLocation=(X=this.gl,N=this.program,X.getUniformLocation(N,"outputResolution")),this.textureResolutionLocation=(q=this.gl,G=this.program,q.getUniformLocation(G,"textureResolution")),this.diffuseTextureLocation=(z=this.gl,Ee=this.program,z.getUniformLocation(Ee,"diffuseTexture"))}}function V0(e){return new v0(e)}function F0(e){return e.program}function Uo(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation),e.gl.enableVertexAttribArray(e.positionLocation),e.gl.enableVertexAttribArray(e.texturePositionLocation),e.gl.enableVertexAttribArray(e.textureLayerLocation),e.gl.enableVertexAttribArray(e.depthLocation))}function A0(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function O0(e,t,n,r){e.gl.uniform3f(e.offsetLocation,t,n,r)}function P0(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.positionLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.positionLocation,i)}function B0(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.texturePositionLocation,4,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.texturePositionLocation,i)}function $0(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.textureLayerLocation,1,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.textureLayerLocation,i)}function L0(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.depthLocation,1,5126,!1,s,o);const i=y(n,0);return r.vertexAttribDivisor(e.depthLocation,i)}function H0(e,t,n){e.gl.uniform2f(e.depthRangeLocation,t,n)}function G0(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function N0(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function U0(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(35866,t)}let sr=Jo(void 0);function W0(e,t){let n;if(sr()==null){const r=V0(e);Uo(r),t(r),sr(r)}else{const r=sr();re((n=e,n.getParameter(n.CURRENT_PROGRAM)),F0(r))||(Uo(r),t(r))}return E(sr())}const Mt=Vr(()=>[],e=>{at(e)});class Z0 extends Ps{constructor(t,n){super(t,n),this.gl=t,this.view=n,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r,s;const o=this;Wo(o);const i=yt(Mt),u=yt(Mt),l=yt(Mt),c=yt(Mt);Pf(o.view,(d,f)=>{const h=f,_=i;_.push(nf(h)+d[0]),_.push(sf(h)+d[1]),_.push(cf(h)),_.push(ff(h));const m=f,p=l;p.push(mf(m)),p.push(gf(m)),p.push(yf(m)),p.push(bf(m));const g=t.TextureLayer(hf(f));if(g!=null){const S=g;c.push(S)}u.push(uf(f)+d[2])}),o.renderResult=(n=kn(i,o.gl),r=kn(l,o.gl),s=kn(c,o.gl),{DepthBuffer:kn(u,o.gl),PosBuffer:n,TextureBuffer:r,TextureLayer:s,TotalSprites:~~(i.length/4)}),te(Mt,i),te(Mt,l),te(Mt,c),te(Mt,u)}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=E(n.renderResult),s=t.Resolution.Width>>>0,o=t.Resolution.Height>>>0;n.gl.viewport(0,0,s,o),n.gl.enable(2929),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515);const i=W0(n.gl,c=>{A0(c,t.VertexBuffer)});O0(i,t.Offset.X,t.Offset.Y,t.Offset.Z);const u=t.ZRange;H0(i,u[0],u[1]),G0(i,t.Resolution.Width,t.Resolution.Height),N0(i,t.TextureDetails.Width,t.TextureDetails.Height),U0(i,t.TextureDetails.Texture),$0(i,r.TextureLayer,1),P0(i,r.PosBuffer,1),B0(i,r.TextureBuffer,1),L0(i,r.DepthBuffer,1);const l=r.TotalSprites>>>0;n.gl.drawArraysInstanced(4,0,6,l)}"Imp.DisplayModels.RendererBase.OnDistory"(){Wo(this)}}function j0(e,t){return new Z0(e,t)}function Wo(e){Se(t=>{er(Dn,t.PosBuffer),er(Dn,t.TextureBuffer),er(Dn,t.TextureLayer),er(Dn,t.DepthBuffer)},vn(e.renderResult)),e.renderResult=void 0}class Y0 extends jn{constructor(t){super(),this.name=t}}function K0(e){return new Y0(e)}function Bt(e,t){const n=Yn();return t(n),new Os(e.name,j0,n)}function $t(e){return K0(y(e,""))}class X0 extends Ps{constructor(t,n){super(t,n),this.view=n}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){ln(this.view,t)}}function q0(e,t){return new X0(e,t)}class z0 extends jn{constructor(t){super(),this.key=t}}function J0(e){return new z0(e)}function Q0(e,t){const n=Yn();return t(n),new Os(e.key,q0,n)}function eh(e){return J0(y(e,""))}class th extends V{constructor(t,n,r,s,o){super(),this.Up=t,this.Down=n,this.Left=r,this.Right=s,this.A=o}}class nh extends V{constructor(t,n){super(),this.Thumbstick=t,this.Buttons=n}}class pe extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Gound","Wall","Destructible","Cauldron","Ingredient","Gate"]}}class rh extends V{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Time=r}}function _s(e){let t;return On(0,(t=e.Time,~~Math.floor(t)+1))}class sh extends V{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Fuse=r}}class oh extends V{constructor(t,n){super(),this.Explosions=t,this.Bombs=n}}class ih extends V{constructor(t,n){super(),this.Value=t,this.UpdateCounter=n}}function lt(e){e.UpdateCounter=Tr(wl(e.UpdateCounter,1n))}function xn(e){return[e.Value,e.UpdateCounter]}function ms(e){return new ih(e,0n)}class uh extends V{constructor(t,n){super(),this.Grid=t,this.WorldObjects=n}}class Zo extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Bomb","Ingredient"]}}class lh extends V{constructor(t,n,r,s,o,i,u){super(),this.Id=t|0,this.Position=n,this.Angle=r,this.Tag=s,this.Frame=o,this.Stunned=i,this.Inventory=u}}function ps(e){return[`Player-${e.Angle}-${e.Tag}`,~~e.Frame+1,~~(e.Position.X*32-16),~~(e.Position.Y*32-16)]}class ch extends V{constructor(t){super(),this.Player1=t}}class fr extends V{constructor(t,n,r,s){super(),this.Controller=t,this.World=n,this.Players=r,this.IsActive=s}}class ze extends Ce{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Noop","Input","Focus","Blur","Tick","Action","ArenaLoaded"]}}function ah(e,t){let n;return[(n=new ch(ms(new lh(1,new Z(1.5,1.5),"South","Idle",0,void 0,et()))),new fr(new nh(Fs(),new th(!1,!1,!1,!1,!1)),void 0,n,!0)),lc([xe(r=>{r(new ze(4,[]))}),xe(r=>{e["Imp.Setup.DataManager.LoadString"]("arena.json",s=>{r(new ze(6,[_u(ue(gu(fd(),wu,yu)),s)]))})})])]}function Pr(e,t){const n=e.World;if(n!=null){const r=n,s=ns(t.Y,r.Grid.Value);return s!=null?ns(t.X,s):void 0}else return}function fh(e,t){const n=Pr(e,t);if(n!=null){const r=n;let s;switch(!_i(re,r,Oe())&&r.length===1?v(0,r).tag===0?s=0:r.some(o=>{let i;switch(o.tag===5&&o.fields[0]===1?i=0:i=1,i){case 0:return!0;default:return!1}})?s=1:s=2:r.some(o=>{let i;switch(o.tag===5&&o.fields[0]===1?i=0:i=1,i){case 0:return!0;default:return!1}})?s=1:s=2,s){case 0:return!0;case 1:return!0;default:return!1}}else return!1}function dh(e){let t,n,r,s;const o=e.World;if(o!=null){const i=o,u=e.Players.Player1.Value,l=()=>{lt(e.Players.Player1)},c=u.Stunned;if(c!=null){const d=c-.1;d<=0?(u.Stunned=void 0,l()):u.Stunned=d}else{const d=(t=u.Position.X,~~Math.floor(t)|0),f=(n=u.Position.Y,~~Math.floor(n)|0);if(hi(h=>h.Time>=0&&h.Time<=7&&h.X===d?h.Y===f:!1,i.WorldObjects.Value.Explosions)!=null)u.Tag="Idle",u.Frame=0,u.Stunned=10,l();else{const h=ps(u);let _;const m=e.Controller.Buttons,p=e.Controller.Thumbstick;let g=Fs(),S=0,M=0;if(m.Up&&(S=S-1),m.Down&&(S=S+1),m.Left&&(M=M-1),m.Right&&(M=M+1),(S!==0||M!==0)&&(g=new $n(Cr(As(),new Z(M,S)).Angle,1)),p.Distance>0&&(g=(r=p,new $n(r.Angle,(C=>ts(C,1))(r.Distance)))),_=g,_.Distance>0){const C=Su/200;u.Position=k0(I=>fh(e,I),C,u.Position,_,.4),u.Angle=(s=Pa(_).Angle,s===0?"North":s===90?"East":s===180?"South":"West"),_.Distance>0?(u.Tag="Run",u.Frame=(u.Frame+_.Distance*C*4)%8):(u.Tag="Idle",u.Frame=0)}else u.Tag!=="Idle"&&(u.Tag="Idle",u.Frame=0);xt(ps(u),h)||l()}}}}function hh(e){let t;const n=e.World;if(n!=null){const r=n,s=r.WorldObjects.Value.Explosions;for(let o=0;o<=s.length-1;o++){const i=v(o,s),u=_s(i)|0;i.Time=i.Time+.2,u!==_s(i)&&lt(r.WorldObjects)}r.WorldObjects.Value.Explosions.length>0&&(r.WorldObjects.Value.Explosions=(t=r.WorldObjects.Value.Explosions,t.filter(o=>o.Time<=12)))}}const or=[];function _h(e){let t;const n=e.World;if(n!=null){const r=n;at(or);const s=(i,u,l,c,d)=>{if(i>0){const f=()=>{or.push(new rh(u,l,-c))},h=Pr(e,new ye(u,l));if(h!=null){const _=h;let m;switch(!_i(re,_,Oe())&&_.length===1?v(0,_).tag===0?m=0:Pn(new pe(2,[]),_,{Equals:re,GetHashCode:hr})?m=1:m=2:Pn(new pe(2,[]),_,{Equals:re,GetHashCode:hr})?m=1:m=2,m){case 0:{f(),d(i-1);break}case 1:{f(),v(l,r.Grid.Value)[u]=[new pe(0,[])],lt(r.Grid);break}}}}},o=r.WorldObjects.Value.Bombs;for(let i=0;i<=o.length-1;i++){const u=v(i,o);u.Fuse=u.Fuse-.1,u.Fuse<=0&&(lt(r.WorldObjects),s(2,u.X,u.Y,0,l=>{s(l,u.X+1,u.Y,2,c=>{}),s(l,u.X-1,u.Y,2,c=>{}),s(l,u.X,u.Y+1,2,c=>{}),s(l,u.X,u.Y-1,2,c=>{})}))}or.length>0&&(r.WorldObjects.Value.Explosions=di(r.WorldObjects.Value.Explosions,Ci(or)),lt(r.WorldObjects)),r.WorldObjects.Value.Bombs.length>0&&(r.WorldObjects.Value.Bombs=(t=r.WorldObjects.Value.Bombs,t.filter(i=>i.Fuse>0)))}}function mh(e,t){let n,r,s,o,i;return Pr(e,(n=(r=t.Position.X,~~Math.floor(r)|0),s=(o=t.Position.Y,~~Math.floor(o)|0),i=t.Angle,i==="North"?new ye(n,s-1):i==="South"?new ye(n,s+1):i==="East"?new ye(n+1,s):i==="West"?new ye(n-1,s):new ye(0,0)))}function ph(e){const t=e.World;if(t!=null){const n=t,r=e.Players.Player1.Value,s=r.Position.X,o=r.Position.Y,i=H([[r.Angle==="North",s,o-1],[r.Angle==="South",s,o+1],[r.Angle==="East",s+1,o],[r.Angle==="West",s-1,o],[!0,s,o-.5],[!0,s,o+.5],[!0,s+.5,o],[!0,s-.5,o],[!0,s,o]]);try{for(;i["System.Collections.IEnumerator.MoveNext"]();){const u=i["System.Collections.Generic.IEnumerator`1.get_Current"](),l=~~Math.floor(u[1])|0,c=~~Math.floor(u[2])|0,d=Pr(e,new ye(l,c));if(d!=null){const f=d;u[0]?f.some(h=>{let _,m;switch(h.tag===5&&h.fields[1]&&h.fields[0]===r.Id?(_=0,m=h.fields[0]):_=1,_){case 0:return!0;default:return!1}})&&(v(c,n.Grid.Value)[l]=[new pe(0,[]),new pe(5,[r.Id,!1])],lt(n.Grid)):f.some(h=>{let _,m;switch(h.tag===5?h.fields[1]?_=1:h.fields[0]===r.Id?(_=0,m=h.fields[0]):_=1:_=1,_){case 0:return!0;default:return!1}})&&(v(c,n.Grid.Value)[l]=[new pe(0,[]),new pe(5,[r.Id,!0])],lt(n.Grid))}}}finally{Y(i)}}}function gh(e,t){let n,r,s;switch(e.tag){case 4:return dh(t),hh(t),_h(t),ph(t),[t,xe(o=>{Gf(Su,()=>{o((()=>new ze(4,[]))())})})];case 1:{const o=e.fields[0];switch(o.tag){case 0:return t.Controller.Thumbstick=Cr(As(),new Z(o.fields[0],o.fields[1])),[t,me()];case 1:{const i=o.fields[0];switch(o.fields[1].tag){case 4:return t.Controller.Buttons.Left=i,[t,me()];case 3:return t.Controller.Buttons.Down=i,[t,me()];case 5:return t.Controller.Buttons.Right=i,[t,me()];case 0:case 1:return i?[t,xe(l=>{l(new ze(5,[]))})]:[t,me()];default:return t.Controller.Buttons.Up=i,[t,me()]}}default:{const i=o.fields[0];switch(o.fields[1]|0){case 32:return i?[t,xe(l=>{l(new ze(5,[]))})]:[t,me()];case 65:case 263:return t.Controller.Buttons.Left=i,[t,me()];case 68:case 262:return t.Controller.Buttons.Right=i,[t,me()];case 83:case 264:return t.Controller.Buttons.Down=i,[t,me()];case 87:case 265:return t.Controller.Buttons.Up=i,[t,me()];default:return[t,me()]}}}}case 2:{const o=new fr(t.Controller,t.World,t.Players,!0);return lt(o.Players.Player1),[o,me()]}case 3:{const o=new fr(t.Controller,t.World,t.Players,!1),i=o.Controller.Buttons;return i.Up=!1,i.Left=!1,i.Down=!1,i.Right=!1,i.A=!1,o.Controller.Thumbstick=Fs(),[o,me()]}case 5:{const o=t.World;if(o!=null){const i=o,u=t.Players.Player1.Value,l=()=>{lt(t.Players.Player1)},c=mh(t,u);let d;switch(c!=null?Pn(new pe(3,[1]),c,{Equals:re,GetHashCode:hr})?d=0:Pn(new pe(4,[]),c,{Equals:re,GetHashCode:hr})?d=1:d=2:d=2,d){case 0:{const f=u.Inventory;let h,_;switch(P(f)?h=1:R(f).tag===1?(h=0,_=O(f)):h=1,h){case 0:{u.Inventory=_,l();break}case 1:{if(on(u.Inventory)<4){const m=3-on(dc(p=>p.tag===0,u.Inventory))|0;m>0&&(u.Inventory=rs(_c(m,new Zo(0,[])),u.Inventory),l())}break}}break}case 1:{on(u.Inventory)<4&&!mc(f=>f.tag===1,u.Inventory)&&(u.Inventory=rs(xe(new Zo(1,[])),u.Inventory),l());break}case 2:{const f=u.Inventory;if(!P(f)&&R(f).tag===0){const h=(n=u.Position.X,~~Math.floor(n)|0),_=(r=u.Position.Y,~~Math.floor(r)|0);s=i.WorldObjects.Value.Bombs,!s.some(m=>m.X===h?m.Y===_:!1)&&(i.WorldObjects.Value.Bombs=di(i.WorldObjects.Value.Bombs,[new sh(h,_,10)]),lt(i.WorldObjects),u.Inventory=O(f))}break}}return[t,xe(f=>{f(new ze(0,[]))})]}else return[t,xe(i=>{i(new ze(0,[]))})]}case 6:{let o=0,i=0;return[new fr(t.Controller,new uh(ms(Ht(Gr(u=>Ht(Gr(l=>Ht(Gr(c=>{switch(c){case"Wall":return new pe(1,[]);case"Destructible":return new pe(2,[]);case"Cauldron":return i=i+1|0,new pe(3,[i]);case"Ingredient":return new pe(4,[]);case"Gate":return o=o+1|0,new pe(5,[o,!0]);default:return new pe(0,[])}},l)),u)),e.fields[0].Points))),ms(new oh([],[]))),t.Players,t.IsActive),xe(u=>{u(new ze(0,[]))})]}default:return[t,me()]}}function Rn(e,t,n,r){return re(t,r)}function wh(e){let t,n,r,s,o,i;return ce((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,le(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0)),u=>{const l=Bt($t(),c=>{Se(d=>{let f,h,_,m,p,g,S;const M=d|0,C=ce((f=M*32,h=void 0,_=void 0,m=void 0,p=void 0,g=void 0,S=void 0,le(y(void 0,""),y(void 0,0),y(void 0,0),y(f,0),y(void 0,0),y(void 0,0),h??void 0,_??void 0,m??void 0,p??void 0,g??void 0,S??void 0)),I=>{const B=v(M,e),F=M*32|0;Se(A=>{const X=A|0,N=X*32|0;Se(q=>{let G,z,Ee,Be,Ct,gn,Re,Ie;(G=q,G.tag===2?(z=Xe(ge,"Destructible",1,[N,F]),Q=>{Fe(z,Q),te(de,z)}):G.tag===3?(Ee=Xe(ge,"Cauldron",1,[N,F]),Q=>{Fe(Ee,Q),te(de,Ee)}):G.tag===4?(Be=Xe(ge,"Ingredient",1,[N,F]),Q=>{Fe(Be,Q),te(de,Be)}):G.tag===5?G.fields[1]?(Ct=Xe(ge,"Gate",1,[N,F]),Q=>{Fe(Ct,Q),te(de,Ct)}):(gn=Xe(ge,"Gate Open",1,[N,F]),Q=>{Fe(gn,Q),te(de,gn)}):G.tag===0?(Re=Xe(ge,"Earth",1,[N,F]),Q=>{Fe(Re,Q),te(de,Re)}):(Ie=Xe(ge,"Wall",1,[N,F]),Q=>{Fe(Ie,Q),te(de,Ie)}))(I)},v(X,B))},Mr(0,1,B.length-1))});c.push(new $(0,[C]))},Mr(0,1,e.length-1))});u.push(new $(2,[l]))})}function yh(e){let t,n,r,s,o,i,u;const l=ps(e),c=v(l[1]-1,Ns(ge,l[0]).Frames);let d;const f=e.Inventory;return d=P(f)?"Normal":R(f).tag===1?"Ingredient":"Bomb",ce((t=~~((e.Position.Y+.4)*32),n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,le(y("Player",""),y(l[2],0),y(l[3],0),y(t,0),y(void 0,0),y(void 0,0),n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),h=>{const _=Bt($t("Player batchRenderer"),m=>{Se(p=>{let g,S,M,C;(g=v(p,c.Layers),Pn(d,g.MetaData,{Equals:(I,B)=>I===B,GetHashCode:Gn})?(S=(M=g,C=M,$s(0+C.Offset.X,0+C.Offset.Y,0,M.Rect.Width,M.Rect.Height,C.Texture,C.Rect.X,C.Rect.Y,C.Rect.Height,C.Rect.Width)),I=>{I.push(new $(1,[S]))}):I=>{})(m)},Mr(0,1,c.Layers.length-1))});h.push(new $(2,[_]))})}function Sh(e,t){let n,r,s,o,i,u,l,c,d,f,h,_,m,p;const g=e.World;if(g==null)return ce((n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,le(y("Small world root view None",""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),n??void 0,r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),S=>{const M=Bt($t(),C=>{let I,B,F,A,X,N;const q=ce((I=void 0,B=void 0,F=void 0,A=void 0,X=void 0,N=void 0,le(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),I??void 0,B??void 0,F??void 0,A??void 0,X??void 0,N??void 0)),G=>{const z=No(ge)("Loading");G.push(new $(0,[z]))});C.push(new $(0,[q]))});S.push(new $(2,[M]))});{const S=g;return ce((l=S.Grid.Value.length*32,c=v(0,S.Grid.Value).length*32,d=void 0,f=void 0,h=void 0,_=M=>{t(new ze(2,[]))},m=M=>{t(new ze(3,[]))},p=void 0,le(y("Small world root view",""),y(32,0),y(32,0),y(2,0),y(l,0),y(c,0),d??void 0,f??void 0,h??void 0,_??void 0,m??void 0,p??void 0)),M=>{const C=Q0(eh("worldRenderer"),I=>{const B=eu(Qi(y("context",""),F=>{const A=F;return new Fr(A.Time,A.Resolution,A.Offset,A.VertexBuffer,A.TextureDetails,A.TextureLayer,[0,256])}),F=>{let A,X,N,q,G,z,Ee,Be;const Ct=F;(A=(X=y(void 0,Re=>Ie=>Re===Ie),new Ot(y("input",""),e.IsActive,(Re,Ie)=>{try{return X(Re)(Ie)}catch(Q){throw Q}},(Re,Ie)=>((Q,wn)=>{let Ut,Wt,Zt,jt,Yt,Kt;return Lf(Q,()=>new $f),ce((Ut=void 0,Wt=void 0,Zt=void 0,jt=void 0,Yt=void 0,Kt=Xt=>wn?(t(new ze(1,[Xt])),!0):!1,le(y("input view",""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),Ut??void 0,Wt??void 0,Zt??void 0,jt??void 0,Yt??void 0,Kt??void 0)),Xt=>{const Kn=Bt($t("input batchRenderer"),Xn=>{const qn=No(ge,"input text label")(wn?"Active":"Click on the world to activate");Xn.push(new $(0,[qn]))});Xt.push(new $(2,[Kn]))})})(Re,Ie))),Re=>{Re.push(new $(4,[A]))})(Ct);const gn=ce((N=void 0,q=void 0,G=void 0,z=void 0,Ee=void 0,Be=void 0,le(y("world holder",""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),N??void 0,q??void 0,G??void 0,z??void 0,Ee??void 0,Be??void 0)),Re=>{let Ie,Q,wn,Ut,Wt,Zt,jt,Yt,Kt,Xt,Kn,Xn;const qn=Re;(Ie=(Q=xn(S.Grid),wn=y(T=>D=>Rn(T[0],T[1],D[0],D[1]),T=>D=>xt(T,D)),new Ot(y("world",""),Q,(T,D)=>{try{return wn(T)(D)}catch(Me){throw Me}},(T,D)=>((Me,ft)=>wh(ft[0]))(T,D))),T=>{T.push(new $(4,[Ie]))})(qn);const Us=qn;(Ut=(Wt=xn(e.Players.Player1),Zt=y(T=>D=>Rn(T[0],T[1],D[0],D[1]),T=>D=>xt(T,D)),new Ot(y("player",""),Wt,(T,D)=>{try{return Zt(T)(D)}catch(Me){throw Me}},(T,D)=>((Me,ft)=>yh(ft[0]))(T,D))),T=>{T.push(new $(4,[Ut]))})(Us);const Ws=Us;(jt=(Yt=xn(e.Players.Player1),Kt=y(T=>D=>Rn(T[0],T[1],D[0],D[1]),T=>D=>xt(T,D)),new Ot(y("player-inv",""),Yt,(T,D)=>{try{return Kt(T)(D)}catch(Me){throw Me}},(T,D)=>((Me,ft)=>{let $e,Le,He,Ge,Ne,Ue;const qt=ft[0];return ce(($e=void 0,Le=void 0,He=void 0,Ge=void 0,Ne=void 0,Ue=void 0,le(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),$e??void 0,Le??void 0,He??void 0,Ge??void 0,Ne??void 0,Ue??void 0)),yn=>{const Sn=Bt($t(),bn=>{let ve,tt,dt,nt,rt,st;const ht=ce((ve=void 0,tt=void 0,dt=void 0,nt=void 0,rt=void 0,st=void 0,le(y(void 0,""),y(0,0),y(512,0),y(void 0,0),y(void 0,0),y(void 0,0),ve??void 0,tt??void 0,dt??void 0,nt??void 0,rt??void 0,st??void 0)),_t=>{Se(mt=>{let We,Et,pt,Ze,zt;(We=mt|0,Et=pi(We,qt.Inventory),pt=We*42|0,Et.tag===1?(Ze=Xe(ge,"Ingredient",1,[pt,0]),Br=>{Fe(Ze,Br),te(de,Ze)}):(zt=Xe(ge,"Bomb",1,[pt,0]),Br=>{Fe(zt,Br),te(de,zt)}))(_t)},Mr(0,1,on(qt.Inventory)-1))});bn.push(new $(0,[ht]))});yn.push(new $(2,[Sn]))})})(T,D))),T=>{T.push(new $(4,[jt]))})(Ws);const Zs=Ws;(Xt=(Kn=xn(S.WorldObjects),Xn=y(T=>D=>Rn(T[0],T[1],D[0],D[1]),T=>D=>xt(T,D)),new Ot(y("Explosion",""),Kn,(T,D)=>{try{return Xn(T)(D)}catch(Me){throw Me}},(T,D)=>((Me,ft)=>{let $e,Le,He,Ge,Ne,Ue;return ce(($e=void 0,Le=void 0,He=void 0,Ge=void 0,Ne=void 0,Ue=void 0,le(y("Explosion view",""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),$e??void 0,Le??void 0,He??void 0,Ge??void 0,Ne??void 0,Ue??void 0)),qt=>{const yn=Bt($t("Explosion batchRenderer"),Sn=>{Se(bn=>{let ve,tt,dt,nt,rt,st,ht,_t,mt,We,Et,pt;(ve=bn,tt=_s(ve)|0,tt>=1?(dt=ce((nt=ve.X*32,rt=ve.Y*32,st=ve.Y*32+31,ht=void 0,_t=void 0,mt=void 0,We=void 0,Et=void 0,pt=void 0,le(y("Explosion3 holder",""),y(nt,0),y(rt,0),y(st,0),y(void 0,0),y(void 0,0),ht??void 0,_t??void 0,mt??void 0,We??void 0,Et??void 0,pt??void 0)),Ze=>{const zt=Xe(ge,"Explosion",tt,[0,0]);Fe(zt,Ze),te(de,zt)}),Ze=>{Ze.push(new $(0,[dt]))}):Ze=>{})(Sn)},ft[0].Explosions)});qt.push(new $(2,[yn]))})})(T,D))),T=>{T.push(new $(4,[Xt]))})(Zs);let js;const bu=xn(S.WorldObjects),Cu=y(T=>D=>Rn(T[0],T[1],D[0],D[1]),T=>D=>xt(T,D));js=new Ot(y("Bombs",""),bu,(T,D)=>{try{return Cu(T)(D)}catch(Me){throw Me}},(T,D)=>((Me,ft)=>{let $e,Le,He,Ge,Ne,Ue;return ce(($e=void 0,Le=void 0,He=void 0,Ge=void 0,Ne=void 0,Ue=void 0,le(y(void 0,""),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),y(void 0,0),$e??void 0,Le??void 0,He??void 0,Ge??void 0,Ne??void 0,Ue??void 0)),qt=>{const yn=Bt($t("Bombs Renderer"),Sn=>{Se(bn=>{let ve,tt,dt,nt,rt,st,ht,_t,mt;const We=bn,Et=ce((ve=We.X*32,tt=We.Y*32,dt=We.Y*32+31,nt=void 0,rt=void 0,st=void 0,ht=void 0,_t=void 0,mt=void 0,le(y(void 0,""),y(ve,0),y(tt,0),y(dt,0),y(void 0,0),y(void 0,0),nt??void 0,rt??void 0,st??void 0,ht??void 0,_t??void 0,mt??void 0)),pt=>{const Ze=Xe(ge,"Bomb",1,[0,0]);Fe(Ze,pt),te(de,Ze)});Sn.push(new $(0,[Et]))},ft[0].Bombs)});qt.push(new $(2,[yn]))})})(T,D)),Zs.push(new $(4,[js]))});Ct.push(new $(0,[gn]))});I.push(new $(3,[B]))});M.push(new $(2,[C]))})}}function bh(e,t){return I0(e,()=>ah(t),gh,Sh)}let jo=Jo(0);class Ch extends V{constructor(t,n,r,s){super(),this.Texture=t,this.Rect=n,this.Offset=r,this.MetaData=s}}function Eh(e){return Nt("Imp.SpriteHelpers.Models.Layer`1",[e],Ch,()=>[["Texture",Un],["Rect",Fa()],["Offset",Va()],["MetaData",e]])}class Mh extends V{constructor(t){super(),this.Layers=t}}function xh(e){return Nt("Imp.SpriteHelpers.Models.Frame`1",[e],Mh,()=>[["Layers",ws(Eh(e))]])}class Rh extends V{constructor(t,n){super(),this.Name=t,this.Frames=n}}function Th(e){return Nt("Imp.SpriteHelpers.Models.SpriteInfo`1",[e],Rh,()=>[["Name",Un],["Frames",ws(xh(e))]])}function Dh(e){let t,n,r,s,o,i;return ce((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,i=void 0,le(y("Views.rootView",""),y(void 0,0),y(void 0,0),y(1,0),y(void 0,0),y(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0,i??void 0)),u=>{const l=eu(Qi(y(void 0,""),c=>{const d=c;return new Fr(d.Time,d.Resolution,d.Offset,d.VertexBuffer,d.TextureDetails,d.TextureLayer,[0,10])}),c=>{const d=id(ud(new td(36,33,47),"sceneRenderer"),f=>{const h=bh("SmallWorld",e);f.push(new $(4,[h]))});c.push(new $(2,[d]))});u.push(new $(3,[l]))})}function kh(){jo(jo()+1)}function Ih(e,t){const n=M0(ge),r=e;r["Imp.Setup.DataManager.LoadString"]("sprites.json",s=>{const o=H(_u(ue(gu(Tn(Th(ws(Un))),wu,yu)),s));try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();n.set(i.Name,i);const u=i.Frames;for(let l=0;l<=u.length-1;l++){const c=v(l,u).Layers;for(let d=0;d<=c.length-1;d++)fl(v(d,c).Texture,ru(r))}}}finally{Y(o)}(()=>{t["Imp.Setup.Display.AttachInputZ2D84AEB6"](u=>{u.AttachKeyboard(),u.AttachGamepad(),u.AttachMouse()});const i=Dh(e);t["Imp.Setup.Display.AttachView"](e,i,()=>{kh()}),t["Imp.Setup.Display.Run"]()})()})}const vh=zf("data"),Vh=ed("App",800,600);Ih(vh,Vh);
