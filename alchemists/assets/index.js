(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function qe(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function Ui(e){return e!=null&&typeof e.GetEnumerator=="function"}function Ni(e){return e!=null&&typeof e.CompareTo=="function"}function Yi(e){return e!=null&&typeof e.Equals=="function"}function Gi(e){return e!=null&&typeof e.GetHashCode=="function"}function Xi(e){return e!=null&&typeof e.Dispose=="function"}function ie(e){Xi(e)&&e.Dispose()}function rt(){return null}function nr(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}class Zi{constructor(t){this.iter=t,this.current=rt()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this.iter.next();return this.current=t.value,!t.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function Z(e){return Ui(e)?e.GetEnumerator():new Zi(e[Symbol.iterator]())}function fn(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"](),n=t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0;return{done:!t,value:n}}}}class Co{constructor(t){this.factory=t,this.isValueCreated=!1}get Value(){return this.isValueCreated||(this.createdValue=this.factory(),this.isValueCreated=!0),this.createdValue}get IsValueCreated(){return this.isValueCreated}}function ee(e,t){return e.toString(10).padStart(t,"0")}function Es(e){const t=e;return typeof t.offset=="number"?t.offset:e.kind===1?0:e.getTimezoneOffset()*-6e4}function ji(e,t){return e=e<0&&t!=null&&t!==10?65535+e+1:e,e.toString(t)}function Vt(e,t){return e=e<0&&t!=null&&t!==10?4294967295+e+1:e,e.toString(t)}class Tt{static id(t){return Tt.idMap.has(t)||Tt.idMap.set(t,++Tt.count),Tt.idMap.get(t)}}Tt.idMap=new WeakMap;Tt.count=0;function mr(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=n*33^e.charCodeAt(t++);return n}function St(e){return e*2654435761|0}function Ki(e){return mr(e.toString(32))}function Bn(e){let t=0;const n=e.length;for(let r=0;r<n;r++){const s=e[r];t=(t<<5)+t^s}return t}function qi(e){return e.getTime()}function zi(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=Mt(e[r]);return Bn(n)}function Mt(e){if(e==null)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return St(e);case"bigint":return Ki(e);case"string":return mr(e);default:{if(Gi(e))return e.GetHashCode();if(qe(e))return zi(e);if(e instanceof Date)return qi(e);if(Object.getPrototypeOf(e)?.constructor===Object){const t=Object.values(e).map(n=>Mt(n));return Bn(t)}else return St(Tt.id(e))}}}function Wr(e,t,n){if(e==null)return t==null;if(t==null||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function Mo(e,t){return Wr(e,t,$e)}function Ji(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let s=0;s<n.length;s++)if(n[s]!==r[s]||!$e(e[n[s]],t[r[s]]))return!1;return!0}function $e(e,t){return e===t?!0:e==null?t==null:t==null?!1:Yi(e)?e.Equals(t):qe(e)?qe(t)&&Mo(e,t):typeof e!="object"?!1:e instanceof Date?t instanceof Date&&os(e,t)===0:Object.getPrototypeOf(e)?.constructor===Object&&Ji(e,t)}function os(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+Es(e),r=t.getTime()+Es(t)),n===r?0:n<r?-1:1}function Eo(e,t){return e===t?0:e<t?-1:1}function Qi(e,t,n){if(e==null)return t==null?0:1;if(t==null)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,s=0;r<e.length;r++)if(s=n(e[r],t[r]),s!==0)return s;return 0}function xo(e,t){return Qi(e,t,_t)}function eu(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let s=0,o=0;s<n.length;s++){const i=n[s];if(i!==r[s])return i<r[s]?-1:1;if(o=_t(e[i],t[i]),o!==0)return o}return 0}function _t(e,t){return e===t?0:e==null?t==null?0:-1:t==null?1:Ni(e)?e.CompareTo(t):qe(e)?qe(t)?xo(e,t):-1:typeof e!="object"?e<t?-1:1:e instanceof Date?t instanceof Date?os(e,t):-1:Object.getPrototypeOf(e)?.constructor===Object?eu(e,t):-1}function Ro(e){let t=e;return(...n)=>{if(n.length===0)return t;t=n[0]}}function Ur(e,t=0){const n=Math.pow(10,t),r=+(t?e*n:e).toFixed(8),s=Math.floor(r),o=r-s,i=1e-8,u=o>.5-i&&o<.5+i?s%2===0?s:s+1:Math.round(r);return t?u/n:u}function Et(e){qe(e)?e.splice(0):e.clear()}const ko=new WeakMap;function Te(e){if(e==null)return null;const t=(n,r)=>e(n)(r);return ko.set(t,e),t}function tu(e){if(e==null)return null;const t=(n,r,s)=>e(n)(r)(s);return ko.set(t,e),t}function nu(e,t,n,r,s){if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))n.set(e.subarray(t,t+s),r);else for(let o=0;o<s;++o)n[r+o]=e[t+o]}function ru(e){let t=0,n="[";for(const r of e){if(t===0)n+=st(r);else if(t===100){n+="; ...";break}else n+="; "+st(r);t++}return n+"]"}function st(e,t=0){if(e!=null&&typeof e=="object"){if(typeof e.toString=="function")return e.toString();if(Symbol.iterator in e)return ru(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map(([r,s])=>r+" = "+st(s,t+1)).join(`
  `)+" }":n?.name??""}}return String(e)}function su(e,t){if(t.length===0)return e;{let n,r=!0;return t.length===1?(n=st(t[0]),r=n.indexOf(" ")>=0):n=t.map(s=>st(s)).join(", "),e+(r?" (":" ")+n+(r?")":"")}}class Fe{get name(){return this.cases()[this.tag]}toJSON(){return this.fields.length===0?this.name:[this.name].concat(this.fields)}toString(){return su(this.name,this.fields)}GetHashCode(){const t=this.fields.map(n=>Mt(n));return t.splice(0,0,St(this.tag)),Bn(t)}Equals(t){return this===t?!0:nr(this,t)&&this.tag===t.tag?Mo(this.fields,t.fields):!1}CompareTo(t){return this===t?0:nr(this,t)?this.tag===t.tag?xo(this.fields,t.fields):this.tag<t.tag?-1:1:-1}}function ou(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}function iu(e){return"{ "+Object.entries(e).map(([t,n])=>t+" = "+st(n)).join(`
  `)+" }"}function uu(e){const t=Object.values(e).map(n=>Mt(n));return Bn(t)}function lu(e,t){if(e===t)return!0;if(nr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!$e(e[n[r]],t[n[r]]))return!1;return!0}else return!1}function cu(e,t){if(e===t)return 0;if(nr(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const s=_t(e[n[r]],t[n[r]]);if(s!==0)return s}return 0}else return-1}class U{toJSON(){return ou(this)}toString(){return iu(this)}GetHashCode(){return uu(this)}Equals(t){return lu(this,t)}CompareTo(t){return cu(this,t)}}class de{get contents(){return this.getter()}set contents(t){this.setter(t)}constructor(t,n){typeof n=="function"?(this.getter=t,this.setter=n):(this.getter=()=>t,this.setter=r=>{t=r})}}class au{constructor(t){this.message=t}}function fu(e){return e instanceof au||e instanceof Error}function du(e){return e instanceof Promise}function xs(e){return fu(e)||du(e)?e:new Error(String(e))}const dn=Symbol("numeric");function To(e){return typeof e=="number"||typeof e=="bigint"||e?.[dn]}function hu(e,t){return typeof e=="number"||typeof e=="bigint"?e<t?-1:e>t?1:0:e.CompareTo(t)}function Nr(e,t){return typeof e=="number"?e*t:typeof e=="bigint"?e*BigInt(t):e[dn]().multiply(t)}function Jn(e,t){return typeof e=="number"?e.toFixed(t):typeof e=="bigint"?e:e[dn]().toFixed(t)}function rr(e,t){return typeof e=="number"?e.toPrecision(t):typeof e=="bigint"?e:e[dn]().toPrecision(t)}function sr(e,t){return typeof e=="number"?e.toExponential(t):typeof e=="bigint"?e:e[dn]().toExponential(t)}function or(e){return typeof e=="number"?(Number(e)>>>0).toString(16):typeof e=="bigint"?BigInt.asUintN(64,e).toString(16):e[dn]().toHex()}class pt{constructor(t,n,r,s,o,i,u){this.fullname=t,this.generics=n,this.construct=r,this.parent=s,this.fields=o,this.cases=i,this.enumCases=u}toString(){return he(this)}GetHashCode(){return vo(this)}Equals(t){return Yr(this,t)}}function Ct(e){return e.generics!=null?e.generics:[]}function vo(e){const t=mr(e.fullname),n=Ct(e).map(vo);return Bn([t,...n])}function Yr(e,t){return e.fullname===""?t.fullname===""&&Wr(ir(e),ir(t),([n,r],[s,o])=>n===s&&Yr(r,o)):e.fullname===t.fullname&&Wr(Ct(e),Ct(t),Yr)}function $n(e,t,n,r){return new pt(e,t,n,void 0,r)}function _u(e){return new pt("Microsoft.FSharp.Collections.FSharpList`1",[e])}function is(e){return new pt("[]",[e])}const mu=new pt("System.Object"),us=new pt("System.String"),Jt=new pt("System.Int32");function ls(e){if(Array.isArray(e))return e[0];if(e instanceof pt){const t=pr(e);if(t!=null)return ls(t)+"[]";{const n=e.fullname.lastIndexOf(".");return n===-1?e.fullname:e.fullname.substr(n+1)}}else return e.name}function he(e){const t=pr(e);return t!=null?he(t)+"[]":e.generics==null||e.generics.length===0?e.fullname:e.fullname+"["+e.generics.map(n=>he(n)).join(",")+"]"}function pu(e){return pr(e)!=null}function pr(e){return e.fullname==="[]"&&e.generics?.length===1?e.generics[0]:void 0}function gu(e){return e.generics!=null&&e.generics.length>0}function Do(e){return e.enumCases!=null&&e.enumCases.length>0}function wu(e){return e.generics==null?e:new pt(e.fullname,e.generics.map(()=>mu))}function yu(e){return e.generics?.[0]}function jt(e){if(Do(e)&&e.enumCases!=null)return e.enumCases.map(t=>t[1]);throw new Error(`${e.fullname} is not an enum type`)}function bu(e,t){if(e.enumCases!=null)if(typeof t=="string"){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}else{for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}else throw new Error(`${e.fullname} is not an enum type`)}function Kt(e,t){const n=parseInt(t,10);return bu(e,isNaN(n)?t:n)[1]}function Su(e){if(e.cases!=null)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}function ir(e){if(e.fields!=null)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function Cu(e){if(Io(e)&&e.generics!=null)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}function Mu(e){return e instanceof pt?e.cases!=null:e instanceof Fe}function Eu(e){return e instanceof pt?e.fields!=null:e instanceof U}function Io(e){return e.fullname.startsWith("System.Tuple")}function xu(e){return e.fields==null?[]:e.fields}function Ru(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return r==null?{}:(e.declaringType.cases?e.declaringType.cases().length==1:!1)?new r(...t):new r(e.tag,t)}function ku(e,t){const n=ir(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return e.construct!=null?new e.construct(...t):n.reduce((r,[s,o],i)=>(r[s]=t[i],r),{})}function Tu(e,t){return e}const Ht={None:0,LowerFirst:1,SnakeCase:2,SnakeCaseAllCaps:3,KebabCase:4};function Ir(e,t){return e.replace(/[a-z]?[A-Z]/g,n=>n.length===1?n.toLowerCase():n.charAt(0)+t+n.charAt(1).toLowerCase())}function vu(e,t){switch(t){case Ht.LowerFirst:return e.charAt(0).toLowerCase()+e.slice(1);case Ht.SnakeCase:return Ir(e,"_");case Ht.SnakeCaseAllCaps:return Ir(e,"_").toUpperCase();case Ht.KebabCase:return Ir(e,"-");case Ht.None:default:return e}}function Du(e,t=Ht.None){const n={},r=t;function s(i){throw new Error("Cannot infer key and value of "+String(i))}function o(i,u,l){i=vu(i,u),n[i]=l}for(let i of e){let u=Ht.None;if(i==null&&s(i),i instanceof Fe){const l=i.cases()[i.tag];i=i.fields.length===0?l:[l].concat(i.fields),u=r}if(Array.isArray(i))switch(i.length){case 0:s(i);break;case 1:o(i[0],u,!0);break;case 2:const l=i[1];o(i[0],u,l);break;default:o(i[0],u,i.slice(1))}else typeof i=="string"?o(i,u,!0):s(i)}return n}function gr(e,t,n){return e.has(t)?(n.contents=e.get(t),!0):!1}function Iu(e,t){return t.has(e)?!1:(t.add(e),!0)}function Vu(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}class Fu extends U{constructor(t,n,r){super(),this.Pixels=t,this.Width=n,this.Height=r}}class wr extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,wr.prototype)}}function Ou(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new wr);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack(()=>{try{e(t)}catch(n){t.onError(xs(n))}});else try{e(t)}catch(n){t.onError(xs(n))}}}class ln{constructor(t){this.value=t}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return Mt(this.value)}Equals(t){return t==null?!1:$e(this.value,t instanceof ln?t.value:t)}CompareTo(t){return t==null?1:_t(this.value,t instanceof ln?t.value:t)}}function R(e){if(e==null)throw new Error("Option has no value");return e instanceof ln?e.value:e}function Ve(e){return e==null||e instanceof ln?new ln(e):e}function Nt(e){return e==null?[]:[R(e)]}function w(e,t){return e!=null?R(e):t}function Vo(e,t){return t!=null?Ve(e(R(t))):void 0}class Vr extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Choice1Of2","Choice2Of2"]}}function Au(e){return Pu(t=>e.then(t[0]).catch(n=>(n instanceof wr?t[2]:t[1])(n)))}function Pu(e){return Ou(t=>e([t.onSuccess,t.onError,t.onCancel]))}BigInt.prototype.toJSON=function(){return`${this.toString()}`};function Lu(e,t){return e===t}function Fo(e,t){return e+t}function Oo(e){return BigInt(e)}function Bu(e){return BigInt(Math.trunc(e))}function $u(e){return BigInt(e)}function Hn(e){return BigInt.asIntN(64,e)}function Rs(e){return Number(e)}const Hu=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Wu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Uu=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Nu=["January","February","March","April","May","June","July","August","September","October","November","December"];function Ne(e,t,n){let r=0,s=t;for(;s<e.length&&e[s]===n;)s++,r++;return r}function ks(e,t){return t>=e.length-1?-1:e.charCodeAt(t+1)}function Yu(e,t){let n=t;const r=e[t];let s="",o=!1;for(;t<e.length;){t++;const i=e[t];if(i===r){o=!0;break}else if(i==="\\")if(t<e.length)t++,s+=e[t];else throw new Error("Invalid string format");else s+=i}if(!o)throw new Error(`Invalid string format could not find matching quote for ${r}`);return[s,t-n+1]}function cs(e,t,n){let r=0,s=0,o="";const i=n?Pt(e.getTime(),1):e;for(;r<t.length;){const u=t[r];switch(u){case"d":switch(s=Ne(t,r,"d"),r+=s,s){case 1:o+=vs(i);break;case 2:o+=ee(vs(i),2);break;case 3:o+=Hu[Vs(i)];break;case 4:o+=Wu[Vs(i)];break}break;case"f":if(s=Ne(t,r,"f"),r+=s,s<=3){const m=10**(3-s);o+=ee(Math.floor(Gn(i)/m),s)}else s<=7&&(o+=(""+Gn(i)).padEnd(s,"0"));break;case"F":if(s=Ne(t,r,"F"),r+=s,s<=3){const m=10**(3-s),y=Math.floor(Gn(i)/m);y!=0&&(o+=ee(y,s))}else if(s<=7){const m=Gn(i);m!=0&&(o+=ee(m,3))}break;case"g":s=Ne(t,r,"g"),r+=s,s<=2&&(o+="A.D.");break;case"h":switch(s=Ne(t,r,"h"),r+=s,s){case 1:o+=Yn(i)%12;break;case 2:o+=ee(Yn(i)%12,2);break}break;case"H":switch(s=Ne(t,r,"H"),r+=s,s){case 1:o+=Yn(i);break;case 2:o+=ee(Yn(i),2);break}break;case"K":switch(s=Ne(t,r,"K"),r+=s,s){case 1:switch(Ts(i)){case 1:o+="Z";break;case 2:o+=rn(i.getTimezoneOffset()*-6e4);break}break}break;case"m":switch(s=Ne(t,r,"m"),r+=s,s){case 1:o+=Ds(i);break;case 2:o+=ee(Ds(i),2);break}break;case"M":switch(s=Ne(t,r,"M"),r+=s,s){case 1:o+=Xn(i);break;case 2:o+=ee(Xn(i),2);break;case 3:o+=Uu[Xn(i)-1];break;case 4:o+=Nu[Xn(i)-1];break}break;case"s":switch(s=Ne(t,r,"s"),r+=s,s){case 1:o+=Is(i);break;case 2:o+=ee(Is(i),2);break}break;case"t":switch(s=Ne(t,r,"t"),r+=s,s){case 1:o+=i.getHours()<12?"A":"P";break;case 2:o+=i.getHours()<12?"AM":"PM";break}break;case"y":switch(s=Ne(t,r,"y"),r+=s,s){case 1:o+=i.getFullYear()%100;break;case 2:o+=ee(i.getFullYear()%100,2);break;case 3:o+=ee(i.getFullYear(),3);break;case 4:o+=ee(i.getFullYear(),4);break;case 5:o+=ee(i.getFullYear(),5);break}break;case"z":s=Ne(t,r,"z"),r+=s;let l="";switch(Ts(i)){case 1:l="+00:00";break;case 2:l=rn(i.getTimezoneOffset()*-6e4);break;case 0:l=rn(Qu(i).getTimezoneOffset()*-6e4);break}const c=l[0]==="-"?"-":"+",f=parseInt(l.substring(1,3),10),d=parseInt(l.substring(4,6),10);switch(s){case 1:o+=`${c}${f}`;break;case 2:o+=`${c}${ee(f,2)}`;break;default:o+=`${c}${ee(f,2)}:${ee(d,2)}`;break}break;case":":o+=":",r++;break;case"/":o+="/",r++;break;case"'":case'"':const[_,p]=Yu(t,r);o+=_,r+=p;break;case"%":const h=ks(t,r);if(h>=0&&h!=="%".charCodeAt(0))r+=2,o+=cs(i,String.fromCharCode(h),n);else throw new Error("Invalid format string");break;case"\\":const g=ks(t,r);if(g>=0)r+=2,o+=String.fromCharCode(g);else throw new Error("Invalid format string");break;default:r++,o+=u;break}}return o}function Ts(e){return e.kind||0}function rn(e){const t=e<0;e=Math.abs(e);const n=~~(e/36e5),r=e%36e5/6e4;return(t?"-":"+")+ee(n,2)+":"+ee(r,2)}function ur(e,t){const n=e.toISOString();return t==="first"?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function Gu(e,t){if(t)return e.toISOString();{const n=e.kind==null?!0:e.kind===2;return ee(e.getFullYear(),4)+"-"+ee(e.getMonth()+1,2)+"-"+ee(e.getDate(),2)+"T"+ee(e.getHours(),2)+":"+ee(e.getMinutes(),2)+":"+ee(e.getSeconds(),2)+"."+ee(e.getMilliseconds(),3)+(n?rn(e.getTimezoneOffset()*-6e4):"")}}function Xu(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+rn(t)}function Zu(e,t){const n=new Date(e.getTime()+(e.offset??0));if(typeof t!="string")return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+rn(e.offset??0);if(t.length===1)switch(t){case"D":case"d":return ur(n,"first");case"T":case"t":return ur(n,"second");case"O":case"o":return Xu(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}else return cs(n,t,!0)}function ju(e,t){const n=e.kind===1;if(typeof t!="string")return n?e.toUTCString():e.toLocaleString();if(t.length===1)switch(t){case"D":case"d":return n?ur(e,"first"):e.toLocaleDateString();case"T":case"t":return n?ur(e,"second"):e.toLocaleTimeString();case"O":case"o":return Gu(e,n);default:throw new Error("Unrecognized Date print format")}else return cs(e,t,n)}function Ao(e,t,n){return e.offset!=null?Zu(e,t):ju(e,t)}function Pt(e,t){const n=new Date(e);return n.kind=(t??0)|0,n}function Ku(){return Pt(-621355968e5,0)}function Po(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}(e==null||e.trim()==="")&&t(),e.length===10&&e[4]==="-"&&e[7]==="-"&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const s=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(s!=null){let o,i=0;if(s[2]!=null){const u=s[2].split(":"),l=parseInt(u[0],10);i=l*3600+parseInt(u[1]||"0",10)*60+parseFloat(u[2]||"0"),s[3]!=null&&s[3].toUpperCase()==="PM"&&l<12&&(i+=720)}if(s[4]!=null){if(s[1]!=null)o=new Date(s[1]+" UTC");else{const u=new Date;o=new Date(u.getUTCFullYear()+"/"+(u.getUTCMonth()+1)+"/"+u.getUTCDate())}if(s[4]==="Z")r="Z";else{let u=parseInt(s[5],10)*60+parseInt(s[6]||"0",10);s[4][0]==="-"&&(u*=-1),r=u,i-=u*60}}else if(s[1]!=null)o=new Date(s[1]);else{const u=new Date;o=new Date(u.getFullYear()+"/"+(u.getMonth()+1)+"/"+u.getDate())}n=new Date(o.getTime()+i*1e3),n=new Date(n.getTime()+(n.getTimezoneOffset()-o.getTimezoneOffset())*6e4)}else t();isNaN(n.getTime())&&t()}return[n,r]}function qu(e,t=!1){const[n,r]=Po(e),s=r!=null?t&&r==="Z"?1:2:0;return Pt(n.getTime(),s)}function zu(e,t){try{return t.contents=qu(e),!0}catch{return!1}}function Vn(){return Pt(Date.now(),1)}function Ju(e){return e.kind===1?e:Pt(e.getTime(),1)}function Qu(e){return e.kind===2?e:Pt(e.getTime(),2)}function vs(e){return e.kind===1?e.getUTCDate():e.getDate()}function Yn(e){return e.kind===1?e.getUTCHours():e.getHours()}function Gn(e){return e.kind===1?e.getUTCMilliseconds():e.getMilliseconds()}function Ds(e){return e.kind===1?e.getUTCMinutes():e.getMinutes()}function Xn(e){return(e.kind===1?e.getUTCMonth():e.getMonth())+1}function Is(e){return e.kind===1?e.getUTCSeconds():e.getSeconds()}function Vs(e){return e.kind===1?e.getUTCDay():e.getDay()}function Lo(e,t){const n=Pt(e.getTime()+t,e.kind);if(e.kind!==1){const r=e.getTimezoneOffset(),s=n.getTimezoneOffset();return r!==s?Pt(n.getTime()+(s-r)*6e4,e.kind):n}else return n}function Bo(e,t){return Lo(e,t)}function el(e,t){return typeof t=="number"?Lo(e,-t):e.getTime()-t.getTime()}const tl=os;function nl(e,t){return el(e,t)}function rl(e,t=0){if(t&-284)throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=t&1?"i":"",n+=t&2?"m":"",n+=t&16?"s":"",new RegExp(e,n)}function sl(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function Fs(e,t,n=0){if(t==null)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let s,o=-1;for(;(s=e.exec(t))!=null;)s.index===o?e.lastIndex++:(o=s.index,r.push(s));return r}function ol(e,t,n,r,s=0){function o(){let i=arguments[0];if(r){r--;const u=[],l=arguments.length,c=typeof arguments[l-1]!="string";let f=c?l-3:l-2;for(let d=0;d<f;d++)u.push(arguments[d]);u.index=arguments[f++],u.input=arguments[f++],c&&(u.groups=arguments[f]),i=n(u)}return i}if(typeof e=="string"){const i=e;e=rl(t,r??0),t=i,r=void 0}if(typeof n=="function")return r=r??-1,t.substring(0,s)+t.substring(s).replace(e,o);if(n=n.replace(/\$0/g,i=>"$&").replace(/\${([^}]+)}/g,"$<$1>"),r!=null){let i;const u=t.substring(s),l=Fs(e,u),c=Fs.length>r?(i=l[r-1],u.substring(0,i.index+i[0].length)):u;return t.substring(0,s)+c.replace(e,n)+t.substring(s+c.length)}else return t.replace(e,n)}const yn=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,bn=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g,il=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function $o(e,t){return hu(e,t)<0}function lr(e){return{input:e,cont:al(e)}}function ul(e,t){let n=0,r=0,s="";bn.lastIndex=0;let o=bn.exec(e);for(;o;){const i=o.index+(o[1]||"").length;s+=e.substring(r,i).replace(/%%/g,"%");const[,,u,l,c,f]=o;r=bn.lastIndex,s+=Ho(t[n++],u,l,c,f),bn.lastIndex=r-1,o=bn.exec(e)}return s+=e.substring(r).replace(/%%/g,"%"),s}function as(e,t){return typeof t=="string"?e(t):t.cont(e)}function ll(e){return as(t=>console.log(t),e)}function cr(e){return as(t=>t,e)}function cl(e){return as(t=>{throw new Error(t)},e)}function Ho(e,t,n,r,s){let o="";if(t=t||"",s=s||"",To(e))switch(s.toLowerCase()!=="x"&&($o(e,0)?(e=Nr(e,-1),o="-"):t.indexOf(" ")>=0?o=" ":t.indexOf("+")>=0&&(o="+")),r=r==null?null:parseInt(r,10),s){case"f":case"F":r=r??6,e=Jn(e,r);break;case"g":case"G":e=r!=null?rr(e,r):rr(e);break;case"e":case"E":e=r!=null?sr(e,r):sr(e);break;case"x":e=or(e);break;case"X":e=or(e).toUpperCase();break;default:e=String(e);break}else e instanceof Date?e=Ao(e):e=st(e);if(n=typeof n=="number"?n:parseInt(n,10),isNaN(n))e=o+e;else{const i=t.indexOf("0")>=0,u=t.indexOf("-")>=0,l=u||!i?" ":"0";l==="0"?(e=Fn(e,n-o.length,l,u),e=o+e):e=Fn(o+e,n,l,u)}return e}function Wo(e,t,n,r="",s=-1){return(...o)=>{let i=r;const u=t.slice(),l=n.slice();for(const c of o){const[,,f,d,_,p]=l[0];let h=d;if(s>=0)h=s,s=-1;else if(h==="*"){if(c<0)throw new Error("Non-negative number required");s=c;continue}i+=u[0],i+=Ho(c,f,h,_,p),u.splice(0,1),l.splice(0,1)}return l.length===0?(i+=u[0],e(i)):Wo(e,u,l,i,s)}}function al(e){return t=>{yn.lastIndex=0;const n=[],r=[];let s=0,o=yn.exec(e);for(;o;){const i=o.index+(o[1]||"").length;n.push(e.substring(s,i).replace(/%%/g,"%")),r.push(o),s=yn.lastIndex,yn.lastIndex-=1,o=yn.exec(e)}return n.length===0?t(e.replace(/%%/g,"%")):(n.push(e.substring(s).replace(/%%/g,"%")),Wo(t,n,r))}}function fl(e,...t){let n;return typeof e=="object"?(n=String(t[0]),t.shift()):n=e,n.replace(il,(r,s,o,i,u,l)=>{if(s<0||s>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let c=t[s];if(To(c))switch(u=u==null?null:parseInt(u,10),i){case"f":case"F":u=u??2,c=Jn(c,u);break;case"g":case"G":c=u!=null?rr(c,u):rr(c);break;case"e":case"E":c=u!=null?sr(c,u):sr(c);break;case"p":case"P":u=u??2,c=Jn(Nr(c,100),u)+" %";break;case"d":case"D":c=u!=null?Fr(String(c),u,"0"):String(c);break;case"x":case"X":c=u!=null?Fr(or(c),u,"0"):or(c),i==="X"&&(c=c.toUpperCase());break;default:if(l){let f="";c=l.replace(/([0#,]+)(\.[0#]+)?/,(d,_,p)=>{$o(c,0)&&(c=Nr(c,-1),f="-"),p=p==null?"":p.substring(1),c=Jn(c,Math.max(p.length,0));let[h,g]=c.split(".");g||(g="");const m=_.replace(/,/g,"").replace(/^#+/,"").length;h=Fr(h,m,"0");const y=p.replace(/#+$/,"").length;if(y>g.length?g=dl(g,y,"0"):y<g.length&&(g=g.substring(0,y)+g.substring(y).replace(/0+$/,"")),_.indexOf(",")>0){const E=h.length%3,S=Math.floor(h.length/3);let v=E>0?h.substr(0,E)+(S>0?",":""):"";for(let T=0;T<S;T++)v+=h.substr(E+T*3,3)+(T<S-1?",":"");h=v}return g.length>0?h+"."+g:h}),c=f+c}}else c instanceof Date?c=Ao(c,l||i):c=st(c);return o=parseInt((o||" ").substring(1),10),isNaN(o)||(c=Fn(String(c),Math.abs(o)," ",o<0)),c})}function yr(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function Fn(e,t,n,r){n=n||" ",t=t-e.length;for(let s=0;s<t;s++)e=r?e+n:n+e;return e}function Fr(e,t,n){return Fn(e,t,n)}function dl(e,t,n){return Fn(e,t,n,!0)}function hl(e,t){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.");return e[t]}function _l(e,...t){if(t.length===0)return e.trim();const n="["+sl(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function qt(e,t,n){if(t+(n||0)>e.length)throw new Error("Invalid startIndex and/or length");return n!=null?e.substr(t,n):e.substr(t)}const ml="The index was outside the range of elements in the collection.",Uo="Collection was empty.";function br(e,t){return typeof e=="function"?new e(t):new Array(t)}function On(e,t){return e>t?e:t}function ar(e,t){return e<t?e:t}function Os(e,t,n){const r=e.length|0,s=t.length|0,o=br(n,r+s);for(let i=0;i<=r-1;i++)xt(o,i,V(i,e));for(let i=0;i<=s-1;i++)xt(o,i+r,V(i,t));return o}function hn(e,t,n,r){const s=t|0;return e.fill(r,s,s+n)}function fs(e,t,n){const r=t.length|0,s=br(n,r);for(let o=0;o<=r-1;o++)xt(s,o,e(V(o,t)));return s}function pl(e,t,n,r,s){const o=w(n,0)|0,i=w(Vo(l=>o+l,r),e.length)|0;return(l=>{e:for(;;){const c=l;if(c>=i)return-1;if(s.Equals(t,V(c,e)))return c|0;l=c+1;continue e}})(o)|0}function gl(e,t,n){return pl(t,e,void 0,void 0,n)>=0}function wl(e,t){const n=br(t,1);return xt(n,0,e),n}function As(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");const r=br(n,e);for(let s=0;s<=e-1;s++)xt(r,s,t(s));return r}function Qn(e,t,n,r,s){nu(e,t,n,r,s)}function yl(e){return e.slice().reverse()}function bl(e,t){t.push(e)}function Ft(e,t){const n=Z(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)bl(n["System.Collections.Generic.IEnumerator`1.get_Current"](),t)}finally{ie(n)}}function Sl(e,t){return t.find(e)}function Sr(e,t,n){const r=e;return n.reduce(r,t)}function V(e,t){if(e<0||e>=t.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");return t[e]}function xt(e,t,n){if(t<0||t>=e.length)throw new Error("Index was outside the bounds of the array.\\nParameter name: index");e[t]=n}function Gr(e,t){if(!(e<0||e>=t.length))return Ve(t[e])}function Cl(e,t,n){return t.reduceRight((r,s)=>e(s,r),n)}class ze extends U{constructor(t,n){super(),this.head=t,this.tail=n}toString(){return"["+yr("; ",this)+"]"}Equals(t){const n=this;return n===t?!0:((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const f=R(l),d=R(c);if($e(i.head,u.head)){s=f,o=d;continue e}else return!1}else return!1;else return c==null}})(n,t)}GetHashCode(){return((r,s,o)=>{e:for(;;){const i=r,u=s,l=o,c=l.tail;if(c!=null){const f=R(c);if(i>18)return u|0;r=i+1,s=(u<<1)+Mt(l.head)+631*i,o=f;continue e}else return u|0}})(0,0,this)|0}toJSON(){const t=this;return Array.from(t)}CompareTo(t){return((s,o)=>{e:for(;;){const i=s,u=o,l=i.tail,c=u.tail;if(l!=null)if(c!=null){const f=R(l),d=R(c),_=_t(i.head,u.head)|0;if(_===0){s=f,o=d;continue e}else return _|0}else return 1;else return c!=null?-1:0}})(this,t)|0}GetEnumerator(){return El(this)}[Symbol.iterator](){return fn(Z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Z(this)}}class Ml{constructor(t){this.xs=t,this.it=this.xs,this.current=rt()}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const t=this,n=t.it.tail;if(n!=null){const r=R(n);return t.current=t.it.head,t.it=r,!0}else return!1}"System.Collections.IEnumerator.Reset"(){const t=this;t.it=t.xs,t.current=rt()}Dispose(){}}function El(e){return new Ml(e)}function mt(){return new ze(rt(),void 0)}function Wn(e,t){return new ze(e,t)}function Un(e){return e.tail==null}function No(e){return((n,r)=>{e:for(;;){const s=n,i=r.tail;if(i!=null){n=s+1,r=R(i);continue e}else return s|0}})(0,e)|0}function Cr(e){if(e.tail!=null)return e.head;throw new Error(Uo+"\\nParameter name: list")}function Lt(e){const t=e.tail;if(t!=null)return R(t);throw new Error(Uo+"\\nParameter name: list")}function xl(e,t){return((r,s)=>{e:for(;;){const o=r,i=s,u=i.tail;if(u!=null){if(o===t)return i.head;r=o+1,s=R(u);continue e}else throw new Error(ml+"\\nParameter name: index")}})(0,e)}function Je(){return mt()}function ft(e,t){return Wn(e,t)}function Ke(e){return Wn(e,mt())}function Y(e){return Un(e)}function Yo(e){return No(e)}function A(e){return Cr(e)}function N(e){return Lt(e)}function Mr(e){const t=No(e)|0,n=hn(new Array(t),0,t,null);return((s,o)=>{e:for(;;){const i=s,u=o;if(!Un(u)){xt(n,i,Cr(u)),s=i+1,o=Lt(u);continue e}break}})(0,e),n}function _n(e,t,n){let r=t,s=n;for(;!Un(s);)r=e(r,A(s)),s=Lt(s);return r}function ds(e){return _n((t,n)=>Wn(n,t),mt(),e)}function Rl(e,t,n){return((s,o,i)=>{e:for(;;){const u=s,l=o,c=i;if(Un(c))return l;s=u+1,o=e(u,l,Cr(c)),i=Lt(c);continue e}})(0,t,n)}function kl(e,t){_n((n,r)=>{e(r)},void 0,t)}function ne(e,t){let n=t;for(let r=e.length-1;r>=0;r--)n=Wn(V(r,e),n);return n}function hs(e){return ne(e,mt())}function Tl(e){let t,n;if(qe(e))return hs(e);if(e instanceof ze)return e;{const r=mt();let s=r;const o=Z(e);try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const l=o["System.Collections.Generic.IEnumerator`1.get_Current"]();s=(t=s,n=new ze(l,void 0),t.tail=n,n)}}finally{ie(o)}const i=s,u=mt();return i.tail=u,Lt(r)}}function vl(e){const t=mt();let n=t;const r=i=>{n=_n((u,l)=>{const c=new ze(l,void 0);return u.tail=c,c},n,i)};if(qe(e))e.forEach(r);else if(e instanceof ze)kl(r,e);else{const i=Z(e);try{for(;i["System.Collections.IEnumerator.MoveNext"]();)r(i["System.Collections.Generic.IEnumerator`1.get_Current"]())}finally{ie(i)}}const s=n,o=mt();return s.tail=o,Lt(t)}function Xr(e,t){return _n((n,r)=>Wn(r,n),t,ds(e))}function Dl(e,t){const n=mt(),r=Rl((o,i,u)=>{const l=new ze(e(o,u),void 0);return i.tail=l,l},n,t),s=mt();return r.tail=s,Lt(n)}function Il(e,t){return((r,s)=>{e:for(;;){const o=r,i=s;if(Un(i))return;if(o===e)return Ve(Cr(i));r=o+1,s=Lt(i);continue e}})(0,t)}function Vl(e,t){return xl(t,e)}function Fl(e){return new C(0,[e])}function Go(e){return new C(1,[e])}class C extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Ok","Error"]}}function Rt(e,t){return t.tag===0?Fl(e(t.fields[0])):Go(t.fields[0])}function Ol(e,t){return t.tag===0?e(t.fields[0]):Go(t.fields[0])}class Al{constructor(){}}function Pl(){return new Al}function Ll(e,t){return{then:(n,r)=>{try{return t().then(n,r)}catch(s){if(r==null)return Promise.reject(s);try{const o=r(s);return Promise.resolve(o)}catch(o){return Promise.reject(o)}}},catch:n=>{try{return t().catch(n)}catch(r){try{const s=n(r);return Promise.resolve(s)}catch(s){return Promise.reject(s)}}}}}function Bl(e,t){return t.then(n=>n)}const Ps=Pl();function $l(e){throw new Error(e)}const Hl="Enumeration already finished.",Wl="Enumeration has not started. Call MoveNext.",Ul="Reset is not supported on this enumerator.";function Nl(){throw new Error(Ul)}function _s(){throw new Error(Wl)}function Zr(){throw new Error(Hl)}class Yl{constructor(t){this.f=t}toString(){const t=this;let n=0,r="seq [";const s=Z(t);try{for(;n<4&&s["System.Collections.IEnumerator.MoveNext"]();)n>0&&(r=r+"; "),r=r+st(s["System.Collections.Generic.IEnumerator`1.get_Current"]()),n=n+1|0;return n===4&&(r=r+"; ..."),r+"]"}finally{ie(s)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return fn(Z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}function Gl(e){return new Yl(e)}class Xl{constructor(t,n,r){this.current=t,this.next=n,this.dispose=r}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){Nl()}Dispose(){this.dispose()}}function ms(e,t,n){return new Xl(e,t,n)}function Zl(e){let t,n,r=!1,s=!1,o;const i=()=>{if(s=!0,n!=null){const u=R(n);try{ie(u)}finally{n=void 0}}if(t!=null){const u=R(t);try{ie(u)}finally{t=void 0}}};return ms(()=>(r?s&&Zr():_s(),o!=null?R(o):Zr()),()=>{let u;if(r||(r=!0),s)return!1;{let l;for(;l==null;){const c=t,f=n;if(c!=null)if(f!=null){const d=R(f);if(d["System.Collections.IEnumerator.MoveNext"]())o=Ve(d["System.Collections.Generic.IEnumerator`1.get_Current"]()),l=!0;else try{ie(d)}finally{n=void 0}}else{const d=R(c);d["System.Collections.IEnumerator.MoveNext"]()?n=(u=d["System.Collections.Generic.IEnumerator`1.get_Current"](),Z(u)):(i(),l=!1)}else t=Z(e)}return R(l)}},()=>{s||i()})}function jl(e,t,n){let r=!1,s,o=Ve(e());const i=()=>{if(o!=null){const l=R(o);try{n(l)}finally{o=void 0}}},u=()=>{try{i()}finally{s=void 0}};return ms(()=>(r||_s(),s!=null?R(s):Zr()),()=>{if(r||(r=!0),o!=null){const l=R(o);let c;try{c=t(l)}catch(f){throw u(),f}return c!=null?(s=c,!0):(u(),!1)}else return!1},i)}function Kl(e,t){let n,r=t;return ms(()=>{if(n!=null){const s=R(n)[0];return R(n)[1],s}else return _s()},()=>(n=e(r),n!=null?(R(n)[0],r=R(n)[1],!0):!1),()=>{})}function ql(e,t){t==null&&$l(e)}function Er(e){return Gl(e)}function cn(e){return ql("source",e),Z(e)}function re(e){return Er(()=>Z(e()))}function Xo(e){return Er(()=>Zl(e))}function Zo(e,t){return Er(()=>Kl(e,t))}function xe(){return re(()=>new Array(0))}function Re(e){return re(()=>wl(e))}function jo(e){return e instanceof ze?Mr(e):Array.from(e)}function Ls(e){return qe(e)?hs(e):e instanceof ze?e:Tl(e)}function zl(e,t,n){return Er(()=>jl(e,t,n))}function ke(e,t){return Xo([e,t])}function Jl(e,t,n){const r=cn(t);try{const s=cn(n);try{let o=0,i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]();for(;o===0&&i&&u;)o=e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),s["System.Collections.Generic.IEnumerator`1.get_Current"]())|0,o===0&&(i=r["System.Collections.IEnumerator.MoveNext"](),u=s["System.Collections.IEnumerator.MoveNext"]());return(o!==0?o:i?1:u?-1:0)|0}finally{ie(s)}}finally{ie(r)}}function zt(e,t,n){const r=cn(t);try{let s=!1;for(;!s&&r["System.Collections.IEnumerator.MoveNext"]();)s=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{ie(r)}}function Ko(e,t){return Xo(Zo(n=>e()?[t,n+1]:void 0,0))}function qo(e,t,n){const r=cn(n);try{let s=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)s=e(s,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return s}finally{ie(r)}}function Ql(e,t){if(qe(t))return Gr(e,t);if(t instanceof ze)return Il(e,t);{const n=cn(t);try{return(s=>{e:for(;;){const o=s;if(n["System.Collections.IEnumerator.MoveNext"]()){if(o===0)return Ve(n["System.Collections.Generic.IEnumerator`1.get_Current"]());s=o-1;continue e}else return;break}})(e)}finally{ie(n)}}}function be(e,t){qo((n,r)=>{e(r)},void 0,t)}function vt(e,t){return zl(()=>cn(t),n=>n["System.Collections.IEnumerator.MoveNext"]()?Ve(e(n["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0,n=>{ie(n)})}function ec(e){return re(()=>yl(jo(e)))}function tc(e){return Vt(e.status)+" "+e.statusText+" for URL "+e.url}function nc(e,t){return fetch(e,Du(t,1)).then(r=>{if(r.ok)return r;throw new Error(tc(r))})}class zo{constructor(t,n){this.k=t,this.v=n}}function An(e,t){return new zo(e,t)}function fe(e){return e.k}function De(e){return e.v}class ce extends zo{constructor(t,n,r,s,o){super(t,n),this.left=r,this.right=s,this.h=o|0}}function kn(e,t,n,r,s){return new ce(e,t,n,r,s)}function we(e){return e.left}function ye(e){return e.right}function Dt(e){return e.h}function Jo(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=R(r);if(s instanceof ce){const o=s;e=Jo(n+1,we(o)),t=ye(o);continue e}else return n+1|0}else return n|0}}function rc(e){return Jo(0,e)}function Qe(e,t,n,r){let s,o,i;const u=e;if(u!=null){const d=R(u);i=d instanceof ce?(s=d,Dt(s)):1}else i=0;let l;const c=r;if(c!=null){const d=R(c);l=d instanceof ce?(o=d,Dt(o)):1}else l=0;const f=(i<l?l:i)|0;return f===0?An(t,n):kn(t,n,e,r,f+1)}function Bs(e,t,n,r){let s,o,i,u,l,c,f,d,_;const p=e;if(p!=null){const m=R(p);_=m instanceof ce?(s=m,Dt(s)):1}else _=0;let h;const g=r;if(g!=null){const m=R(g);h=m instanceof ce?(o=m,Dt(o)):1}else h=0;if(h>_+2){const m=R(r);if(m instanceof ce){const y=m;if(i=we(y),(i!=null?(u=R(i),u instanceof ce?(l=u,Dt(l)):1):0)>_+1){const E=R(we(y));if(E instanceof ce){const S=E;return Qe(Qe(e,t,n,we(S)),fe(S),De(S),Qe(ye(S),fe(y),De(y),ye(y)))}else throw new Error("internal error: Map.rebalance")}else return Qe(Qe(e,t,n,we(y)),fe(y),De(y),ye(y))}else throw new Error("internal error: Map.rebalance")}else if(_>h+2){const m=R(e);if(m instanceof ce){const y=m;if(c=ye(y),(c!=null?(f=R(c),f instanceof ce?(d=f,Dt(d)):1):0)>h+1){const E=R(ye(y));if(E instanceof ce){const S=E;return Qe(Qe(we(y),fe(y),De(y),we(S)),fe(S),De(S),Qe(ye(S),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Qe(we(y),fe(y),De(y),Qe(ye(y),t,n,r))}else throw new Error("internal error: Map.rebalance")}else return Qe(e,t,n,r)}function an(e,t,n,r){if(r!=null){const s=R(r),o=e.Compare(t,fe(s))|0;if(s instanceof ce){const i=s;return o<0?Bs(an(e,t,n,we(i)),fe(i),De(i),ye(i)):o===0?kn(t,n,we(i),ye(i),Dt(i)):Bs(we(i),fe(i),De(i),an(e,t,n,ye(i)))}else return o<0?kn(t,n,void 0,r,2):o===0?An(t,n):kn(t,n,r,void 0,2)}else return An(t,n)}function Qo(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=R(o),u=r.Compare(s,fe(i))|0;if(u===0)return Ve(De(i));if(i instanceof ce){const l=i;e=r,t=s,n=u<0?we(l):ye(l);continue e}else return}else return}}function sc(e,t,n){const r=Qo(e,t,n);if(r==null)throw new Error;return R(r)}function oc(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=R(o),u=r.Compare(s,fe(i))|0;if(i instanceof ce){const l=i;if(u<0){e=r,t=s,n=we(l);continue e}else{if(u===0)return!0;e=r,t=s,n=ye(l);continue e}}else return u===0}else return!1}}function ei(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=R(r);if(s instanceof ce){const o=s;ei(n,we(o)),n(fe(o),De(o)),e=n,t=ye(o);continue e}else n(fe(s),De(s))}break}}function ic(e,t){ei(e,t)}function jr(e,t){if(t!=null){const n=R(t);if(n instanceof ce){const r=n,s=jr(e,we(r)),o=e(fe(r),De(r)),i=jr(e,ye(r));return kn(fe(r),o,s,i,Dt(r))}else return An(fe(n),e(fe(n),De(n)))}else return void 0}function uc(e,t){return jr(e,t)}function lc(e,t,n){let r=n;ic((s,o)=>{xt(t,r,[s,o]),r=r+1|0},e)}function cc(e,t){return _n((n,r)=>an(e,r[0],r[1],n),void 0,t)}function ac(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=an(r,i[0],i[1],s),n=o;continue e}else return s}}function fc(e,t){let n=void 0;for(let r=0;r<=t.length-1;r++){const s=V(r,t);n=an(e,s[0],s[1],n)}return n}function dc(e,t){if(qe(t))return fc(e,t);if(t instanceof ze)return cc(e,t);{const n=Z(t);try{return ac(e,void 0,n)}finally{ie(n)}}}class hc extends U{constructor(t,n){super(),this.stack=t,this.started=n}}function ti(e){e:for(;;){const t=e;if(Y(t))return Je();{const n=N(t),r=A(t);if(r!=null){const s=R(r);if(s instanceof ce){const o=s;e=ne([we(o),An(fe(o),De(o)),ye(o)],n);continue e}else return t}else{e=n;continue e}}}}function $s(e){return new hc(ti(Ke(e)),!1)}function _c(){throw new Error("enumeration not started")}function mc(){throw new Error("enumeration already finished")}function Hs(e){if(e.started){const t=e.stack;if(Y(t))return mc();if(A(t)!=null){const n=R(A(t));if(n instanceof ce)throw new Error("Please report error: Map iterator, unexpected stack for current");return[fe(n),De(n)]}else throw new Error("Please report error: Map iterator, unexpected stack for current")}else return _c()}function pc(e){if(e.started){const t=e.stack;if(Y(t))return!1;if(A(t)!=null){if(R(A(t))instanceof ce)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=ti(N(t)),!Y(e.stack)}else throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}else return e.started=!0,!Y(e.stack)}function Ws(e){let t=$s(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return Hs(t)},"System.Collections.IEnumerator.get_Current"(){return Hs(t)},"System.Collections.IEnumerator.MoveNext"(){return pc(t)},"System.Collections.IEnumerator.Reset"(){t=$s(e)},Dispose(){}}}class fr{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return Sc(this)|0}Equals(t){const n=this;if(t instanceof fr){const r=t,s=Z(n);try{const o=Z(r);try{const i=()=>{const u=s["System.Collections.IEnumerator.MoveNext"]();if(u===o["System.Collections.IEnumerator.MoveNext"]())if(u){const l=s["System.Collections.Generic.IEnumerator`1.get_Current"](),c=o["System.Collections.Generic.IEnumerator`1.get_Current"]();return $e(l[0],c[0])&&$e(l[1],c[1])?i():!1}else return!0;else return!1};return i()}finally{ie(o)}}finally{ie(s)}}else return!1}toString(){return"map ["+yr("; ",vt(n=>fl("({0}, {1})",n[0],n[1]),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){const t=this;return Array.from(t)}GetEnumerator(){return Ws(this.tree)}[Symbol.iterator](){return fn(Z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Ws(this.tree)}CompareTo(t){const n=this;if(t instanceof fr)return Jl((s,o)=>{const i=n.comparer.Compare(s[0],o[0])|0;return(i!==0?i:_t(s[1],o[1]))|0},n,t)|0;throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return Ns(n,t[0])&&$e(Us(n,t[0]),t[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){lc(this.tree,t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Or(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Or(this)|0}get size(){return Or(this)|0}clear(){throw new Error("Map cannot be mutated")}delete(t){throw new Error("Map cannot be mutated")}entries(){return vt(n=>[n[0],n[1]],this)}get(t){return Us(this,t)}has(t){return Ns(this,t)}keys(){return vt(n=>n[0],this)}set(t,n){throw new Error("Map cannot be mutated")}values(){return vt(n=>n[1],this)}forEach(t,n){const r=this;be(s=>{t(s[1],s[0],r)},r)}}function xr(e,t){return new fr(e,t)}function gc(e){return xr(e,void 0)}function wc(e,t,n){return xr(e.comparer,an(e.comparer,t,n,e.tree))}function Us(e,t){return sc(e.comparer,t,e.tree)}function yc(e,t){return xr(e.comparer,uc(t,e.tree))}function Or(e){return rc(e.tree)}function Ns(e,t){return oc(e.comparer,t,e.tree)}function bc(e,t){return Qo(e.comparer,t,e.tree)}function Sc(e){const t=(s,o)=>(s<<1)+o+631;let n=0;const r=Z(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t(n,Mt(s[0]))|0,n=t(n,Mt(s[1]))|0}}finally{ie(r)}return n|0}function ni(e,t,n){return wc(n,e,t)}function Cc(e,t){return bc(t,e)}function Mc(e,t){return yc(t,e)}function Ec(e,t){return xr(t,dc(t,e))}function ri(e){return gc(e)}class xc{constructor(t,n){this.contents=t,this.count=n|0}GetEnumerator(){const t=this;return Z(re(()=>{let n=t.count-1;return Ko(()=>n>=0,re(()=>ke(Re(V(n,t.contents)),re(()=>(n=n-1|0,xe())))))}))}[Symbol.iterator](){return fn(Z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Z(this)}}function Rc(e,t){return new xc(e,t)}function kc(e){return Rc(hn(new Array(e),0,e,null),0)}function ps(){return kc(4)}function Tc(e,t){const n=e.contents.length|0;if(t>n){const r=e.contents;e.contents=hn(new Array(On(t,n*2)),0,On(t,n*2),null),Qn(r,0,e.contents,0,e.count)}}function si(e){return e.count}function gs(e){return e.count=e.count-1|0,V(e.count,e.contents)}function vc(e,t){return e.count>0?(t.contents=gs(e),!0):!1}function ws(e,t){Tc(e,e.count+1),e.contents[e.count]=t,e.count=e.count+1|0}class Dc{constructor(t,n){this.contents=t,this.count=n|0,this.head=0,this.tail=(n===this.contents.length?0:n)|0}GetEnumerator(){return Z(Bc(this))}[Symbol.iterator](){return fn(Z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Z(this)}}function Ic(e,t){return new Dc(e,t)}function Vc(e){if(e<0)throw new Error("capacity is less than 0");return Ic(hn(new Array(e),0,e,null),0)}function Fc(){return Vc(4)}function Qt(e,t){e.count===Yt(e)&&Lc(e,e.count+1),e.contents[e.tail]=t,e.tail=(e.tail+1)%Yt(e)|0,e.count=e.count+1|0}function Oc(e){if(e.count===0)throw new Error("Queue is empty");const t=V(e.head,e.contents);return e.head=(e.head+1)%Yt(e)|0,e.count=e.count-1|0,t}function Ac(e,t){return e.count===0?!1:(t.contents=Oc(e),!0)}function Yt(e){return e.contents.length}function Pc(e,t){return(e.head+t)%Yt(e)}function Lc(e,t){const n=hn(new Array(t),0,t,null);e.head<e.tail?Qn(e.contents,e.head,n,0,e.count):(Qn(e.contents,e.head,n,0,Yt(e)-e.head),Qn(e.contents,0,n,Yt(e)-e.head,e.tail)),e.head=0,e.contents=n,e.tail=(e.count===Yt(e)?0:e.count)|0}function Bc(e){return re(()=>{let t=0;return Ko(()=>t<e.count,re(()=>ke(Re(V(Pc(e,t),e.contents)),re(()=>(t=t+1|0,xe())))))})}const $c=1e4;class Hc{constructor(t,n){this.create=t,this.clean=n,this.items=ps(),this.itemOut=0,this.total=0}}function Wc(e,t){return new Hc(e,t)}function Uc(e,t){if(e.total>$c)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,si(e.items)>0?gs(e.items):(e.total=e.total+1|0,e.create(t))}function Zn(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),ws(e.items,t)}class Nc{constructor(t,n){this.create=t,this.clean=n,this.items=ps(),this.itemOut=0,this.total=0}}function Rr(e,t){return new Nc(e,t)}function nt(e){if(e.total>1e3)throw new Error("Memory leak?");return e.itemOut=e.itemOut+1|0,si(e.items)>0?gs(e.items):(e.total=e.total+1|0,e.create())}function Ie(e,t){e.itemOut=e.itemOut-1|0,e.clean(t),ws(e.items,t)}function Yc(e,t){const n=t.getShaderParameter(e,t.COMPILE_STATUS);console.log(Ve("Shader compiled successfully"),n);const r=t.getShaderInfoLog(e);console.log(Ve("Shader compiler log: "),r)}function Gc(e,t){const n=t.getProgramInfoLog(e);console.log(Ve("getProgramInfoLog: "),n)}function Ys(e,t){t.compileShader(e),Yc(e,t)}function Xc(e,t,n){const r=n.createShader(35633);n.shaderSource(r,e),Ys(r,n);const s=n.createShader(35632);n.shaderSource(s,t),Ys(s,n);const o=n.createProgram();return n.attachShader(o,r),n.attachShader(o,s),n.linkProgram(o),Gc(o,n),n.detachShader(o,r),n.detachShader(o,s),n.deleteShader(r),n.deleteShader(s),o}function Zc(e,t){const n=(i,u)=>{e:for(;;){const l=i,c=u;if(!Y(l)){const f=A(l)[1];t.texSubImage3D(35866,0,0,0,c,f.Width,f.Height,1,6408,5121,f.Pixels),i=N(l),u=c+1;continue e}break}},r=t.createTexture();t.activeTexture(33984),t.bindTexture(35866,r);let s;if(s=(Yo(e)|0)>>>0,Y(e))throw new Error("");{const i=A(e)[1];t.texStorage3D(35866,1,32856,i.Width,i.Height,s);const u=i;return t.texSubImage3D(35866,0,0,0,0,u.Width,u.Height,1,6408,5121,u.Pixels),n(N(e),1),t.texParameteri(35866,10242,10497),t.texParameteri(35866,10243,10497),t.texParameteri(35866,10241,9728),t.texParameteri(35866,10240,9728),[r,[i.Width,i.Height],new Map(Dl((l,c)=>[c[0],l>>>0],e))]}}const Mn=Wc(e=>e.createBuffer(),e=>{});function En(e,t){const n=Uc(Mn,t),r=Float32Array.from(e);return t.bindBuffer(34962,n),t.bufferData(34962,r,35044),t.bindBuffer(34962,rt()),n}const jc=new Float32Array([0,1,0,0,1,1,1,0,1,0,1,1,0,1,0,0,1,0,1,1,0,0,0,1]);class oi extends U{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Z=r|0}}class Le extends U{constructor(t,n){super(),this.X=t|0,this.Y=n|0}}function Kc(){return $n("Imp.CommonModels.Point",[],Le,()=>[["X",Jt],["Y",Jt]])}class Gs extends U{constructor(t,n){super(),this.Width=t|0,this.Height=n|0}}class ii extends U{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Width=r|0,this.Height=s|0}}function qc(){return $n("Imp.CommonModels.Rect",[],ii,()=>[["X",Jt],["Y",Jt],["Width",Jt],["Height",Jt]])}function Xs(e,t,n){return t>=e.X&&n>=e.Y&&t<e.X+e.Width?n<e.Y+e.Height:!1}function zc(e){return e*180/3.141592653589793}function Zs(e){return Ur(e,8)}class Pn extends U{constructor(t,n){super(),this.Angle=t,this.Distance=n}}class Q extends U{constructor(t,n){super(),this.X=t,this.Y=n}}function Kr(){return new Pn(0,0)}function dr(e,t){const n=t.X-e.X,r=t.Y-e.Y,s=(zc(Math.atan2(r,n))+450)%360,o=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));return new Pn(Ur(s,8),Ur(o,8))}function Jc(e){const t=3.141592653589793*(e.Angle/180),n=e.Distance*Math.sin(t),r=0-e.Distance*Math.cos(t);return new Q(Math.abs(n)<1e-13?0:n,Math.abs(r)<1e-13?0:r)}function Qc(e){return new Pn(e.Angle>315&&e.Angle<=360||e.Angle>=0&&e.Angle<45?0:e.Angle>=45&&e.Angle<=135?90:e.Angle>135&&e.Angle<225?180:270,e.Distance)}function ea(e,t){return new Q(t.X+e.X,t.Y+e.Y)}function ta(e,t){return new Q(e.X*t,e.Y*t)}function qr(){return new Q(0,0)}function na(){return Rr(aa,e=>{Et(K(e)),Et(ge(e))})}const ui=new Co(na);function ra(){return ps()}const li=new Co(ra);class sa extends U{constructor(t,n,r){super(),this.Texture=t,this.Width=n,this.Height=r}}class kr extends U{constructor(t,n,r,s,o,i,u){super(),this.Time=t,this.Resolution=n,this.Offset=r,this.VertexBuffer=s,this.TextureDetails=o,this.TextureLayer=i,this.ZRange=u}}class oa{constructor(){this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.texture="",this.textureX=0,this.textureY=0,this.textureWidth=0,this.textureHeight=0,this.metaData=void 0}}function ia(){return new oa}class ua extends U{constructor(t,n,r,s,o,i,u,l,c,f,d,_){super(),this.Key=t,this.Elements=n,this.X=r|0,this.Y=s|0,this.Z=o|0,this.MouseMove=i,this.MouseEnter=u,this.MouseLeave=l,this.MouseUp=c,this.Width=f|0,this.Height=d|0,this.Blur=_}}class ci extends U{constructor(t,n,r){super(),this.Key=t,this.Create=n,this.ViewItems=r}}class la extends U{constructor(t,n,r){super(),this.Key=t,this.Func=n,this.ViewItems=r}}class dt extends U{constructor(t,n,r,s){super(),this.Key=t,this.Prop=n,this.Compare=r,this.Build=s}}class O extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class ca{constructor(){this.current=[],this.last=[],this.key="",this.hasSprites=!1,this.hasRenderers=!1,this.parent=void 0,this.x=0,this.y=0,this.z=0,this.width=0,this.height=0,this.mouseMove=void 0,this.mouseOver=!1,this.mouseEnter=void 0,this.mouseLeave=void 0,this.mouseUp=void 0,this.blur=void 0,this.isActive=!1}}function aa(){return new ca}class ai{constructor(t,n){this.f=n,this.isStale=!0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){}"Imp.DisplayModels.RendererBase.OnDistory"(){}}class fa extends U{constructor(t,n,r){super(),this.Key=t,this.Renderer=n,this.RenderView=r}}class da extends U{constructor(t,n,r){super(),this.Key=t,this.RenderView=n,this.Callback=r}}class en extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["MouseMove","MouseButton","SyntheticMouseButton","Key","ControllerThumbstick","ControllerButton"]}}class Ar extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["ControllerThumbstick","ControllerButton","Key"]}}class ha extends U{constructor(t,n,r,s,o,i,u,l,c,f,d,_){super(),this.Key=t,this.Hooks=n,this.CurrentHook=r|0,this.Stale=s,this.RenderView=o,this.CurrentProp=i,this.Build=u,this.Removed=l,this.InputHandler=c,this.HasMouseEvents=f,this.HasInputEvents=d,this.Id=_}}class $t extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["View","Sprite","Renderer","Context","Component"]}}class _a extends U{constructor(t){super(),this.Component=t}}class ma{constructor(t,n,r){this.currentComponent=t,this.hookIndex=n|0,this.currentComponent.Hooks[this.hookIndex]=r}}function fi(e,t,n){return new ma(e,t,n)}class di extends U{constructor(t,n,r){super(),this.Time=t,this.Call=n,this.Component=r}}class Pr extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Move","Up","SyntheticUp"]}}const pa=ui.Value;function xn(e){const t=nt(ui.Value);return Wa(t,e),t}function hi(){return Rr(ia,e=>{})}function ga(e){return e.x}function wa(e,t){e.x=t|0}function ya(e){return e.y}function ba(e,t){e.y=t|0}function Sa(e){return e.z}function Ca(e,t){e.z=t|0}function Ma(e){return e.width}function Ea(e,t){e.width=t|0}function xa(e){return e.height}function Ra(e,t){e.height=t|0}function ka(e){return e.texture}function Ta(e,t){e.texture=t}function va(e){return e.textureX}function Da(e,t){e.textureX=t|0}function Ia(e){return e.textureY}function Va(e,t){e.textureY=t|0}function Fa(e){return e.textureWidth}function Oa(e,t){e.textureWidth=t|0}function Aa(e){return e.textureHeight}function Pa(e,t){e.textureHeight=t|0}function La(e){return e.metaData}function Ba(e,t){e.metaData=t}function $a(e){Ie(hi(),e)}function Ha(e){return e.key}function Wa(e,t){e.key=t}function zr(e){return e.hasSprites}function Wt(e,t){e.hasSprites=t}function Jr(e){return e.hasRenderers}function tn(e,t){e.hasRenderers=t}function _i(e){return e.parent}function jn(e,t){e.parent=t}function Ot(e){return e.x}function Ua(e,t){e.x=t|0}function At(e){return e.y}function Na(e,t){e.y=t|0}function Tn(e){return e.z}function Ya(e,t){e.z=t|0}function Ga(e){return e.width}function Xa(e,t){e.width=t|0}function Za(e){return e.height}function ja(e,t){e.height=t|0}function Qr(e){return e.mouseMove}function Ka(e,t){e.mouseMove=t}function js(e){return e.mouseOver}function Ks(e,t){e.mouseOver=t}function es(e){return e.mouseEnter}function qa(e,t){e.mouseEnter=t}function ts(e){return e.mouseLeave}function za(e,t){e.mouseLeave=t}function ns(e){return e.mouseUp}function Ja(e,t){e.mouseUp=t}function mi(e){return e.blur}function Qa(e,t){e.blur=t}function K(e){return e.current}function ge(e){return e.last}function pi(e){const t=e.last;e.last=e.current,e.current=t}function sn(e,t){const n=t?ge(e):K(e);for(let r=0;r<=n.length-1;r++){const s=n[r];if(s!=null){const o=s;switch(o.tag){case 0:{sn(o.fields[0],!1);break}case 1:{$a(o.fields[0]);break}case 3:{sn(o.fields[0].RenderView,!1);break}case 4:{const i=o.fields[0];i.Removed=!0,sn(i.RenderView,!1);break}default:nf(o.fields[0].Renderer)}}}t||Ie(pa,e)}function ef(e){e.isStale=!0}function tf(e,t){e.isStale&&e["Imp.DisplayModels.RendererBase.OnInit1E729EFC"](t),e["Imp.DisplayModels.RendererBase.OnRender1E729EFC"](t),e.isStale=!1}function nf(e,t){sn(e.f,!1),e["Imp.DisplayModels.RendererBase.OnDistory"]()}const rf=li.Value;function gi(e){ws(li.Value,e)}function It(e){return e.currentComponent.Hooks[e.hookIndex]}function _e(e,t){const n=t(e.currentComponent.Hooks[e.hookIndex]);e.currentComponent.Hooks[e.hookIndex]=n,e.currentComponent.Stale=!0,gi(e.currentComponent)}const Be=Rr(()=>[],e=>{Et(e)});class Tr{constructor(){}}function vr(e){return nt(Be)}class sf extends Tr{constructor(t,n,r,s,o,i,u,l,c,f,d){super(),this.key=t,this.x=n|0,this.y=r|0,this.z=s|0,this.width=o|0,this.height=i|0,this.mouseMove=u,this.mouseEnter=l,this.mouseLeave=c,this.mouseUp=f,this.blur=d}}function se(e,t,n,r,s,o,i,u,l,c,f){return new sf(e,t,n,r,s,o,i,u,l,c,f)}function oe(e,t){const n=vr();return t(n),new ua(e.key,n,e.x,e.y,e.z,e.mouseMove,e.mouseEnter,e.mouseLeave,e.mouseUp,e.width,e.height,e.blur)}class of extends Tr{constructor(t,n){super(),this.name=t,this.func=n}}function wi(e,t){return new of(e,t)}function yi(e,t){const n=vr();return t(n),new la(e.name,e.func,n)}function ve(e,t,n,r,s,o,i,u,l,c){const f=nt(hi());return wa(f,e),ba(f,t),Ca(f,n),Ea(f,r),Ra(f,s),Ta(f,o),Da(f,i),Va(f,u),Oa(f,c),Pa(f,l),Ba(f,void 0),f}function ht(e,t){return $e(e,t)}let Lr=0;function ys(e,t){Ua(e,t.X),Na(e,t.Y),Ya(e,t.Z),Xa(e,t.Width),ja(e,t.Height),Ka(e,t.MouseMove),qa(e,t.MouseEnter),za(e,t.MouseLeave),Ja(e,t.MouseUp),Qa(e,t.Blur)}function bi(e,t){be(n=>{let r,s,o,i,u;n.HasMouseEvents=n.HasMouseEvents||(r=es(t),r!=null)||(s=ts(t),s!=null)||(o=Qr(t),o!=null)||(i=ns(t),i!=null)?!0:(u=mi(t),u!=null),n.HasInputEvents=n.HasInputEvents?!0:n.InputHandler!=null},Nt(e))}function Si(e,t,n,r,s){let o,i,u,l,c;switch(s.tag){case 0:{const f=s.fields[0];let d,_,p,h=0;for(;p==null&&h<ge(r).length;){const g=(m=>{let y,E;if(m!=null){const S=m;S.tag===0&&Ha(S.fields[0])===f.Key?(y=0,E=S.fields[0]):y=1}else y=1;switch(y){case 0:return E;default:return}})(ge(r)[h]);if(g!=null){const m=g;ge(r)[h]=void 0,p=m}h=h+1|0}_=p,d=_??xn(f.Key),jn(d,r),ys(d,f),Rn(e,t,n,d,f.Elements),Wt(r,zr(r)?!0:zr(d)),tn(r,Jr(r)?!0:Jr(d)),K(r).push(new $t(0,[d])),bi(t,d);break}case 4:{const f=s.fields[0];let d,_,p,h=0;for(;p==null&&h<ge(r).length;){const g=(m=>{let y,E;if(m!=null){const S=m;S.tag===4&&S.fields[0].Key===f.Key?(y=0,E=S.fields[0]):y=1}else y=1;switch(y){case 0:return E;default:return}})(ge(r)[h]);if(g!=null){const m=g;ge(r)[h]=void 0,p=m}h=h+1|0}if(_=p,_!=null){const g=_;let m;try{m=f.Compare(g.CurrentProp,f.Prop)}catch(y){throw y}g.Stale=g.Stale?!0:!m,g.CurrentProp=f.Prop,d=g}else{const g=xn(f.Key);Lr=Lr+1|0,d=new ha(f.Key,[],0,!0,g,f.Prop,f.Build,!1,void 0,!1,!1,Hn(Oo(Lr)))}gi(d),jn(d.RenderView,r),tn(r,!0),Wt(r,!0),be(g=>{g.HasMouseEvents=g.HasMouseEvents?!0:d.HasMouseEvents,g.HasInputEvents=g.HasInputEvents?!0:d.HasInputEvents},Nt(t)),K(r).push(new $t(4,[d]));break}case 2:{const f=s.fields[0],d=()=>{const _=xn(f.Key);jn(_,r),Rn(e,t,n,_,f.ViewItems);const p=new fa(f.Key,f.Create(n,_),_);K(r).push(new $t(2,[p]))};if(e)d();else{let _,p,h=0;for(;p==null&&h<ge(r).length;){const g=(m=>{let y,E;if(m!=null){const S=m;S.tag===2&&S.fields[0].Key===f.Key?(y=0,E=S.fields[0]):y=1}else y=1;switch(y){case 0:return E;default:return}})(ge(r)[h]);if(g!=null){const m=g;ge(r)[h]=void 0,p=m}h=h+1|0}if(_=p,_!=null){const g=_;jn(g.RenderView,r),Rn(e,t,n,g.RenderView,f.ViewItems),K(r).push(new $t(2,[g]))}else d()}tn(r,!0),Wt(r,!0);break}case 3:{const f=s.fields[0];Rn(e,t,n,(o=(i=void 0,u=0,(()=>{for(;i==null&&u<ge(r).length;){const d=(_=>{let p,h;if(_!=null){const g=_;g.tag===3&&g.fields[0].Key===f.Key?(p=0,h=g.fields[0]):p=1}else p=1;switch(p){case 0:return h;default:return}})(ge(r)[u]);if(d!=null){const _=d;ge(r)[u]=void 0,i=_}u=u+1|0}})(),i),o!=null?(l=o,K(r).push(new $t(3,[l])),l):(c=new da(f.Key,xn(f.Key),f.Func),K(r).push(new $t(3,[c])),c)).RenderView,f.ViewItems),tn(r,!0),Wt(r,!0);break}default:K(r).push(new $t(1,[s.fields[0]])),Wt(r,!0)}}function Rn(e,t,n,r,s){pi(r),Et(K(r)),Wt(r,!1),tn(r,!1);for(let o=0;o<=s.length-1;o++)Si(e,t,n,r,s[o]);Ie(Be,s),sn(r,!0),Et(ge(r)),bi(t,r)}let Br;function uf(e,t){const n=(r,s,o,i)=>{for(let u=0;u<=r.length-1;u++){const l=r[u];if(l!=null){const c=l;switch(c.tag){case 0:{const f=c.fields[0];zr(f)&&n(K(f),s+Ot(f),o+At(f),i+Tn(f));break}case 3:{n(K(c.fields[0].RenderView),s,o,i);break}case 4:{const f=c.fields[0];n(K(f.RenderView),Ot(f.RenderView)+s,At(f.RenderView)+o,Tn(f.RenderView)+i);break}case 2:break;default:t([s,o,i],c.fields[0])}}}};n(K(e),Ot(e),At(e),Tn(e))}function vn(e,t){let n;if(Ot(e)!==0||At(e)!==0||Tn(e)!==0){const r=t;n=new kr(r.Time,r.Resolution,new oi(t.Offset.X+Ot(e),t.Offset.Y+At(e),t.Offset.Z+Tn(e)),r.VertexBuffer,r.TextureDetails,r.TextureLayer,r.ZRange)}else n=t;for(let r=0;r<=K(e).length-1;r++){const s=K(e)[r];if(s!=null){const o=s;switch(o.tag){case 0:{const i=o.fields[0];Jr(i)&&vn(i,n);break}case 3:{const i=o.fields[0];vn(i.RenderView,i.Callback(n));break}case 4:{vn(o.fields[0].RenderView,n);break}case 1:break;default:tf(o.fields[0].Renderer,n)}}}}function lf(e,t,n){pi(e),Et(K(e)),Wt(e,!1),tn(e,!1),ys(e,n),Si(!1,void 0,t,e,new O(0,[n])),sn(e,!0),Et(ge(e))}function cf(e,t){e:for(;;){const n=t;if(n!=null){const r=n;for(let s=0;s<=K(r).length-1;s++){const o=K(r)[s];if(o!=null){const i=o;i.tag===2&&ef(i.fields[0].Renderer)}}t=_i(r);continue e}break}}let Dn=[],Kn=[];const Ut=Fc();class af extends Fe{constructor(){super(),this.tag=0,this.fields=[]}cases(){return["Up"]}}function Dr(e){let t;const n=e.Component.CurrentHook|0;return e.Component.CurrentHook=n+1|0,[n,(t=Ql(n,e.Component.Hooks),t!=null?Ve(R(t)):void 0)]}function bs(e,t){const n=Dr(e),r=n[1];return fi(e.Component,n[0],r!=null?R(r):(e.Component.Hooks.push(t),t))}function Ss(e,t){let n;const r=Dr(e),s=r[1];return fi(e.Component,r[0],s!=null?R(s):(n=t(),e.Component.Hooks.push(n),n))}function ff(e,t){Dr(e)[1]!=null||(t(),Qt(Ut,new en(2,[!0,e.Component.Id])),e.Component.Hooks.push(!0)),e.Component.HasMouseEvents=!0}function Ci(e,t,n){const r=Dr(e),s=r[1];s!=null?$e(R(s),t)||(n(t),e.Component.Hooks[r[0]]=t):(n(t),e.Component.Hooks.push(t))}function Mi(e,t){e.Component.InputHandler=t,e.Component.HasInputEvents=!0}function df(e,t,n){Dn.push(new di(Bo(Vn(),t),n,e.Component))}function hf(e,t){Dn.push(new di(Bo(Vn(),e),t,void 0))}function _f(){let e;const t=Dn;Dn=Kn,Kn=t;const n=Vn();let r=Z(Kn);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const s=r["System.Collections.Generic.IEnumerator`1.get_Current"](),o=()=>{tl(n,s.Time)>=0?s.Call():Dn.push(s)},i=s.Component;if(i!=null){if(e=i,!e.Removed){const u=i;o()}}else o()}}finally{ie(r)}Et(Kn)}function mf(e,t){_f();const n=(i,u,l)=>{let c=!1;const f=(d,_,p,h)=>{for(let g=0;g<=_.length-1;g++){const m=_[g],y=(E,S)=>{let v,T,k,F,P;f(E,K(S),p+Ot(S),h+At(S));const D=()=>new ii(p+Ot(S),h+At(S),Ga(S),Za(S));switch(l.tag){case 1:{!c&&(v=ns(S),v!=null)&&Xs(D(),i,u)&&(Br!=null&&R(Br)(new Le(i,u)),(T=ns(S),R(T))(new Le(i,u)),c=!0,Br=mi(S));break}case 2:{if(Lu(l.fields[0],E)){const M=D();Qt(Ut,new en(1,[!0,M.X,M.Y])),c=!0}break}default:!c&&(k=Qr(S),(k!=null?!0:(F=es(S),F!=null))?!0:(P=ts(S),P!=null))&&(Xs(D(),i,u)?(js(S)||be(M=>{M(new Le(i,u)),Ks(S,!0)},Nt(es(S))),be(M=>{M(new Le(i,u))},Nt(Qr(S)))):js(S)&&(be(M=>{M(new Le(i,u))},Nt(ts(S))),Ks(S,!1)))}};if(m!=null){const E=m;switch(E.tag){case 0:{y(d,E.fields[0]);break}case 4:{const S=E.fields[0];S.HasMouseEvents&&y(S.Id,S.RenderView);break}case 3:{f(d,K(E.fields[0].RenderView),p,h);break}case 2:{const S=E.fields[0];f(d,K(S.RenderView),p+Ot(S.RenderView),h+At(S.RenderView));break}}}}};f(Hn(Oo(-1)),K(e),0,0)},r=i=>{let u=!1;const l=c=>{if(!u)for(let f=0;f<=c.length-1;f++){const d=c[f];if(d!=null){const _=d;switch(_.tag){case 4:{const p=_.fields[0];if(p.HasInputEvents&&(l(K(p.RenderView)),!u)){const h=p.InputHandler;h!=null&&(h(i),u=!0)}break}case 0:{l(K(_.fields[0]));break}case 3:{l(K(_.fields[0].RenderView));break}case 2:{l(K(_.fields[0].RenderView));break}}}}};l(K(e))},s=()=>{let i,u=rt();if(i=[Ac(Ut,new de(()=>u,l=>{u=l})),u],i[0]){const l=i[1];switch(l.tag){case 1:{l.fields[0]&&n(l.fields[1],l.fields[2],new Pr(1,[]));break}case 2:{l.fields[0]&&n(0,0,new Pr(2,[l.fields[1]]));break}case 3:{r(new Ar(2,[l.fields[0],l.fields[1]]));break}case 4:{r(new Ar(0,[l.fields[0],l.fields[1]]));break}case 5:{r(new Ar(1,[l.fields[0],l.fields[1]]));break}default:n(l.fields[0],l.fields[1],new Pr(0,[]))}s()}};s();const o=()=>{let i,u=rt();if(i=[vc(rf,new de(()=>u,l=>{u=l})),u],i[0]){const l=i[1];if(l.Stale){l.Stale=!1,l.CurrentHook=0,l.InputHandler=void 0,l.HasMouseEvents=!1,l.HasInputEvents=!1;const c=l.Build(new _a(l),l.CurrentProp);ys(l.RenderView,c),Rn(!0,l,t,l.RenderView,c.Elements),cf(t,_i(l.RenderView))}o()}};o()}function qs(e=0,t=0,n=0,r=0,s=0){switch(arguments.length){case 1:return pf(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],s=0;break}return e*864e5+t*36e5+n*6e4+r*1e3+s}function pf(e){return Number(BigInt(e)/10000n)}function gf(e){return e/1e3}function wf(e){const t=e.search("\\."),n=e.search("\\:");if(t===-1&&n===-1){const r=parseInt(e,0);if(isNaN(r))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return qs(r,0,0,0,0)}if(n>0){const r=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(r!=null&&r[4]!=null&&r[5]!=null){let s=0,o=0,i=0;const u=r[1]!=null&&r[1]==="-"?-1:1,l=+r[4],c=+r[5];if(r[3]!=null&&(s=+r[3]),r[7]!=null&&(i=+r[7]),r[8]!=null)switch(r[8].length){case 1:o=+r[8]*100;break;case 2:o=+r[8]*10;break;case 3:o=+r[8];break;case 4:o=+r[8]/10;break;case 5:o=+r[8]/100;break;case 6:o=+r[8]/1e3;break;case 7:o=+r[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return u*qs(s,l,c,i,o)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}function yf(e,t){try{return t.contents=wf(e),!0}catch{return!1}}class bf{constructor(){this.textureNames=new Set([])}}function Ei(e){return e.textureNames}class Sf{constructor(){}}class Cf extends bf{constructor(t){super(),this.baseUrl=t}"Imp.Setup.DataManager.LoadTexture"(t,n){const r=this,s=document.createElement("img");s.onload=o=>{n(new Fu(s,s.width>>>0,s.height>>>0))},s.src=`${r.baseUrl}/${t}`}"Imp.Setup.DataManager.LoadString"(t,n){const r=this;Au(Bl(Ps,Ll(Ps,()=>nc(`${r.baseUrl}/${t}`,Je()).then(s=>s.text().then(o=>(n(o),Promise.resolve()))))))}}function Mf(e){return new Cf(e)}function Ef(e,t,n,r,s){const o=[],i=Ls(Ei(t)),u=()=>{if(o.length<Yo(i)){const l=Vl(o.length,i);t["Imp.Setup.DataManager.LoadTexture"](`${l}.png`,c=>{o.push([l,c]),u()})}else{const l=Zc(Ls(o),e),c=l[1],f=new sa(l[0],c[0],c[1]);let d,_;d=m=>{let y;switch(_!=null?(_[1],_[0]===m?y=0:y=1):y=1,y){case 0:{const E=_[1];return _[0],E}default:{let E,S=0;if(E=[gr(l[2],m,new de(()=>S,v=>{S=v})),S],E[0]){const v=E[1];return _=[m,v],v}else return}}};const p=En(jc,e),h=Vn(),g=xn("Root");lf(g,e,n),s(m=>{be(y=>{y()},Nt(r)),vn(g,new kr(gf(nl(Vn(),h)),m,new oi(0,0,0),p,f,d,[0,1]))},m=>{mf(g,e)})}};u()}class xf extends Sf{constructor(t,n,r){super();let s,o,i,u;this.resolution=new Gs(0,0),this.tick=()=>{},this.canvas=(s=document.createElement("canvas"),o=document.getElementById(t),o.appendChild(s),i=n,u=r,this.resolution=new Gs(~~i,~~u),s.width=i,s.height=u,s)}"Imp.Setup.Display.AttachView"(t,n,r){const s=this;Ef(s.canvas.getContext("webgl2",Ve({premultipliedAlpha:!1})),t,n,r,(o,i)=>{s.tick=()=>{i(),o(s.resolution)}})}"Imp.Setup.Display.AttachInputZ2D84AEB6"(t){const n=this;t({AttachKeyboard(){window.addEventListener("keydown",r=>{const s=zs(n,r.code);s!=null&&Qt(Ut,new en(3,[!0,s]))}),window.addEventListener("keyup",r=>{const s=zs(n,r.code);s!=null&&Qt(Ut,new en(3,[!1,s]))})},AttachMouse(){window.addEventListener("mousemove",r=>{Qt(Ut,new en(0,[r.clientX,r.clientY]))}),window.addEventListener("mouseup",r=>{Qt(Ut,new en(1,[!0,r.clientX,r.clientY]))})},AttachGamepad(){}})}"Imp.Setup.Display.Run"(){const t=this,n=()=>{window.requestAnimationFrame(r=>{t.tick(),n()})};n()}}function Rf(e,t,n){return new xf(e,t,n)}function zs(e,t){switch(t){case"KeyA":return 65;case"KeyB":return 66;case"KeyC":return 67;case"KeyD":return 68;case"KeyE":return 69;case"KeyF":return 70;case"KeyG":return 71;case"KeyH":return 72;case"KeyI":return 73;case"KeyJ":return 74;case"KeyK":return 75;case"KeyL":return 76;case"KeyM":return 77;case"KeyN":return 78;case"KeyO":return 79;case"KeyP":return 80;case"KeyQ":return 81;case"KeyR":return 82;case"KeyS":return 83;case"KeyT":return 84;case"KeyU":return 85;case"KeyV":return 86;case"KeyW":return 87;case"KeyX":return 88;case"KeyY":return 89;case"KeyZ":return 90;case"Digit0":return 48;case"Digit1":return 49;case"Digit2":return 50;case"Digit3":return 51;case"Digit4":return 52;case"Digit5":return 53;case"Digit6":return 54;case"Digit7":return 55;case"Digit8":return 56;case"Digit9":return 57;case"Space":return 32;case"ShiftLeft":return 340;case"ShiftRight":return 344;case"Backspace":return 259;case"Delete":return 261;case"Semicolon":return 59;case"ArrowLeft":return 263;case"ArrowRight":return 262;case"ArrowDown":return 264;case"ArrowUp":return 265;case"Backquote":return 96;case"Minus":return 45;case"Equal":return 61;case"BracketLeft":return 91;case"BracketRight":return 93;case"Backslash":return 92;case"Quote":return 39;case"Comma":return 44;case"Period":return 46;case"Slash":return 47;case"CapsLock":return 280;case"Tab":return 258;case"Enter":return 257;case"Escape":return 256;case"ControlLeft":return 341;case"ControlRight":return 345;case"AltLeft":return 342;case"AltRight":return 346;default:{ll(`Key: ${t}`);return}}}class kf extends U{constructor(t,n,r){super(),this.R=t|0,this.G=n|0,this.B=r|0}}class Tf extends ai{constructor(t,n,r){super(n,r),this.backgroundColor=t,this.gl=n,this.view=r}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this;n.gl.disable(3024),n.gl.enable(2884),n.gl.cullFace(1029),n.gl.frontFace(2304);const r=t.Resolution.Width>>>0,s=t.Resolution.Height>>>0;n.gl.viewport(0,0,r,s);const o=n.backgroundColor.R/255,i=n.backgroundColor.G/255,u=n.backgroundColor.B/255;n.gl.clearColor(o,i,u,1),n.gl.clearDepth(1);const l=16640;n.gl.clear(l),vn(n.view,t)}}function vf(e,t,n){return new Tf(e,t,n)}class Df extends Tr{constructor(t,n){super(),this.backgroundColor=t,this.key=n}}function If(e,t){return new Df(e,t)}function Vf(e,t){const n=vr();return t(n),new ci(e.key,(r,s)=>vf(e.backgroundColor,r,s),n)}function Ff(e,t){return If(e,w(t,""))}class Of{constructor(t){let n,r,s,o,i,u,l,c,f,d,_,p,h,g,m,y,E,S,v,T,k,F,P,D,M,B,x,W;this.gl=t;const G=`#version 300 es\r
precision highp float;\r
\r
in vec4 vertex;\r
uniform vec3 offset;\r
in vec4 position;\r
in vec4 texturePosition;\r
in float textureLayer;\r
in float depth;\r
uniform vec2 depthRange;\r
\r
uniform vec2 outputResolution;\r
uniform vec2 textureResolution;\r
\r
out vec3 frag_texCoords;\r
out float frag_depth;\r
\r
void main(void)\r
{\r
    // y might need to be flipped\r
    frag_texCoords =\r
        vec3(\r
            mix(vec2(0.0, 0.0), vec2(1.0, 1.0), (texturePosition.xy + (texturePosition.zw * vertex.zw)) / textureResolution),\r
            textureLayer);\r
\r
    float x = mix(-1.0, 1.0, (offset.x + position.x + (position.z * vertex.x)) / outputResolution.x);\r
    float y = mix(1.0, -1.0, (offset.y + position.y + (position.w * (1.0 - vertex.y))) / outputResolution.y);\r
\r
    gl_Position = vec4(x, y, 0.0, 1.0);\r
\r
    float minDepth = depthRange.x;\r
    float maxDepth = depthRange.y;\r
    float d = ((offset.z + depth) - minDepth) / (maxDepth - minDepth);\r
\r
    frag_depth = 1.0f - d;\r
}`,ue=`#version 300 es\r
precision highp float;\r
\r
in vec3 frag_texCoords;\r
in float frag_depth;\r
uniform mediump sampler2DArray diffuseTexture;\r
\r
out vec4 outputColor;\r
\r
void main() {\r
    outputColor = texture(diffuseTexture, frag_texCoords);\r
    gl_FragDepth = outputColor.a > 0.0 ? frag_depth : 1.0;\r
}`;this.vertexArray=(n=this.gl,n.createVertexArray()),this.initialized=!1,this.program=(r=Xc(G,ue,this.gl),s=this.gl,s.useProgram(r),r),this.vertexLocation=(o=(i=this.gl,u=this.program,i.getAttribLocation(u,"vertex")),o>>>0),this.offsetLocation=(l=this.gl,c=this.program,l.getUniformLocation(c,"offset")),this.positionLocation=(f=(d=this.gl,_=this.program,d.getAttribLocation(_,"position")),f>>>0),this.texturePositionLocation=(p=(h=this.gl,g=this.program,h.getAttribLocation(g,"texturePosition")),p>>>0),this.textureLayerLocation=(m=(y=this.gl,E=this.program,y.getAttribLocation(E,"textureLayer")),m>>>0),this.depthLocation=(S=(v=this.gl,T=this.program,v.getAttribLocation(T,"depth")),S>>>0),this.depthRangeLocation=(k=this.gl,F=this.program,k.getUniformLocation(F,"depthRange")),this.outputResolutionLocation=(P=this.gl,D=this.program,P.getUniformLocation(D,"outputResolution")),this.textureResolutionLocation=(M=this.gl,B=this.program,M.getUniformLocation(B,"textureResolution")),this.diffuseTextureLocation=(x=this.gl,W=this.program,x.getUniformLocation(W,"diffuseTexture"))}}function Af(e){return new Of(e)}function Pf(e){return e.program}function Js(e){e.gl.useProgram(e.program),e.gl.bindVertexArray(e.vertexArray),e.initialized||(e.initialized=!0,e.gl.enableVertexAttribArray(e.vertexLocation),e.gl.enableVertexAttribArray(e.positionLocation),e.gl.enableVertexAttribArray(e.texturePositionLocation),e.gl.enableVertexAttribArray(e.textureLayerLocation),e.gl.enableVertexAttribArray(e.depthLocation))}function Lf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.vertexLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.vertexLocation,i)}function Bf(e,t,n,r){e.gl.uniform3f(e.offsetLocation,t,n,r)}function $f(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.positionLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.positionLocation,i)}function Hf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=4*4>>>0,o=0*4|0;r.vertexAttribPointer(e.texturePositionLocation,4,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.texturePositionLocation,i)}function Wf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.textureLayerLocation,1,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.textureLayerLocation,i)}function Uf(e,t,n){const r=e.gl;r.bindBuffer(34962,t);const s=1*4>>>0,o=0*4|0;r.vertexAttribPointer(e.depthLocation,1,5126,!1,s,o);const i=w(n,0);return r.vertexAttribDivisor(e.depthLocation,i)}function Nf(e,t,n){e.gl.uniform2f(e.depthRangeLocation,t,n)}function Yf(e,t,n){e.gl.uniform2f(e.outputResolutionLocation,t,n)}function Gf(e,t,n){e.gl.uniform2f(e.textureResolutionLocation,t,n)}function Xf(e,t){const n=e.gl;n.uniform1i(e.diffuseTextureLocation,0),n.activeTexture(33984),n.bindTexture(35866,t)}let qn=Ro(void 0);function Zf(e,t){let n;if(qn()==null){const r=Af(e);Js(r),t(r),qn(r)}else{const r=qn();$e((n=e,n.getParameter(n.CURRENT_PROGRAM)),Pf(r))||(Js(r),t(r))}return R(qn())}const kt=Rr(()=>[],e=>{Et(e)});class jf extends ai{constructor(t,n){super(t,n),this.gl=t,this.view=n,this.renderResult=void 0}"Imp.DisplayModels.RendererBase.OnInit1E729EFC"(t){let n,r,s;const o=this;Qs(o);const i=nt(kt),u=nt(kt),l=nt(kt),c=nt(kt);uf(o.view,(f,d)=>{let _;if(_=La(d),_==null){const p=d,h=i;h.push(ga(p)+f[0]),h.push(ya(p)+f[1]),h.push(Ma(p)),h.push(xa(p));const g=d,m=l;m.push(va(g)),m.push(Ia(g)),m.push(Fa(g)),m.push(Aa(g));const y=t.TextureLayer(ka(d));if(y!=null){const E=y;c.push(E)}u.push(Sa(d)+f[2])}}),o.renderResult=(n=En(i,o.gl),r=En(l,o.gl),s=En(c,o.gl),{DepthBuffer:En(u,o.gl),PosBuffer:n,TextureBuffer:r,TextureLayer:s,TotalSprites:~~(i.length/4)}),Ie(kt,i),Ie(kt,l),Ie(kt,c),Ie(kt,u)}"Imp.DisplayModels.RendererBase.OnRender1E729EFC"(t){const n=this,r=R(n.renderResult),s=t.Resolution.Width>>>0,o=t.Resolution.Height>>>0;n.gl.viewport(0,0,s,o),n.gl.enable(2929),n.gl.blendFunc(770,771),n.gl.blendEquationSeparate(32774,32774),n.gl.enable(3042),n.gl.depthFunc(515);const i=Zf(n.gl,c=>{Lf(c,t.VertexBuffer)});Bf(i,t.Offset.X,t.Offset.Y,t.Offset.Z);const u=t.ZRange;Nf(i,u[0],u[1]),Yf(i,t.Resolution.Width,t.Resolution.Height),Gf(i,t.TextureDetails.Width,t.TextureDetails.Height),Xf(i,t.TextureDetails.Texture),Wf(i,r.TextureLayer,1),$f(i,r.PosBuffer,1),Hf(i,r.TextureBuffer,1),Uf(i,r.DepthBuffer,1);const l=r.TotalSprites>>>0;n.gl.drawArraysInstanced(4,0,6,l)}"Imp.DisplayModels.RendererBase.OnDistory"(){Qs(this)}}function Kf(e,t){return new jf(e,t)}function Qs(e){be(t=>{Zn(Mn,t.PosBuffer),Zn(Mn,t.TextureBuffer),Zn(Mn,t.TextureLayer),Zn(Mn,t.DepthBuffer)},Nt(e.renderResult)),e.renderResult=void 0}class qf extends Tr{constructor(t){super(),this.name=t}}function zf(e){return new qf(e)}function on(e,t){const n=vr();return t(n),new ci(e.name,Kf,n)}function un(e){return zf(w(e,""))}function Jf(e,t,n,r){const s=_t(e,n)|0;if(s===0)throw new Error("The step of a range cannot be zero");const o=s>0;return i=>{const u=_t(i,t)|0;return o&&u<=0||!o&&u>=0?[i,r(i,e)]:void 0}}function Qf(e,t,n,r,s){const o=Jf(t,n,r,s);return re(()=>Zo(o,e))}function hr(e,t,n){return Qf(e,t,n,0,(r,s)=>r+s)}class ed{constructor(){this.defaultFont="Font Small",this.sprites=new Map([])}}function td(){return new ed}function xi(e){return e.sprites}function mn(e,t){let n,r=rt();if(n=[gr(e.sprites,t,new de(()=>r,s=>{r=s})),r],n[0])return n[1];throw new Error(`Can't find name ${t}`)}function Ri(e){return e.defaultFont}class bt extends U{constructor(t,n,r,s){super(),this.Value=t,this.Position=n|0,this.Active=r,this.Shift=s}}function In(e,t,n,r){let s,o;const i=V(n-1,mn(e,t).Frames),u=nt(Be),l=i.Layers.length-1|0;for(let c=0;c<=l;c++){const f=V(c,i.Layers);u.push(new O(1,[(s=f,o=s,ve(r[0]+o.Offset.X,r[1]+o.Offset.Y,0,s.Rect.Width,s.Rect.Height,o.Texture,o.Rect.X,o.Rect.Y,o.Rect.Height,o.Rect.Width))]))}return u}function nd(e,t){return V(0,V(0,mn(e,t).Frames).Layers)}function ki(e,t,n,r,s,o){let i,u,l,c,f;const d=_=>V(0,V(0,mn(e,o+"-"+_).Frames).Layers);return oe((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,se(w(void 0,""),w(n,0),w(t,0),w(void 0,0),w(void 0,0),w(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),_=>{let p,h,g,m,y,E,S,v,T,k,F,P,D,M,B,x,W,G,ue;const Oe=_,me=d("TopLeft"),He=d("Top"),ot=d("TopRight"),gt=d("Left"),L=d("Middle"),$=d("Right"),ae=d("BottomLeft"),Ce=d("Bottom"),Ae=d("BottomRight"),Xe=r-me.Rect.Width-ot.Rect.Width|0;(p=(h=me,g=h,ve(0+g.Offset.X,0+g.Offset.Y,0,h.Rect.Width,h.Rect.Height,g.Texture,g.Rect.X,g.Rect.Y,g.Rect.Height,g.Rect.Width)),te=>{te.push(new O(1,[p]))})(Oe);const We=Oe;(m=(y=He,ve(me.Rect.Width+y.Offset.X,0+y.Offset.Y,0,Xe,He.Rect.Height,y.Texture,y.Rect.X,y.Rect.Y,y.Rect.Height,y.Rect.Width)),te=>{te.push(new O(1,[m]))})(We);const Ue=We;(E=(S=ot,v=S,ve(r-ot.Rect.Width+v.Offset.X,0+v.Offset.Y,0,S.Rect.Width,S.Rect.Height,v.Texture,v.Rect.X,v.Rect.Y,v.Rect.Height,v.Rect.Width)),te=>{te.push(new O(1,[E]))})(Ue);const le=Ue,j=r-gt.Rect.Width-$.Rect.Width|0,z=s-He.Rect.Height-Ce.Rect.Height|0,Me=me.Rect.Height|0;(T=(k=gt,ve(0+k.Offset.X,Me+k.Offset.Y,0,gt.Rect.Width,z,k.Texture,k.Rect.X,k.Rect.Y,k.Rect.Height,k.Rect.Width)),te=>{te.push(new O(1,[T]))})(le);const it=le;(F=(P=L,ve(me.Rect.Width+P.Offset.X,Me+P.Offset.Y,0,j,z,P.Texture,P.Rect.X,P.Rect.Y,P.Rect.Height,P.Rect.Width)),te=>{te.push(new O(1,[F]))})(it);const Ze=it;(D=(M=$,ve(r-ot.Rect.Width+M.Offset.X,Me+M.Offset.Y,0,$.Rect.Width,z,M.Texture,M.Rect.X,M.Rect.Y,M.Rect.Height,M.Rect.Width)),te=>{te.push(new O(1,[D]))})(Ze);const ut=Ze,Bt=r-ae.Rect.Width-Ae.Rect.Width|0,lt=s-Ce.Rect.Height|0;(B=(x=ae,W=x,ve(0+W.Offset.X,lt+W.Offset.Y,0,x.Rect.Width,x.Rect.Height,W.Texture,W.Rect.X,W.Rect.Y,W.Rect.Height,W.Rect.Width)),te=>{te.push(new O(1,[B]))})(ut);const wt=ut;(G=(ue=Ce,ve(ae.Rect.Width+ue.Offset.X,lt+ue.Offset.Y,0,Bt,Ce.Rect.Height,ue.Texture,ue.Rect.X,ue.Rect.Y,ue.Rect.Height,ue.Rect.Width)),te=>{te.push(new O(1,[G]))})(wt);let yt;const ct=Ae,Ee=ct;yt=ve(r-ot.Rect.Width+Ee.Offset.X,lt+Ee.Offset.Y,0,ct.Rect.Width,ct.Rect.Height,Ee.Texture,Ee.Rect.X,Ee.Rect.Y,Ee.Rect.Height,Ee.Rect.Width),wt.push(new O(1,[yt]))})}function rd(e,t,n,r,s){return o=>{let i,u,l,c,f;return oe((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,se(w(void 0,""),w(t,0),w(n,0),w(void 0,0),w(void 0,0),w(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),d=>{let _,p,h,g,m,y,E,S;const v=d;(_=ki(e,0,0,r,s,"Window"),P=>{P.push(new O(0,[_]))})(v);const T=v,k=nd(e,"Window Title");(p=(h=k,ve(3+h.Offset.X,3+h.Offset.Y,0,r-6,k.Rect.Height,h.Texture,h.Rect.X,h.Rect.Y,h.Rect.Height,h.Rect.Width)),P=>{P.push(new O(1,[p]))})(T);const F=oe((g=void 0,m=void 0,y=void 0,E=void 0,S=void 0,se(w(void 0,""),w(4,0),w(24,0),w(void 0,0),w(void 0,0),w(void 0,0),g??void 0,m??void 0,y??void 0,E??void 0,S??void 0)),P=>{const D=o();P.push(new O(0,[D]))});T.push(new O(0,[F]))})}}function Gt(e,t,n,r,s){return o=>{let i,u,l,c,f;const d=w(n,Ri(e)),_=w(r,0)|0,p=w(s,0)|0;let h=0;return oe((i=void 0,u=void 0,l=void 0,c=void 0,f=void 0,se(w(t,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),i??void 0,u??void 0,l??void 0,c??void 0,f??void 0)),g=>{be(m=>{let y,E,S,v,T,k,F,P,D;(y=m,y===" "?(h=h+4|0,M=>{}):(E=y==="-"?"Minus":y===":"?void 0:y.toUpperCase(),E!=null?(S=V(1-1,mn(e,`${d}-${E}`).Frames),v=(T=(k=S,F=_+h|0,P=nt(Be),D=k.Layers.length-1|0,(()=>{let M,B;for(let x=0;x<=D;x++){const W=V(x,k.Layers);P.push(new O(1,[(M=W,B=M,ve(F+B.Offset.X,p+B.Offset.Y,0,M.Rect.Width,M.Rect.Height,B.Texture,B.Rect.X,B.Rect.Y,B.Rect.Height,B.Rect.Width))]))}})(),P),M=>{Ft(T,M),Ie(Be,T)}),M=>{v(M),(h=h+V(0,S.Layers).Rect.Width+1|0,B=>{})(M)}):M=>{}))(g)},o.split(""))})}}function sd(e,t,n,r,s,o,i,u){let l,c,f,d,_;return oe((l=void 0,c=void 0,f=void 0,d=s,_=void 0,se(w(o,""),w(i,0),w(u,0),w(void 0,0),w(n,0),w(r,0),l??void 0,c??void 0,f??void 0,d??void 0,_??void 0)),p=>{let h;const g=p;(h=ki(e,0,0,n,r,"Button"),y=>{y.push(new O(0,[h]))})(g);const m=Gt(e,void 0,void 0,10,10)(t);g.push(new O(0,[m]))})}function od(e,t,n,r,s,o){return i=>{let u,l,c,f,d;return oe((u=void 0,l=void 0,c=void 0,f=void 0,d=void 0,se(w(r,""),w(s,0),w(o,0),w(void 0,0),w(void 0,0),w(void 0,0),u??void 0,l??void 0,c??void 0,f??void 0,d??void 0)),_=>{const p=(h=>{const g=w(void 0,()=>()=>ht(a,b));return new dt(w(void 0,""),void 0,(m,y)=>{try{return g(void 0)(void 0)}catch(E){throw E}},(m,y)=>h(m)(void 0))})(h=>()=>(g=>{let m,y,E,S,v;const T=Ss(g,()=>new bt(i,i.length,!1,!1)),k=It(T);k.Active&&Mi(g,D=>{if(D.tag===2){const M=D.fields[0],B=D.fields[1]|0;switch(B){case 259:{if(M&&k.Position>0){const x=qt(k.Value,0,k.Position-1),W=qt(k.Value,k.Position);_e(T,G=>new bt(x+W,G.Position-1,G.Active,G.Shift))}break}case 261:{if(M&&k.Position<k.Value.length){const x=qt(k.Value,0,k.Position),W=qt(k.Value,k.Position+1);_e(T,G=>new bt(x+W,G.Position,G.Active,G.Shift))}break}case 262:{M&&_e(T,x=>new bt(x.Value,ar(x.Value.length,x.Position+1),x.Active,x.Shift));break}case 263:{M&&_e(T,x=>new bt(x.Value,On(0,x.Position-1),x.Active,x.Shift));break}case 340:case 344:{_e(T,x=>new bt(x.Value,x.Position,x.Active,M));break}default:if(M){const x=(W,G)=>{const ue=k.Shift?G:W,Oe=k.Position|0,me=qt(k.Value,0,Oe)+ue+qt(k.Value,Oe);_e(T,He=>new bt(me,Oe+1,He.Active,He.Shift))};switch(B){case 32:{x(" "," ");break}case 39:{x("'","@");break}case 44:{x(",","<");break}case 46:{x(".",">");break}case 47:{x("/","?");break}case 48:{x("0",")");break}case 49:{x("1","!");break}case 50:{x("2",'"');break}case 51:{x("3","£");break}case 52:{x("4","$");break}case 53:{x("5","%");break}case 54:{x("6","^");break}case 55:{x("7","&");break}case 56:{x("8","*");break}case 57:{x("9","(");break}case 59:{x(";",":");break}case 65:{x("a","A");break}case 66:{x("b","B");break}case 67:{x("c","C");break}case 68:{x("d","D");break}case 69:{x("e","E");break}case 70:{x("f","F");break}case 71:{x("g","G");break}case 72:{x("h","H");break}case 73:{x("i","I");break}case 74:{x("j","J");break}case 75:{x("k","K");break}case 76:{x("l","L");break}case 77:{x("m","M");break}case 78:{x("n","N");break}case 79:{x("o","O");break}case 80:{x("p","P");break}case 81:{x("q","Q");break}case 82:{x("r","R");break}case 83:{x("s","S");break}case 84:{x("t","T");break}case 85:{x("u","U");break}case 86:{x("v","V");break}case 87:{x("w","W");break}case 88:{x("x","X");break}case 89:{x("y","Y");break}case 90:{x("z","Z");break}}}}}});const F=Ri(e);let P=0;return oe((m=void 0,y=void 0,E=void 0,S=D=>{_e(T,M=>new bt(M.Value,M.Position,!0,M.Shift))},v=D=>{_e(T,M=>new bt(M.Value,M.Position,!1,M.Shift))},se(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(t,0),w(n,0),m??void 0,y??void 0,E??void 0,S??void 0,v??void 0)),D=>{be(M=>{let B,x,W,G,ue,Oe,me,He,ot,gt,L,$,ae,Ce,Ae,Xe;const We=D,Ue=M|0,le=hl(k.Value,Ue);(le===" "?(P=P+4|0,j=>{}):(B=le==='"'?"Double Quote":le===","?"Comma":le==="-"?"Minus":le==="."?"Full Stop":le===":"?void 0:le==="?"?"Question Mark":le==="@"?"At":le.toUpperCase(),B!=null?(x=B,W=(G=rt(),[gr(xi(e),`${F}-${x}`,new de(()=>G,j=>{G=j})),G]),W[0]?(ue=V(0,W[1].Frames),Oe=(me=(He=ue,ot=P|0,gt=nt(Be),L=He.Layers.length-1|0,(()=>{let j,z;for(let Me=0;Me<=L;Me++){const it=V(Me,He.Layers);gt.push(new O(1,[(j=it,z=j,ve(ot+z.Offset.X,0+z.Offset.Y,0,j.Rect.Width,j.Rect.Height,z.Texture,z.Rect.X,z.Rect.Y,z.Rect.Height,z.Rect.Width))]))}})(),gt),j=>{Ft(me,j),Ie(Be,me)}),j=>{Oe(j),(P=P+V(0,ue.Layers).Rect.Width+1|0,z=>{})(j)}):j=>{}):j=>{}))(We),(k.Active&&Ue===k.Position-1?($=(ae=V(0,mn(e,`${F}-Caret`).Frames),Ce=P-2|0,Ae=nt(Be),Xe=ae.Layers.length-1|0,(()=>{let j,z;for(let Me=0;Me<=Xe;Me++){const it=V(Me,ae.Layers);Ae.push(new O(1,[(j=it,z=j,ve(Ce+z.Offset.X,0+z.Offset.Y,0,j.Rect.Width,j.Rect.Height,z.Texture,z.Rect.X,z.Rect.Y,z.Rect.Height,z.Rect.Width))]))}})(),Ae),j=>{Ft($,j),Ie(Be,$)}):j=>{})(We)},hr(0,1,k.Value.length-1))})})(h));_.push(new O(4,[p]))})}}const eo=10,Se=td();let _r=Ro(0);function Ti(e,t,n){_e(t,r=>_r()),_r(0),df(e,1e3,()=>{Ti(e,t)})}function id(e){return(t=>{const n=w(void 0,()=>()=>ht(a,b));return new dt(w(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u;return oe((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,se(w(void 0,""),w(400,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),l=>{let c,f;(c=bs(n,0),Ci(n,void 0,()=>{Ti(n,c)}),f=Gt(Se,void 0,void 0,10,10)(cr(ul("FPS: %d%P()",[It(c)]))),d=>{d.push(new O(0,[f]))})(l)})})(t))}function ud(e){return(t=>{const n=w(void 0,()=>()=>ht(a,b));return new dt(w(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>rd(Se,10,150,300,200)(()=>{let r,s,o,i,u;return oe((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,se(w(void 0,""),w(10,0),w(10,0),w(void 0,0),w(void 0,0),w(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),l=>{let c,f;const d=l,_=bs(n,!1);(c=sd(Se,"Click",80,32,p=>{_e(_,h=>!h)}),p=>{p.push(new O(0,[c]))})(d),(It(_)?(f=Gt(Se,void 0,void 0,void 0,80)("ON"),p=>{p.push(new O(0,[f]))}):p=>{})(d)})}))(t))}function ld(e){return od(Se,100,100,e,0,400)("SOME TEXT")}function cd(e){return(t=>{const n=w(void 0,()=>()=>ht(a,b));return new dt(w(e,""),void 0,(r,s)=>{try{return n(void 0)(void 0)}catch(o){throw o}},(r,s)=>t(r)(void 0))})(t=>()=>(n=>{let r,s,o,i,u;const l=Ss(n,()=>Ke("Nothing"));return oe((r=void 0,s=void 0,o=void 0,i=void 0,u=void 0,se(w(void 0,""),w(10,0),w(10,0),w(void 0,0),w(void 0,0),w(void 0,0),r??void 0,s??void 0,o??void 0,i??void 0,u??void 0)),c=>{let f,d,_,p,h,g;const m=c;(f=Gt(Se)(A(It(l))),E=>{E.push(new O(0,[f]))})(m);const y=oe((d=void 0,_=E=>{_e(l,S=>Xr(Ke("Outer"),S))},p=E=>{_e(l,S=>Y(S)?Je():N(S))},h=void 0,g=void 0,se(w("Outer",""),w(0,0),w(40,0),w(void 0,0),w(118,0),w(100,0),d??void 0,_??void 0,p??void 0,h??void 0,g??void 0)),E=>{let S,v,T,k,F,P;const D=E;(S=Gt(Se)("Outer"),B=>{B.push(new O(0,[S]))})(D);const M=oe((v=void 0,T=B=>{_e(l,x=>Xr(Ke("Inner"),x))},k=B=>{_e(l,x=>Y(x)?Je():N(x))},F=void 0,P=void 0,se(w("Inner",""),w(0,0),w(40,0),w(void 0,0),w(118,0),w(19,0),v??void 0,T??void 0,k??void 0,F??void 0,P??void 0)),B=>{const x=Gt(Se)("Inner");B.push(new O(0,[x]))});D.push(new O(0,[M]))});m.push(new O(0,[y]))})})(t))}class ad extends U{constructor(t,n,r,s){super(),this.X=t,this.Y=n,this.Width=r,this.Height=s}}class fd extends U{constructor(t,n,r){super(),this.X=t,this.Y=n,this.Radius=r}}function dd(e,t){let n,r;const s=e.X+e.Width/2,o=e.Y+e.Height/2,i=Math.abs(t.X-s),u=Math.abs(t.Y-o);return i>e.Width/2+t.Radius||u>e.Height/2+t.Radius?!1:i<=e.Width/2||u<=e.Height/2?!0:(n=i-e.Width/2,Math.pow(n,2)+(r=u-e.Height/2,Math.pow(r,2))<=Math.pow(t.Radius,2))}function je(e,t){if(Math.abs(e+360-(t+360))<15)return Ve(void 0)}function hd(e,t,n,r,s){const o=Jc(r),i=l=>{if(!$e(l,qr())){const c=ea(ta(l,t),n),f=new fd(c.X,c.Y,s),d=ar(~~Math.floor(n.X-s),~~Math.floor(c.X-s))|0,_=On(~~Math.ceil(n.X+s),~~Math.ceil(c.X+s))|0,p=ar(~~Math.floor(n.Y-s),~~Math.floor(c.Y-s))|0,h=On(~~Math.ceil(n.Y+s),~~Math.ceil(c.Y+s))|0;let g=!0;for(let m=d;m<=_;m++)for(let y=p;y<=h;y++)g&&!e(new Le(m,y))&&dd(new ad(m,y,1,1),f)&&(g=!1);return g?c:void 0}},u=i(o);if(u!=null)return u;{let l;const c=(g,m)=>e(new Le(g,m)),f=g=>~~Math.floor(g),d=f(n.X)|0,_=f(n.Y)|0,p=Zs(n.X-d),h=Zs(n.Y-_);if(l==null){const g=i(new Q(o.X,0));if(g!=null){const m=g;dr(n,m).Distance>.2*t&&(l=m)}else{const m=i(new Q(0,o.Y));if(m!=null){const y=m;dr(n,y).Distance>.2*t&&(l=y)}}}if(l==null){const g=r.Angle;if(je(90,g)!=null){if(h>=.5&&c(d+1,_)){const m=i(new Q(0,-1));m!=null&&(l=m)}else if(h<=.5&&c(d+1,_)){const m=i(new Q(0,1));m!=null&&(l=m)}}else if(je(270,g)!=null){if(h>=.5&&c(d-1,_)){const m=i(new Q(0,-1));m!=null&&(l=m)}else if(h<=.5&&c(d-1,_)){const m=i(new Q(0,1));m!=null&&(l=m)}}else if(je(180,g)!=null){if(p>=.5&&c(d,_+1)){const m=i(new Q(-1,0));m!=null&&(l=m)}else if(p<=.5&&c(d,_+1)){const m=i(new Q(1,0));m!=null&&(l=m)}}else if(je(0,g)!=null){if(p>=.5&&c(d,_-1)){const m=i(new Q(-1,0));m!=null&&(l=m)}else if(p<=.5&&c(d,_-1)){const m=i(new Q(1,0));m!=null&&(l=m)}}}if(l==null){const g=r.Angle;let m;switch(je(90,g)!=null&&h<.4&&c(d,_-1)&&c(d+1,_-1)?m=0:m=1,m){case 0:{const y=i(new Q(0,-1));y!=null&&(l=y);break}case 1:{let y;switch(je(90,g)!=null&&h>.6&&c(d,_+1)&&c(d+1,_+1)?y=0:y=1,y){case 0:{const E=i(new Q(0,1));E!=null&&(l=E);break}case 1:{let E;switch(je(270,g)!=null&&h<.4&&c(d,_-1)&&c(d-1,_-1)?E=0:E=1,E){case 0:{const S=i(new Q(0,-1));S!=null&&(l=S);break}case 1:{let S;switch(je(270,g)!=null&&h>.6&&c(d,_+1)&&c(d-1,_+1)?S=0:S=1,S){case 0:{const v=i(new Q(0,1));v!=null&&(l=v);break}case 1:{let v;switch(je(180,g)!=null&&p<.4&&c(d-1,_)&&c(d-1,_+1)?v=0:v=1,v){case 0:{const T=i(new Q(-1,0));T!=null&&(l=T);break}case 1:{let T;switch(je(180,g)!=null&&p>.6&&c(d+1,_)&&c(d+1,_+1)?T=0:T=1,T){case 0:{const k=i(new Q(1,0));k!=null&&(l=k);break}case 1:{let k;switch(je(0,g)!=null&&p<.4&&c(d-1,_)&&c(d-1,_-1)?k=0:k=1,k){case 0:{const F=i(new Q(-1,0));F!=null&&(l=F);break}case 1:{let F;switch(je(0,g)!=null&&p>.6&&c(d+1,_)&&c(d+1,_-1)?F=0:F=1,F){case 0:{const P=i(new Q(1,0));P!=null&&(l=P);break}}break}}break}}break}}break}}break}}break}}break}}}return l??n}}function pe(){return Je()}function _d(e,t,n,r){return(s=>{const o=w(void 0,()=>()=>ht(a,b));return new dt(w(e,""),void 0,(i,u)=>{try{return o(void 0)(void 0)}catch(l){throw l}},(i,u)=>s(i)(void 0))})(s=>()=>(o=>{const i=Ss(o,()=>new Vr(0,[t()])),u=bs(o,f=>{}),l=f=>{It(u)(f)};Ci(o,void 0,()=>{let f;const d=It(i);if(d.tag===0)_e(i,p=>new Vr(1,[d.fields[0][0]])),f=d.fields[0][1];else throw new Error("");_e(u,p=>h=>{const g=It(i);if(g.tag===1){const m=n(h,g.fields[0]);_e(i,E=>new Vr(1,[m[0]]));const y=Z(m[1]);try{for(;y["System.Collections.IEnumerator.MoveNext"]();)y["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{ie(y)}}else throw new Error("")});const _=Z(f);try{for(;_["System.Collections.IEnumerator.MoveNext"]();)_["System.Collections.Generic.IEnumerator`1.get_Current"]()(l)}finally{ie(_)}});const c=It(i);if(c.tag===1)return r(c.fields[0],l);throw new Error("")})(s))}class md extends U{constructor(t,n,r,s,o){super(),this.Up=t,this.Down=n,this.Left=r,this.Right=s,this.A=o}}class pd extends U{constructor(t,n){super(),this.Thumbstick=t,this.Buttons=n}}class Pe extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Gound","Wall","Cauldron"]}}class gd extends U{constructor(t,n,r,s){super(),this.X=t|0,this.Y=n|0,this.Time=r,this.Delay=s}}class wd extends U{constructor(t,n,r){super(),this.X=t|0,this.Y=n|0,this.Fuse=r}}class yd extends U{constructor(t,n,r){super(),this.Explosions=t,this.Bombs=n,this.UpdateCounter=r}}function $r(e){e.UpdateCounter=Hn(Fo(e.UpdateCounter,1n))}class bd extends U{constructor(t,n,r){super(),this.Grid=t,this.WorldObjects=n,this.UpdateCounter=r}}class er extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Normal","Bomb"]}}class Sd extends U{constructor(t,n,r,s,o,i){super(),this.Position=t,this.Angle=n,this.Tag=r,this.Frame=s,this.UpdateCounter=o,this.Mode=i}}function Sn(e){e.UpdateCounter=Hn(Fo(e.UpdateCounter,1n))}class Cd extends U{constructor(t){super(),this.Player1=t}}class rs extends U{constructor(t,n,r,s){super(),this.Controller=t,this.World=n,this.Players=r,this.IsActive=s}}class Xt extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["Noop","Input","Focus","Blur","Tick","GetBomb","DropBomb"]}}function Md(){let e,t;const n=As(8,r=>As(8,s=>new Pe(0,[])));return V(0,n)[0]=new Pe(2,[]),V(1,n)[1]=new Pe(1,[]),V(3,n)[1]=new Pe(1,[]),V(1,n)[3]=new Pe(1,[]),V(2,n)[3]=new Pe(1,[]),V(3,n)[3]=new Pe(1,[]),V(4,n)[3]=new Pe(1,[]),V(5,n)[4]=new Pe(1,[]),V(5,n)[5]=new Pe(1,[]),V(5,n)[3]=new Pe(1,[]),V(1,n)[5]=new Pe(1,[]),V(2,n)[5]=new Pe(1,[]),V(3,n)[5]=new Pe(1,[]),[(e=new bd(n,new yd([],[],0n),0n),t=new Cd(new Sd(new Q(1.5,.5),"South","Idle",0,0n,new er(0,[]))),new rs(new pd(Kr(),new md(!1,!1,!1,!1,!1)),e,t,!1)),vl([Ke(r=>{r(new Xt(4,[]))})])]}function vi(e,t){const n=Gr(t.Y,e.World.Grid);if(n!=null)return Gr(t.X,n)}function Ed(e,t){const n=vi(e,t);return n!=null?n.tag===0:!1}function xd(e,t){let n,r,s,o,i,u,l,c,f,d,_;switch(e.tag){case 4:{const p=t.Players.Player1,h=D=>Ed(t,D);let g;const m=t.Controller.Buttons,y=t.Controller.Thumbstick;let E=Kr(),S=0,v=0;if(m.Up&&(S=S-1),m.Down&&(S=S+1),m.Left&&(v=v-1),m.Right&&(v=v+1),(S!==0||v!==0)&&(E=new Pn(dr(qr(),new Q(v,S)).Angle,1)),y.Distance>0&&(E=(n=y,new Pn(n.Angle,(D=>ar(D,1))(n.Distance)))),g=E,g.Distance>0){const D=eo/200;p.Position=hd(h,D,p.Position,g,.4),p.Angle=(r=Qc(g).Angle,r===0?"North":r===90?"East":r===180?"South":"West"),g.Distance>0?(p.Tag="Run",p.Frame=(p.Frame+g.Distance*D*4)%8):(p.Tag="Idle",p.Frame=0),Sn(p)}else p.Tag!=="Idle"&&(p.Tag="Idle",p.Frame=0,Sn(p));$r(t.World.WorldObjects);const T=t.World.WorldObjects.Explosions;for(let D=0;D<=T.length-1;D++){const M=V(D,T);M.Time=M.Time+.2}const k=(D,M)=>h(new Le(D,M)),F=(D,M,B)=>new gd(D,M,0,B),P=t.World.WorldObjects.Bombs;for(let D=0;D<=P.length-1;D++){const M=V(D,P);M.Fuse=M.Fuse-.1,M.Fuse<=0&&(t.World.WorldObjects.Explosions=Os(t.World.WorldObjects.Explosions,jo(re(()=>{let B=!1,x=!1,W=!1,G=!1;return k(M.X,M.Y)?ke(Re(F(M.X,M.Y,0)),re(()=>ke(k(M.X+1,M.Y)?ke(Re(F(M.X+1,M.Y,2)),re(()=>(W=!0,k(M.X+2,M.Y)?Re(F(M.X+2,M.Y,4)):xe()))):xe(),re(()=>ke(k(M.X-1,M.Y)?ke(Re(F(M.X-1,M.Y,2)),re(()=>(G=!0,k(M.X-2,M.Y)?Re(F(M.X-2,M.Y,4)):xe()))):xe(),re(()=>ke(k(M.X,M.Y+1)?ke(Re(F(M.X,M.Y+1,2)),re(()=>(x=!0,k(M.X,M.Y+2)?Re(F(M.X,M.Y+2,4)):xe()))):xe(),re(()=>ke(k(M.X,M.Y-1)?ke(Re(F(M.X,M.Y-1,2)),re(()=>(B=!0,k(M.X,M.Y-2)?Re(F(M.X,M.Y-2,4)):xe()))):xe(),re(()=>ke(k(M.X+1,M.Y+1)&&x&&W?Re(F(M.X+1,M.Y+1,4)):xe(),re(()=>ke(k(M.X+1,M.Y-1)&&B&&W?Re(F(M.X+1,M.Y-1,4)):xe(),re(()=>ke(k(M.X-1,M.Y+1)&&x&&G?Re(F(M.X-1,M.Y+1,4)):xe(),re(()=>k(M.X-1,M.Y-1)&&B&&G?Re(F(M.X-1,M.Y-1,4)):xe())))))))))))))))):xe()}))))}return t.World.WorldObjects.Bombs=(s=t.World.WorldObjects.Bombs,s.filter(D=>D.Fuse>0)),$r(t.World.WorldObjects),t.World.WorldObjects.Explosions=(o=t.World.WorldObjects.Explosions,o.filter(D=>D.Time-D.Delay<=13)),[t,Ke(D=>{hf(eo,()=>{D((()=>new Xt(4,[]))())})})]}case 1:{const p=e.fields[0];switch(p.tag){case 0:return t.Controller.Thumbstick=dr(qr(),new Q(p.fields[0],p.fields[1])),[t,pe()];case 1:{const h=p.fields[0];switch(p.fields[1].tag){case 2:return t.Controller.Buttons.Left=h,[t,pe()];case 1:return t.Controller.Buttons.Down=h,[t,pe()];case 3:return t.Controller.Buttons.Right=h,[t,pe()];default:return t.Controller.Buttons.Up=h,[t,pe()]}}default:{const h=p.fields[0];switch(p.fields[1]|0){case 32:return h?$e(t.Players.Player1.Mode,new er(0,[]))?[t,Ke(m=>{m(new Xt(5,[]))})]:[t,Ke(m=>{m(new Xt(6,[]))})]:[t,pe()];case 65:case 263:return t.Controller.Buttons.Left=h,[t,pe()];case 68:case 262:return t.Controller.Buttons.Right=h,[t,pe()];case 83:case 264:return t.Controller.Buttons.Down=h,[t,pe()];case 87:case 265:return t.Controller.Buttons.Up=h,[t,pe()];default:return[t,pe()]}}}}case 2:{const p=new rs(t.Controller,t.World,t.Players,!0);return Sn(p.Players.Player1),[p,pe()]}case 3:{const p=new rs(t.Controller,t.World,t.Players,!1),h=p.Controller.Buttons;return h.Up=!1,h.Left=!1,h.Down=!1,h.Right=!1,h.A=!1,p.Controller.Thumbstick=Kr(),[p,pe()]}case 5:{const p=vi(t,(i=(u=t.Players.Player1.Position.X,~~Math.floor(u)|0),l=(c=t.Players.Player1.Position.Y,~~Math.floor(c)|0),f=t.Players.Player1.Angle,f==="North"?new Le(i,l-1):f==="South"?new Le(i,l+1):f==="East"?new Le(i+1,l):f==="West"?new Le(i-1,l):new Le(0,0)));let h;switch(p!=null&&p.tag===2?h=0:h=1,h){case 0:{t.Players.Player1.Mode=new er(1,[]),Sn(t.Players.Player1);break}}return[t,pe()]}case 6:{const p=t.Players.Player1,h=(d=p.Position.X,~~Math.floor(d)|0),g=(_=p.Position.Y,~~Math.floor(_)|0);return t.World.WorldObjects.Bombs=Os(t.World.WorldObjects.Bombs,[new wd(h,g,10)]),$r(t.World.WorldObjects),t.Players.Player1.Mode=new er(0,[]),Sn(t.Players.Player1),[t,pe()]}default:return[t,pe()]}}function zn(e,t,n,r){return $e(t,r)}function Rd(e){let t,n,r,s,o;return oe((t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),t??void 0,n??void 0,r??void 0,s??void 0,o??void 0)),i=>{const u=on(un(),l=>{be(c=>{let f,d,_,p,h,g;const m=c|0,y=oe((f=m*32,d=void 0,_=void 0,p=void 0,h=void 0,g=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(f,0),w(void 0,0),w(void 0,0),d??void 0,_??void 0,p??void 0,h??void 0,g??void 0)),E=>{const S=V(m,e.Grid);be(v=>{let T,k,F;const P=E,D=v|0,M=V(D,S),B=D*32|0,x=m*32|0;(T=In(Se,"Earth",1,[B,x]),W=>{Ft(T,W),Ie(Be,T)})(P),(M.tag===2?(k=In(Se,"Cauldron",1,[B,x]),W=>{Ft(k,W),Ie(Be,k)}):M.tag===0?W=>{}:(F=In(Se,"Wall",1,[B,x]),W=>{Ft(F,W),Ie(Be,F)}))(P)},hr(0,1,S.length-1))});l.push(new O(0,[y]))},hr(0,1,e.Grid.length-1))});i.push(new O(2,[u]))})}function kd(e){let t,n,r,s,o,i,u,l;const c=mn(Se,`Player-${e.Angle}-${e.Tag}`),f=V(~~e.Frame+1-1,c.Frames);let d;return d=e.Mode.tag===1?"Bomb":"Normal",oe((t=~~(e.Position.X*32)-16,n=~~(e.Position.Y*32)-16,r=~~((e.Position.Y+.4)*32),s=void 0,o=void 0,i=void 0,u=void 0,l=void 0,se(w(void 0,""),w(t,0),w(n,0),w(r,0),w(void 0,0),w(void 0,0),s??void 0,o??void 0,i??void 0,u??void 0,l??void 0)),p=>{const h=on(un(),g=>{be(m=>{let y,E,S,v;(y=V(m,f.Layers),gl(d,y.MetaData,{Equals:(T,k)=>T===k,GetHashCode:mr})?(E=(S=y,v=S,ve(0+v.Offset.X,0+v.Offset.Y,0,S.Rect.Width,S.Rect.Height,v.Texture,v.Rect.X,v.Rect.Y,v.Rect.Height,v.Rect.Width)),T=>{T.push(new O(1,[E]))}):T=>{})(g)},hr(0,1,f.Layers.length-1))});p.push(new O(2,[h]))})}function Td(e,t){let n,r,s,o,i,u,l;return oe((n=e.World.Grid.length*32,r=V(0,e.World.Grid).length*32,s=void 0,o=void 0,i=void 0,u=c=>{t(new Xt(2,[]))},l=c=>{t(new Xt(3,[]))},se(w(void 0,""),w(400,0),w(100,0),w(1,0),w(n,0),w(r,0),s??void 0,o??void 0,i??void 0,u??void 0,l??void 0)),c=>{const f=yi(wi(w(void 0,""),d=>{const _=d;return new kr(_.Time,_.Resolution,_.Offset,_.VertexBuffer,_.TextureDetails,_.TextureLayer,[0,256])}),d=>{let _,p,h,g,m,y,E;const S=d;(_=(p=w(void 0,T=>k=>ht(T,k)),new dt(w("input",""),e.IsActive,(T,k)=>{try{return p(T)(k)}catch(F){throw F}},(T,k)=>((F,P)=>{let D,M,B,x,W;return ff(F,()=>new af),P&&Mi(F,G=>{t(new Xt(1,[G]))}),oe((D=void 0,M=void 0,B=void 0,x=void 0,W=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),D??void 0,M??void 0,B??void 0,x??void 0,W??void 0)),G=>{const ue=on(un(),Oe=>{const me=Gt(Se)(P?"Active":"Click on the world to activate");Oe.push(new O(0,[me]))});G.push(new O(2,[ue]))})})(T,k))),T=>{T.push(new O(4,[_]))})(S);const v=oe((h=void 0,g=void 0,m=void 0,y=void 0,E=void 0,se(w("world holder",""),w(void 0,0),w(64,0),w(void 0,0),w(void 0,0),w(void 0,0),h??void 0,g??void 0,m??void 0,y??void 0,E??void 0)),T=>{let k,F,P,D,M,B,x,W,G;const ue=T;(k=(F=[e.World,e.World.UpdateCounter],P=w(L=>$=>zn(L[0],L[1],$[0],$[1]),L=>$=>ht(L,$)),new dt(w("world",""),F,(L,$)=>{try{return P(L)($)}catch(ae){throw ae}},(L,$)=>((ae,Ce)=>Rd(Ce[0]))(L,$))),L=>{L.push(new O(4,[k]))})(ue);const Oe=ue;(D=(M=[e.Players.Player1,e.Players.Player1.UpdateCounter],B=w(L=>$=>zn(L[0],L[1],$[0],$[1]),L=>$=>ht(L,$)),new dt(w("player",""),M,(L,$)=>{try{return B(L)($)}catch(ae){throw ae}},(L,$)=>((ae,Ce)=>kd(Ce[0]))(L,$))),L=>{L.push(new O(4,[D]))})(Oe);const me=Oe;(x=(W=[e.World.WorldObjects.Explosions,e.World.WorldObjects.UpdateCounter],G=w(L=>$=>zn(L[0],L[1],$[0],$[1]),L=>$=>ht(L,$)),new dt(w("Explosion",""),W,(L,$)=>{try{return G(L)($)}catch(ae){throw ae}},(L,$)=>((ae,Ce)=>{let Ae,Xe,We,Ue,le;return oe((Ae=void 0,Xe=void 0,We=void 0,Ue=void 0,le=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Ae??void 0,Xe??void 0,We??void 0,Ue??void 0,le??void 0)),j=>{const z=on(un(),Me=>{be(it=>{let Ze,ut,Bt,lt,wt,yt,ct,Ee,te,gn,wn,Zt;(Ze=it,ut=(Bt=Ze.Time-Ze.Delay,~~Math.floor(Bt)+1|0),ut>=1&&ut<=12?(lt=oe((wt=Ze.X*32,yt=Ze.Y*32,ct=Ze.Y*32+31,Ee=void 0,te=void 0,gn=void 0,wn=void 0,Zt=void 0,se(w(void 0,""),w(wt,0),w(yt,0),w(ct,0),w(void 0,0),w(void 0,0),Ee??void 0,te??void 0,gn??void 0,wn??void 0,Zt??void 0)),Nn=>{const Ms=In(Se,"Explosion3",ut,[0,0]);Ft(Ms,Nn),Ie(Be,Ms)}),Nn=>{Nn.push(new O(0,[lt]))}):Nn=>{})(Me)},Ce[0])});j.push(new O(2,[z]))})})(L,$))),L=>{L.push(new O(4,[x]))})(me);let He;const ot=[e.World.WorldObjects.Bombs,e.World.WorldObjects.UpdateCounter],gt=w(L=>$=>zn(L[0],L[1],$[0],$[1]),L=>$=>ht(L,$));He=new dt(w("Bombs",""),ot,(L,$)=>{try{return gt(L)($)}catch(ae){throw ae}},(L,$)=>((ae,Ce)=>{let Ae,Xe,We,Ue,le;return oe((Ae=void 0,Xe=void 0,We=void 0,Ue=void 0,le=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),w(void 0,0),Ae??void 0,Xe??void 0,We??void 0,Ue??void 0,le??void 0)),j=>{const z=on(un(),Me=>{be(it=>{let Ze,ut,Bt,lt,wt,yt,ct,Ee;const te=it,gn=oe((Ze=te.X*32,ut=te.Y*32,Bt=te.Y*32+31,lt=void 0,wt=void 0,yt=void 0,ct=void 0,Ee=void 0,se(w(void 0,""),w(Ze,0),w(ut,0),w(Bt,0),w(void 0,0),w(void 0,0),lt??void 0,wt??void 0,yt??void 0,ct??void 0,Ee??void 0)),wn=>{const Zt=In(Se,"Bomb",1,[0,0]);Ft(Zt,wn),Ie(Be,Zt)});Me.push(new O(0,[gn]))},Ce[0])});j.push(new O(2,[z]))})})(L,$)),me.push(new O(4,[He]))});S.push(new O(0,[v]))});c.push(new O(3,[f]))})}function vd(e){return _d(e,Md,xd,Td)}class I extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class Di extends Fe{constructor(t,n){super(),this.tag=t,this.fields=n}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class Ii extends U{constructor(t,n){super(),this.Hash=t,this.Coders=n}}class Dd{constructor(){this.cache=new Map([])}}function Id(){return new Dd}function Vd(e,t,n){let r,s=rt();if(r=[gr(e.cache,t,new de(()=>s,o=>{s=o})),s],r[0])return r[1];{const o=n();return Vu(e.cache,t,o),o}}const Fd=Id();function to(e){return e.slice(void 0,0+1).toLowerCase()+e.slice(1,e.length)}function Od(e,t){switch(e.tag){case 2:return ol(to(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return to(t)}}const Ad=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,no=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,Pd=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Ld(e){function t(r){return r.replace(no,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(Ad.test(n))return _l(n,"{","}","(",")");if(no.test(n))return t(n);if(Pd.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}function Bd(e,t){try{return t.contents=Ld(e),!0}catch{return!1}}function $d(){let e="";for(let t=0;t++<36;)e+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-";return e}var ss;(function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"})(ss||(ss={}));function Hd(e,t){const[,n,r,s]=e;return{sign:n||"",prefix:r||"",digits:s,radix:t}}function ro(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function Wd(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}function Ud(e){switch(e){case 2:return"0b";case 8:return"0o";case 10:return"";case 16:return"0x";default:return""}}function Nd(e,t){if(t&ss.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}function Vi(e,t,n){const s=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(s!=null){const[,,o,i]=s;if(n=n||Nd(o,t),!Wd(n).test(i))return Hd(s,n)}return null}function Yd(e,t,n,r,s){const o=Vi(e,t,s);if(o!=null){let i=Number.parseInt(o.sign+o.digits,o.radix);if(!Number.isNaN(i)){const[u,l]=ro(!0,r);!n&&o.radix!==10&&i>=u&&i<=l&&(i=i<<32-r>>32-r);const[c,f]=ro(n,r);if(i>=c&&i<=f)return i}}throw new Error(`The input string ${e} was not in a correct format.`)}function pn(e,t,n,r,s){try{return s.contents=Yd(e,t,n,r),!0}catch{return!1}}function Gd(e,t,n){switch(t){case 2:return e?"1111111111111111111111111111111111111111111111111111111111111111":n?"1000000000000000000000000000000000000000000000000000000000000000":"111111111111111111111111111111111111111111111111111111111111111";case 8:return e?"1777777777777777777777":n?"1000000000000000000000":"777777777777777777777";case 10:return e?"18446744073709551615":n?"9223372036854775808":"9223372036854775807";case 16:return e?"FFFFFFFFFFFFFFFF":n?"8000000000000000":"7FFFFFFFFFFFFFFF";default:throw new Error("Invalid radix.")}}function Xd(e,t,n,r,s){const o=Vi(e,t,s);if(o!=null){const i=(c,f)=>{const d=Math.max(c.length,f.length);return c.padStart(d,"0")<=f.padStart(d,"0")},u=o.sign==="-",l=Gd(n||o.radix!==10,o.radix,u);if(i(o.digits.toUpperCase(),l))return e=Ud(o.radix)+o.digits,e=u?o.sign+e:e,$u(e)}throw new Error(`The input string ${e} was not in a correct format.`)}function Zd(e,t,n,r,s){try{return s.contents=Xd(e,t,n,r),!0}catch{return!1}}function Fi(e,t){jd(t);const n=new Date(e);return n.offset=t??new Date().getTimezoneOffset()*-6e4,n}function jd(e){if(e!=null&&e!==0){if(e%6e4!==0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}function Kd(){return Fi(-621355968e5,0)}function qd(e){const[t,n]=Po(e),r=n==null?t.getTimezoneOffset()*-6e4:n==="Z"?0:n*6e4;return Fi(t.getTime(),r)}function zd(e,t){try{return t.contents=qd(e),!0}catch{return!1}}class Oi{constructor(t){this.k=t}}function Ye(e){return new Oi(e)}function H(e){return e.k}class X extends Oi{constructor(t,n,r,s){super(t),this.left=n,this.right=r,this.h=s|0}}function Ge(e,t,n,r){return new X(e,t,n,r)}function J(e){return e.left}function q(e){return e.right}function nn(e){return e.h}function Ai(e,t){e:for(;;){const n=e,r=t;if(n!=null){const s=R(n);if(s instanceof X){const o=s;e=J(o),t=Ai(q(o),r+1);continue e}else return r+1|0}else return r|0}}function Jd(e){return Ai(e,0)}function et(e,t,n){let r,s,o;const i=e;if(i!=null){const f=R(i);o=f instanceof X?(r=f,nn(r)):1}else o=0;let u;const l=n;if(l!=null){const f=R(l);u=f instanceof X?(s=f,nn(s)):1}else u=0;const c=(o<u?u:o)|0;return c===0?Ye(t):Ge(t,e,n,c+1)}function so(e,t,n){let r,s,o,i,u,l,c,f,d;const _=e;if(_!=null){const g=R(_);d=g instanceof X?(r=g,nn(r)):1}else d=0;let p;const h=n;if(h!=null){const g=R(h);p=g instanceof X?(s=g,nn(s)):1}else p=0;if(p>d+2){const g=R(n);if(g instanceof X){const m=g;if(o=J(m),(o!=null?(i=R(o),i instanceof X?(u=i,nn(u)):1):0)>d+1){const y=R(J(m));if(y instanceof X){const E=y;return et(et(e,t,J(E)),H(E),et(q(E),H(m),q(m)))}else throw new Error("internal error: Set.rebalance")}else return et(et(e,t,J(m)),H(m),q(m))}else throw new Error("internal error: Set.rebalance")}else if(d>p+2){const g=R(e);if(g instanceof X){const m=g;if(l=q(m),(l!=null?(c=R(l),c instanceof X?(f=c,nn(f)):1):0)>p+1){const y=R(q(m));if(y instanceof X){const E=y;return et(et(J(m),H(m),J(E)),H(E),et(q(E),t,n))}else throw new Error("internal error: Set.rebalance")}else return et(J(m),H(m),et(q(m),t,n))}else throw new Error("internal error: Set.rebalance")}else return et(e,t,n)}function Ln(e,t,n){if(n!=null){const r=R(n),s=e.Compare(t,H(r))|0;if(r instanceof X){const o=r;return s<0?so(Ln(e,t,J(o)),H(o),q(o)):s===0?n:so(J(o),H(o),Ln(e,t,q(o)))}else{const o=e.Compare(t,H(r))|0;return o<0?Ge(t,void 0,n,2):o===0?n:Ge(t,n,void 0,2)}}else return Ye(t)}function Pi(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o!=null){const i=R(o),u=r.Compare(s,H(i))|0;if(i instanceof X){const l=i;if(u<0){e=r,t=s,n=J(l);continue e}else{if(u===0)return!0;e=r,t=s,n=q(l);continue e}}else return u===0}else return!1}}function Li(e,t){e:for(;;){const n=e,r=t;if(r!=null){const s=R(r);if(s instanceof X){const o=s;Li(n,J(o)),n(H(o)),e=n,t=q(o);continue e}else n(H(s))}break}}class Qd extends U{constructor(t,n){super(),this.stack=t,this.started=n}}function Bi(e){e:for(;;){const t=e;if(Y(t))return Je();{const n=A(t),r=N(t);if(n!=null){const s=R(n);if(s instanceof X){const o=s;e=ne([J(o),Ye(H(o)),q(o)],r);continue e}else return t}else{e=r;continue e}}}}function oo(e){return new Qd(Bi(Ke(e)),!1)}function e0(){throw new Error("Enumeration not started")}function t0(){throw new Error("Enumeration already started")}function io(e){if(e.started){const t=e.stack;if(Y(t))return t0();if(A(t)!=null){const n=R(A(t));return H(n)}else throw new Error("Please report error: Set iterator, unexpected stack for current")}else return e0()}function n0(e){if(e.started){const t=e.stack;if(Y(t))return!1;if(A(t)!=null){if(R(A(t))instanceof X)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=Bi(N(t)),!Y(e.stack)}else throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}else return e.started=!0,!Y(e.stack)}function uo(e){let t=oo(e);return{"System.Collections.Generic.IEnumerator`1.get_Current"(){return io(t)},"System.Collections.IEnumerator.get_Current"(){return io(t)},"System.Collections.IEnumerator.MoveNext"(){return n0(t)},"System.Collections.IEnumerator.Reset"(){t=oo(e)},Dispose(){}}}function r0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(Y(s))return Y(o)?0:-1;if(Y(o))return 1;if(A(o)!=null)if(A(s)!=null){const i=R(A(s)),u=R(A(o));if(i instanceof X){const l=i;if(J(l)==null)if(u instanceof X){const c=u;if(J(c)==null){const f=r.Compare(H(l),H(c))|0;if(f!==0)return f|0;e=r,t=ft(q(l),N(s)),n=ft(q(c),N(o));continue e}else{let f,d,_,p,h;switch(Y(s)?Y(o)?f=2:A(o)!=null?(f=1,p=N(o),h=R(A(o))):f=2:A(s)!=null?(f=0,d=N(s),_=R(A(s))):Y(o)?f=2:A(o)!=null?(f=1,p=N(o),h=R(A(o))):f=2,f){case 0:if(_ instanceof X){const g=_;e=r,t=ne([J(g),Ge(H(g),void 0,q(g),0)],d),n=o;continue e}else{e=r,t=ne([void 0,Ye(H(_))],d),n=o;continue e}case 1:if(h instanceof X){const g=h;e=r,t=s,n=ne([J(g),Ge(H(g),void 0,q(g),0)],p);continue e}else{e=r,t=s,n=ne([void 0,Ye(H(h))],p);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const c=r.Compare(H(l),H(u))|0;if(c!==0)return c|0;e=r,t=ft(q(l),N(s)),n=ft(void 0,N(o));continue e}else{let c,f,d,_,p;switch(Y(s)?Y(o)?c=2:A(o)!=null?(c=1,_=N(o),p=R(A(o))):c=2:A(s)!=null?(c=0,f=N(s),d=R(A(s))):Y(o)?c=2:A(o)!=null?(c=1,_=N(o),p=R(A(o))):c=2,c){case 0:if(d instanceof X){const h=d;e=r,t=ne([J(h),Ge(H(h),void 0,q(h),0)],f),n=o;continue e}else{e=r,t=ne([void 0,Ye(H(d))],f),n=o;continue e}case 1:if(p instanceof X){const h=p;e=r,t=s,n=ne([J(h),Ge(H(h),void 0,q(h),0)],_);continue e}else{e=r,t=s,n=ne([void 0,Ye(H(p))],_);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else if(u instanceof X){const l=u;if(J(l)==null){const c=r.Compare(H(i),H(l))|0;if(c!==0)return c|0;e=r,t=ft(void 0,N(s)),n=ft(q(l),N(o));continue e}else{let c,f,d,_,p;switch(Y(s)?Y(o)?c=2:A(o)!=null?(c=1,_=N(o),p=R(A(o))):c=2:A(s)!=null?(c=0,f=N(s),d=R(A(s))):Y(o)?c=2:A(o)!=null?(c=1,_=N(o),p=R(A(o))):c=2,c){case 0:if(d instanceof X){const h=d;e=r,t=ne([J(h),Ge(H(h),void 0,q(h),0)],f),n=o;continue e}else{e=r,t=ne([void 0,Ye(H(d))],f),n=o;continue e}case 1:if(p instanceof X){const h=p;e=r,t=s,n=ne([J(h),Ge(H(h),void 0,q(h),0)],_);continue e}else{e=r,t=s,n=ne([void 0,Ye(H(p))],_);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{const l=r.Compare(H(i),H(u))|0;if(l!==0)return l|0;e=r,t=N(s),n=N(o);continue e}}else{R(A(o));let i,u,l,c,f;switch(Y(s)?Y(o)?i=2:A(o)!=null?(i=1,c=N(o),f=R(A(o))):i=2:A(s)!=null?(i=0,u=N(s),l=R(A(s))):Y(o)?i=2:A(o)!=null?(i=1,c=N(o),f=R(A(o))):i=2,i){case 0:if(l instanceof X){const d=l;e=r,t=ne([J(d),Ge(H(d),void 0,q(d),0)],u),n=o;continue e}else{e=r,t=ne([void 0,Ye(H(l))],u),n=o;continue e}case 1:if(f instanceof X){const d=f;e=r,t=s,n=ne([J(d),Ge(H(d),void 0,q(d),0)],c);continue e}else{e=r,t=s,n=ne([void 0,Ye(H(f))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else if(A(s)!=null){R(A(s));let i,u,l,c,f;switch(Y(s)?Y(o)?i=2:A(o)!=null?(i=1,c=N(o),f=R(A(o))):i=2:A(s)!=null?(i=0,u=N(s),l=R(A(s))):Y(o)?i=2:A(o)!=null?(i=1,c=N(o),f=R(A(o))):i=2,i){case 0:if(l instanceof X){const d=l;e=r,t=ne([J(d),Ge(H(d),void 0,q(d),0)],u),n=o;continue e}else{e=r,t=ne([void 0,Ye(H(l))],u),n=o;continue e}case 1:if(f instanceof X){const d=f;e=r,t=s,n=ne([J(d),Ge(H(d),void 0,q(d),0)],c);continue e}else{e=r,t=s,n=ne([void 0,Ye(H(f))],c);continue e}default:throw new Error("unexpected state in SetTree.compareStacks")}}else{e=r,t=N(s),n=N(o);continue e}}}function lo(e,t,n){return t==null?n==null?0:-1:n==null?1:r0(e,Ke(t),Ke(n))|0}function s0(e,t,n){let r=n;Li(s=>{xt(t,r,s),r=r+1|0},e)}function o0(e,t,n){e:for(;;){const r=e,s=t,o=n;if(o["System.Collections.IEnumerator.MoveNext"]()){e=r,t=Ln(r,o["System.Collections.Generic.IEnumerator`1.get_Current"](),s),n=o;continue e}else return s}}function i0(e,t){return Sr((n,r)=>Ln(e,r,n),void 0,t)}function u0(e,t){return _n((n,r)=>Ln(e,r,n),void 0,t)}function l0(e,t){if(qe(t))return i0(e,t);if(t instanceof ze)return u0(e,t);{const n=Z(t);try{return o0(e,void 0,n)}finally{ie(n)}}}class Cs{constructor(t,n){this.comparer=t,this.tree=n}GetHashCode(){return f0(this)|0}Equals(t){let n;const r=this;return t instanceof Cs&&(n=t,lo(tr(r),at(r),at(n))===0)}toString(){return"set ["+yr("; ",vt(n=>st(n),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){const t=this;return Array.from(t)}CompareTo(t){const n=this;return lo(tr(n),at(n),at(t))|0}"System.Collections.Generic.ICollection`1.Add2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(t){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(t){const n=this;return Pi(tr(n),t,at(n))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(t,n){s0(at(this),t,n)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return Hr(this)|0}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return Hr(this)|0}GetEnumerator(){return uo(at(this))}[Symbol.iterator](){return fn(Z(this))}"System.Collections.IEnumerable.GetEnumerator"(){return uo(at(this))}get size(){return Hr(this)|0}add(t){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(t){throw new Error("Set cannot be mutated")}has(t){return a0(this,t)}keys(){return vt(n=>n,this)}values(){return vt(n=>n,this)}entries(){return vt(n=>[n,n],this)}forEach(t,n){const r=this;be(s=>{t(s,s,r)},r)}}function c0(e,t){return new Cs(e,t)}function tr(e){return e.comparer}function at(e){return e.tree}function Hr(e){return Jd(at(e))}function a0(e,t){return Pi(tr(e),t,at(e))}function f0(e){let t=0;const n=Z(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();t=(t<<1)+Mt(r)+631|0}}finally{ie(n)}return Math.abs(t)|0}function d0(e,t){return c0(t,l0(t,e))}function Cn(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?`
`:" ")+(JSON.stringify(t,null,4)+"")}catch{return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?`
`:" ")}}function h0(e,t){const n=t.tag===2?Cn(t.fields[0],t.fields[1],!0):t.tag===1?Cn(t.fields[0],t.fields[1],!1)+`
Reason: `+t.fields[2]:t.tag===3?Cn(t.fields[0],t.fields[1],!0):t.tag===4?Cn(t.fields[0],t.fields[1],!0)+("\nNode `"+t.fields[2]+"` is unkown."):t.tag===5?"Expecting "+t.fields[0]+`.
`+(JSON.stringify(t.fields[1],null,4)+""):t.tag===7?`The following errors were found:

`+yr(`

`,t.fields[0]):t.tag===6?"The following `failure` occurred with the decoder: "+t.fields[0]:Cn(t.fields[0],t.fields[1],!1);return t.tag===7?n:"Error at: `"+e+"`\n"+n}function $i(e,t,n){const r=t(e,n);if(r.tag===1){const s=r.fields[0];return new C(1,[h0(s[0],s[1])])}else return new C(0,[r.fields[0]])}function _0(e,t){try{return $i("$",e,JSON.parse(t))}catch(n){if(n instanceof SyntaxError)return new C(1,["Given an invalid JSON: "+n.message]);throw n}}function m0(e,t){const n=_0(e,t);if(n.tag===1)throw new Error(n.fields[0]);return n.fields[0]}function Hi(e,t){return typeof t=="string"?new C(0,[t]):new C(1,[[e,new I(0,["a string",t])]])}function p0(e,t){if(typeof t=="string"){const n=t;return n.length===1?new C(0,[n[0]]):new C(1,[[e,new I(0,["a single character string",t])]])}else return new C(1,[[e,new I(0,["a char",t])]])}function g0(e,t){if(typeof t=="string"){let n,r="00000000-0000-0000-0000-000000000000";return n=[Bd(t,new de(()=>r,s=>{r=s})),r],n[0]?new C(0,[n[1]]):new C(1,[[e,new I(0,["a guid",t])]])}else return new C(1,[[e,new I(0,["a guid",t])]])}function w0(e,t){return t==null?new C(0,[void 0]):new C(1,[[e,new I(0,["null",t])]])}const co=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-128<=s&&s<=127?new C(0,[(s+128&255)-128]):new C(1,[[n,new I(1,["a sbyte",s,"Value was either too large or too small for a sbyte"])]]):new C(1,[[n,new I(1,["a sbyte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!1,8,new de(()=>o,i=>{o=i|0})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new I(0,["a sbyte",r])]])}else return new C(1,[[n,new I(0,["a sbyte",r])]])},ao=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=255?new C(0,[s&255]):new C(1,[[n,new I(1,["a byte",s,"Value was either too large or too small for a byte"])]]):new C(1,[[n,new I(1,["a byte",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!0,8,new de(()=>o,i=>{o=i})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new I(0,["a byte",r])]])}else return new C(1,[[n,new I(0,["a byte",r])]])},fo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-32768<=s&&s<=32767?new C(0,[(s+32768&65535)-32768]):new C(1,[[n,new I(1,["an int16",s,"Value was either too large or too small for an int16"])]]):new C(1,[[n,new I(1,["an int16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!1,16,new de(()=>o,i=>{o=i|0})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new I(0,["an int16",r])]])}else return new C(1,[[n,new I(0,["an int16",r])]])},ho=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=65535?new C(0,[s&65535]):new C(1,[[n,new I(1,["an uint16",s,"Value was either too large or too small for an uint16"])]]):new C(1,[[n,new I(1,["an uint16",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!0,16,new de(()=>o,i=>{o=i})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new I(0,["an uint16",r])]])}else return new C(1,[[n,new I(0,["an uint16",r])]])},_o=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?-2147483648<=s&&s<=2147483647?new C(0,[~~s]):new C(1,[[n,new I(1,["an int",s,"Value was either too large or too small for an int"])]]):new C(1,[[n,new I(1,["an int",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!1,32,new de(()=>o,i=>{o=i|0})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new I(0,["an int",r])]])}else return new C(1,[[n,new I(0,["an int",r])]])},mo=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?0<=s&&s<=4294967295?new C(0,[s>>>0]):new C(1,[[n,new I(1,["an uint32",s,"Value was either too large or too small for an uint32"])]]):new C(1,[[n,new I(1,["an uint32",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0;return s=[pn(r,511,!0,32,new de(()=>o,i=>{o=i})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new I(0,["an uint32",r])]])}else return new C(1,[[n,new I(0,["an uint32",r])]])},y0=e=>t=>{const n=e,r=t;if(typeof r=="number"){const s=r;return isFinite(s)&&Math.floor(s)===s?Rs(-9223372036854775808n)<=s&&s<=Rs(9223372036854775807n)?new C(0,[Hn(Bu(s))]):new C(1,[[n,new I(1,["an int64",s,"Value was either too large or too small for an int64"])]]):new C(1,[[n,new I(1,["an int64",s,"Value is not an integral value"])]])}else if(typeof r=="string"){let s,o=0n;return s=[Zd(r,511,!1,64,new de(()=>o,i=>{o=i})),o],s[0]?new C(0,[s[1]]):new C(1,[[n,new I(0,["an int64",r])]])}else return new C(1,[[n,new I(0,["an int64",r])]])};function b0(e,t){return typeof t=="boolean"?new C(0,[t]):new C(1,[[e,new I(0,["a boolean",t])]])}function S0(e,t){return typeof t=="number"?new C(0,[t]):new C(1,[[e,new I(0,["a float",t])]])}function C0(e,t){return typeof t=="number"?new C(0,[t]):new C(1,[[e,new I(0,["a float32",t])]])}function M0(e,t){if(typeof t=="string"){let n,r=Ku();return n=[zu(t,new de(()=>r,s=>{r=s})),r],n[0]?new C(0,[Ju(n[1])]):new C(1,[[e,new I(0,["a datetime",t])]])}else return new C(1,[[e,new I(0,["a datetime",t])]])}function E0(e,t){if(typeof t=="string"){let n,r=Kd();return n=[zd(t,new de(()=>r,s=>{r=s})),r],n[0]?new C(0,[n[1]]):new C(1,[[e,new I(0,["a datetimeoffset",t])]])}else return new C(1,[[e,new I(0,["a datetime",t])]])}function x0(e,t){if(typeof t=="string"){let n,r=0;return n=[yf(t,new de(()=>r,s=>{r=s})),r],n[0]?new C(0,[n[1]]):new C(1,[[e,new I(0,["a timespan",t])]])}else return new C(1,[[e,new I(0,["a timespan",t])]])}function po(e,t,n,r){let s;const o=n+".["+Vt(e)+"]";if(Array.isArray(r)){const i=r;return e<i.length?t(o,V(e,i)):new C(1,[[o,new I(5,["a longer array. Need index `"+Vt(e)+"` but there are only `"+(s=i.length,Vt(s))+"` entries",r])]])}else return new C(1,[[o,new I(0,["an array",r])]])}function R0(e,t,n){return n==null?new C(0,[void 0]):Rt(Ve,e(t,n))}function go(e,t,n){if(Array.isArray(n)){let r=-1;return Rt(ds,Sr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+Vt(r)+"]",o);return i.tag===0?new C(0,[ft(i.fields[0],s.fields[0])]):new C(1,[i.fields[0]])}else return s},new C(0,[Je()]),n))}else return new C(1,[[t,new I(0,["a list",n])]])}function k0(e,t,n){if(Array.isArray(n)){let r=-1;return Rt(ec,Sr((s,o)=>{if(r=r+1|0,s.tag===0){const i=e(t+".["+Vt(r)+"]",o);return i.tag===0?new C(0,[ke([i.fields[0]],s.fields[0])]):new C(1,[i.fields[0]])}else return s},new C(0,[[]]),n))}else return new C(1,[[t,new I(0,["a seq",n])]])}function wo(e,t,n){if(Array.isArray(n)){let r=-1;const s=n;return Sr((o,i)=>{if(r=r+1|0,o.tag===0){const u=o.fields[0],l=e(t+".["+Vt(r)+"]",i);return l.tag===0?(xt(u,r,l.fields[0]),new C(0,[u])):new C(1,[l.fields[0]])}else return o},new C(0,[hn(new Array(s.length),0,s.length,null)]),s)}else return new C(1,[[t,new I(0,["an array",n])]])}function T0(e,t,n){return((s,o)=>{e:for(;;){const i=s,u=o;if(Y(i))return new C(1,[[t,new I(7,[u])]]);{const l=$i(t,Te(A(i)),n);if(l.tag===1){s=N(i),o=Xr(u,Ke(l.fields[0]));continue e}else return new C(0,[l.fields[0]])}}})(e,Je())}function v0(e,t,n){return new C(0,[e])}function yo(e,t,n,r){const s=t(n,r);return s.tag===0?e(s.fields[0],n,r):new C(1,[s.fields[0]])}function D0(e,t,n,r){const s=t(n,r);return s.tag===1?new C(1,[s.fields[0]]):new C(0,[e(s.fields[0])])}function I0(e,t){let n;const r=e;return n=s=>o=>po(0,r,s,o),s=>o=>yo(tu(i=>{let u;const l=t;return u=c=>f=>po(1,l,c,f),c=>f=>yo((d,_,p)=>v0([i,d]),Te(u),c,f)}),Te(n),s,o)}function V0(e){return Ec(e,{Compare:_t})}function F0(e){return d0(e,{Compare:_t})}function O0(e,t,n){return n!==null&&Object.getPrototypeOf(n||!1)===Object.prototype?Cl((r,s)=>{const o=r[0];return s.tag===0?Rt(i=>ft(i,s.fields[0]),r[1](t+"."+o)(n[o])):s},e,new C(0,[Je()])):new C(1,[[t,new I(0,["an object",n])]])}function A0(e,t,n,r){return r!==null&&Object.getPrototypeOf(r||!1)===Object.prototype?qo((s,o)=>{if(s.tag===0){const i=e(n,o);if(i.tag===0){const u=t(n+"."+o,r[o]);return u.tag===0?new C(0,[ft([i.fields[0],u.fields[0]],s.fields[0])]):new C(1,[u.fields[0]])}else return new C(1,[i.fields[0]])}else return s},new C(0,[Je()]),Object.keys(r)):new C(1,[[n,new I(0,["an object",r])]])}function Wi(e,t,n,r){let s;const o=t.length+e|0;if(o!==r.length)return new C(1,[[n,new I(6,[(s=r.length|0,cr(lr("Expected array of length %i but got %i"))(o)(s))])]]);{let i=new C(0,[Je()]);for(let u=e;u<=r.length-1;u++)if(i.tag===0){const l=i.fields[0],c=cr(lr("%s[%i]"))(n)(u),f=V(u-e,t),d=V(u,r);i=Rt(_=>ft(_,l),f(c)(d))}return Rt(ds,i)}}function bo(e,t,n,r,s,o){const i=Sl(u=>ls(u)===r,Su(n));if(i!=null){const u=i,l=fs(c=>tt(e,t,!1,c[1]),xu(u));return Rt(c=>Ru(u,Mr(c)),l.length===0&&o.length<=1?new C(0,[Je()]):Wi(1,l,s,o))}else return new C(1,[[s,new I(6,["Cannot find case "+r+" in "+he(n)])]])}function So(e,t,n,r){let s;const o=new de(rt());let i;const u=he(r);i=u===""?e:ni(u,o,e);let l;if(Eu(r)){const c=fs(f=>[Od(t,ls(f)),tt(i,t,!1,f[1])],ir(r));l=f=>d=>Rt(_=>ku(r,Mr(_)),O0(c,f,d))}else if(Mu(r))l=c=>f=>{if(typeof f=="string")return bo(i,t,r,f,c,[]);if(Array.isArray(f)){const d=f;return Ol(_=>bo(i,t,r,_,c,d),Hi(c+"[0]",V(0,d)))}else return new C(1,[[c,new I(0,["a string or array",f])]])};else if(n)l=c=>f=>new C(1,[[c,new I(2,["an extra coder for "+he(r),f])]]);else throw new Error((s=he(r),cr(lr(`Cannot generate auto decoder for %s. Please pass an extra decoder.

Documentation available at: https://thoth-org.github.io/Thoth.Json/documentation/auto/extra-coders.html#ready-to-use-extra-coders`))(s)));return o.contents=l,l}function tt(e,t,n,r){let s,o,i,u;const l=he(r),c=Cc(l,e);if(c==null)if(pu(r)){const f=tt(e,t,!1,pr(r));return d=>_=>wo(Te(f),d,_)}else if(Do(r))switch(he(yu(r))){case"System.SByte":return d=>_=>{const p=r,h=d,g=_,m=co(h)(g);if(m.tag===1)return new C(1,[m.fields[0]]);{const y=m.fields[0]|0;return zt(y,jt(p),{Equals:(E,S)=>E===S,GetHashCode:St})?new C(0,[Kt(p,y.toString())]):new C(1,[[h,new I(1,[he(p),g,"Unkown value provided for the enum"])]])}};case"System.Byte":return d=>_=>{const p=r,h=d,g=_,m=ao(h)(g);if(m.tag===1)return new C(1,[m.fields[0]]);{const y=m.fields[0];return zt(y,jt(p),{Equals:(E,S)=>E===S,GetHashCode:St})?new C(0,[Kt(p,y.toString())]):new C(1,[[h,new I(1,[he(p),g,"Unkown value provided for the enum"])]])}};case"System.Int16":return d=>_=>{const p=r,h=d,g=_,m=fo(h)(g);if(m.tag===1)return new C(1,[m.fields[0]]);{const y=m.fields[0]|0;return zt(y,jt(p),{Equals:(E,S)=>E===S,GetHashCode:St})?new C(0,[Kt(p,ji(y))]):new C(1,[[h,new I(1,[he(p),g,"Unkown value provided for the enum"])]])}};case"System.UInt16":return d=>_=>{const p=r,h=d,g=_,m=ho(h)(g);if(m.tag===1)return new C(1,[m.fields[0]]);{const y=m.fields[0];return zt(y,jt(p),{Equals:(E,S)=>E===S,GetHashCode:St})?new C(0,[Kt(p,y.toString())]):new C(1,[[h,new I(1,[he(p),g,"Unkown value provided for the enum"])]])}};case"System.Int32":return d=>_=>{const p=r,h=d,g=_,m=_o(h)(g);if(m.tag===1)return new C(1,[m.fields[0]]);{const y=m.fields[0]|0;return zt(y,jt(p),{Equals:(E,S)=>E===S,GetHashCode:St})?new C(0,[Kt(p,Vt(y))]):new C(1,[[h,new I(1,[he(p),g,"Unkown value provided for the enum"])]])}};case"System.UInt32":return d=>_=>{const p=r,h=d,g=_,m=mo(h)(g);if(m.tag===1)return new C(1,[m.fields[0]]);{const y=m.fields[0];return zt(y,jt(p),{Equals:(E,S)=>E===S,GetHashCode:St})?new C(0,[Kt(p,y.toString())]):new C(1,[[h,new I(1,[he(p),g,"Unkown value provided for the enum"])]])}};default:{const d=he(r),_=cl(lr(`Cannot generate auto decoder for %s.
Thoth.Json.Net only support the following enum types:
- sbyte
- byte
- int16
- uint16
- int
- uint32
If you can't use one of these types, please pass an extra decoder.
                    `))(d);return p=>_(p)}}else if(gu(r))if(Io(r)){const f=fs(d=>tt(e,t,!1,d),Cu(r));return d=>_=>Array.isArray(_)?Rt(p=>Tu(Mr(p)),Wi(0,f,d,_)):new C(1,[[d,new I(0,["an array",_])]])}else switch(he(wu(r))){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return s=tt(e,t,!0,V(0,Ct(r))),d=>_=>R0(Te(s),d,_);case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return o=tt(e,t,!1,V(0,Ct(r))),d=>_=>go(Te(o),d,_);case"System.Collections.Generic.IEnumerable`1[System.Object]":return i=tt(e,t,!1,V(0,Ct(r))),d=>_=>k0(Te(i),d,_);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const d=tt(e,t,!1,V(0,Ct(r))),_=tt(e,t,!1,V(1,Ct(r)));let p;const h=hs([g=>m=>A0(Te(d),Te(_),g,m),(u=I0(Te(d),Te(_)),g=>m=>go(Te(u),g,m))]);return p=g=>m=>T0(h,g,m),g=>m=>D0(V0,Te(p),g,m)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const d=tt(e,t,!1,V(0,Ct(r)));return _=>p=>{const h=wo(Te(d),_,p);return h.tag===0?new C(0,[F0(h.fields[0])]):new C(1,[h.fields[0]])}}default:return So(e,t,n,r)}else switch(l){case"System.Boolean":return f=>d=>b0(f,d);case"Microsoft.FSharp.Core.Unit":return f=>d=>w0(f,d);case"System.String":return f=>d=>Hi(f,d);case"System.Char":return f=>d=>p0(f,d);case"System.SByte":return co;case"System.Byte":return ao;case"System.Int16":return fo;case"System.UInt16":return ho;case"System.Int32":return _o;case"System.UInt32":return mo;case"System.Double":return f=>d=>S0(f,d);case"System.Single":return f=>d=>C0(f,d);case"System.DateTime":return f=>d=>M0(f,d);case"System.DateTimeOffset":return f=>d=>E0(f,d);case"System.TimeSpan":return f=>d=>x0(f,d);case"System.Guid":return f=>d=>g0(f,d);case"System.Object":return f=>d=>new C(0,[d]);default:return So(e,t,n,r)}else{const f=c;return d=>_=>f.contents(d)(_)}}function P0(e){return e!=null?Mc((t,n)=>new de(n[1]),e.Coders):ri({Compare:Eo})}function L0(e,t,n){let r,s;const o=w(t,new Di(0,[]));return Vd(Fd,(r=(s=he(e),st(o)+s),w(Vo(i=>i.Hash,n),"")+r),()=>tt(P0(n),o,!1,e))}class B0 extends U{constructor(t,n,r,s){super(),this.Texture=t,this.Rect=n,this.Offset=r,this.MetaData=s}}function $0(e){return $n("Imp.SpriteHelpers.Models.Layer`1",[e],B0,()=>[["Texture",us],["Rect",qc()],["Offset",Kc()],["MetaData",e]])}class H0 extends U{constructor(t){super(),this.Layers=t}}function W0(e){return $n("Imp.SpriteHelpers.Models.Frame`1",[e],H0,()=>[["Layers",is($0(e))]])}class U0 extends U{constructor(t,n){super(),this.Name=t,this.Frames=n}}function N0(e){return $n("Imp.SpriteHelpers.Models.SpriteInfo`1",[e],U0,()=>[["Name",us],["Frames",is(W0(e))]])}function Y0(e){return String(e)}const G0=new Ii("",ri({Compare:Eo})),X0=new Di(1,[]),Z0=new Ii((()=>$d())(),ni("System.Int64",[Y0,y0],G0.Coders));function j0(){let e,t,n,r,s;return oe((e=void 0,t=void 0,n=void 0,r=void 0,s=void 0,se(w(void 0,""),w(void 0,0),w(void 0,0),w(1,0),w(void 0,0),w(void 0,0),e??void 0,t??void 0,n??void 0,r??void 0,s??void 0)),o=>{const i=yi(wi(w(void 0,""),u=>{const l=u;return new kr(l.Time,l.Resolution,l.Offset,l.VertexBuffer,l.TextureDetails,l.TextureLayer,[0,10])}),u=>{const l=Vf(Ff(new kf(0,130,130)),c=>{let f;const d=c;(f=on(un(),p=>{let h,g,m;const y=p;(h=id("FrameRate"),T=>{T.push(new O(4,[h]))})(y);const E=y;(g=ud("DemoWindow"),T=>{T.push(new O(4,[g]))})(E);const S=E;(m=cd("DemoMouse"),T=>{T.push(new O(4,[m]))})(S);const v=ld("DemoMouse");S.push(new O(0,[v]))}),p=>{p.push(new O(2,[f]))})(d);const _=vd("SmallWorld");d.push(new O(4,[_]))});u.push(new O(2,[l]))});o.push(new O(3,[i]))})}function K0(){_r(_r()+1)}function q0(e,t){const n=xi(Se),r=e;r["Imp.Setup.DataManager.LoadString"]("sprites.json",s=>{const o=Z(m0(Te(L0(_u(N0(is(us))),X0,Z0)),s));try{for(;o["System.Collections.IEnumerator.MoveNext"]();){const i=o["System.Collections.Generic.IEnumerator`1.get_Current"]();n.set(i.Name,i);const u=i.Frames;for(let l=0;l<=u.length-1;l++){const c=V(l,u).Layers;for(let f=0;f<=c.length-1;f++)Iu(V(f,c).Texture,Ei(r))}}}finally{ie(o)}(()=>{t["Imp.Setup.Display.AttachInputZ2D84AEB6"](u=>{u.AttachKeyboard(),u.AttachGamepad(),u.AttachMouse()});const i=j0();t["Imp.Setup.Display.AttachView"](e,i,()=>{K0()}),t["Imp.Setup.Display.Run"]()})()})}const z0=Mf("data"),J0=Rf("App",800,600);q0(z0,J0);
